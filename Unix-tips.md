ä»»ä½•ä»£ç ä»–ä»¬çš„æŒ‡ä»¤éƒ½æ˜¯å°å†™å­—æ¯ç»„æˆï¼Œä¸ºäº†é¿å…æ­§ä¹‰ï¼Œæˆ‘ä»¬è‡ªå·±å®šä¹‰é‡å’Œå‡½æ•°æ—¶ï¼Œæœ€å¥½æ˜¯ç”¨å¤§å†™å­—æ¯æ¥è¡¨ç¤ºï¼›

æ¯ä¸ªæŒ‡ä»¤ä¹‹é—´éƒ½åº”è¯¥ç”¨ç©ºæ ¼éš”æ¥ï¼Œç±»ä¼¼ä»£ç åº”è¯¥å¯¹é½ä¹¦å†™ï¼Œæ³¨é‡Šè¦ç”¨tabé”®å°½é‡å¯¹é½ï¼Œä¸ä»…ç¾è§‚ï¼Œä¸”å¤§å¤§å¢åŠ äº†æ˜“è¯»æ€§ã€‚

[googleå¼€æºä»£ç ä¹¦å†™è§„èŒƒ](https://zh-google-styleguide.readthedocs.io/en/latest/contents/)
# é€šç”¨
## ä¸€ Unix æ–‡ä»¶ç³»ç»Ÿï¼š

å½“ç„¶ï¼ŒMacæœ‰è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œ2020å¹´ä¸ºAPFSï¼›Linuxä¹Ÿæ›´æ–°äº†è‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿï¼Œ2020å¹´ä¸ºZFSã€‚ä½†åŒä¸ºUnixå†…æ ¸ï¼Œå¾ˆå¤šæ–‡ä»¶çš„é€»è¾‘ä¾ç„¶ä¿æŒä¸€è‡´ï¼Œè¿™é‡Œåªè°ˆä¸€è‡´çš„é—®é¢˜ï¼Œä¸è°ˆå…·ä½“çš„æ–‡ä»¶ç³»ç»Ÿç‰¹æ€§ã€‚

1.Â [è®¤è¯† EXT2 æ–‡ä»¶ç³»ç»Ÿ](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk)  
ã€€ã€€1.1Â [ç¡¬ç›˜ç»„æˆä¸åˆ†å‰²çš„å¤ä¹ ](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-physical)  
ã€€ã€€1.2Â [æ–‡ä»¶ç³»ç»Ÿç‰¹æ€§](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-filesystem)ï¼šÂ [ç´¢å¼•å¼æ–‡ä»¶ç³»ç»Ÿ](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#indexed_allocation)  
ã€€ã€€1.3Â [Linux çš„ EXT2 æ–‡ä»¶ç³»ç»Ÿ(inode)](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-inode):Â [data block](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#block),Â [inode table](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#inode),Â [superblock](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#super_block),Â [dumpe2fs](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#dumpe2fs)  
ã€€ã€€1.4Â [ä¸ç›®å½•æ ‘çš„å…³ç³»](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-dir)  
ã€€ã€€1.5Â [EXT2/EXT3 æ–‡ä»¶çš„å­˜å–ä¸æ—¥å¿—å¼æ–‡ä»¶ç³»ç»Ÿçš„åŠŸèƒ½](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-journal)  
ã€€ã€€1.6Â [Linux æ–‡ä»¶ç³»ç»Ÿçš„è¿è¡Œ](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-filerun)  
ã€€ã€€1.7Â [æŒ‚è½½ç‚¹çš„æ„ä¹‰ (mount point)](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-mount)  
ã€€ã€€1.8Â [å…¶ä»– Linux æ”¯æŒçš„æ–‡ä»¶ç³»ç»Ÿä¸ VFS](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#harddisk-other)2.Â [æ–‡ä»¶ç³»ç»Ÿçš„ç®€å•æ“ä½œ](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#filesys)  
ã€€ã€€2.1Â [ç£ç›˜ä¸ç›®å½•çš„å®¹é‡ï¼š](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#filesys_1)Â [df](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#df),Â [du](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#du)  
ã€€ã€€2.2Â [å®ä½“é“¾æ¥ä¸ç¬¦å·é“¾æ¥ï¼š](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#link)Â [ln](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#ln)3.Â [ç£ç›˜çš„åˆ†å‰²ã€æ ¼å¼åŒ–ã€æ£€éªŒä¸æŒ‚è½½](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#disk)  
ã€€ã€€3.1Â [ç£ç›˜åˆ†åŒºï¼š fdisk](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#fdisk),Â [partprobe](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#partprobe)  
ã€€ã€€3.2Â [ç£ç›˜æ ¼å¼åŒ–ï¼š](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#format)Â [mkfs](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#mkfs),Â [mke2fs](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#mke2fs)  
ã€€ã€€3.3Â [ç£ç›˜æ£€éªŒï¼š fsck](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#fsck),Â [badblocks](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#badblocks)  
ã€€ã€€3.4Â [ç£ç›˜æŒ‚è½½ä¸å¸é™¤ï¼š mount](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#mount),Â [umount](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#umount)  
ã€€ã€€3.5Â [ç£ç›˜å‚æ•°ä¿®è®¢](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#diskpara)ï¼šÂ [mknod](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#mknod),Â [e2label](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#e2label),Â [tune2fs](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#tune2fs),Â [hdparm](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#hdparm)4.Â [é…ç½®å¯åŠ¨æŒ‚è½½ï¼š](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#bootup)  
ã€€ã€€4.1Â [å¯åŠ¨æŒ‚è½½ /etc/fstab åŠ /etc/mtab](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#fstab)  
ã€€ã€€4.2Â [ç‰¹æ®Šè£…ç½® loop æŒ‚è½½(æ˜ è±¡æ¡£ä¸åˆ»å½•å°±æŒ‚è½½ä½¿ç”¨)](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#loop)5.Â [å†…å­˜ç½®æ¢ç©ºé—´(swap)ä¹‹å»ºç½®ï¼š](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#swap)  
ã€€ã€€5.1Â [ä½¿ç”¨å®ä½“åˆ†å‰²æ§½å»ºç½®swap](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#swapdevice)  
ã€€ã€€5.2Â [ä½¿ç”¨æ–‡ä»¶å»ºç½®swap](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#swapfile)  
ã€€ã€€5.3Â [swapä½¿ç”¨ä¸Šçš„é™åˆ¶](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#swapuse)6.Â [æ–‡ä»¶ç³»ç»Ÿçš„ç‰¹æ®Šè§‚å¯Ÿä¸æ“ä½œ](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#special)  
ã€€ã€€6.1Â [boot sector ä¸ superblock çš„å…³ç³»](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#special_boot_sector)  
ã€€ã€€6.2Â [ç£ç›˜ç©ºé—´ä¹‹æµªè´¹é—®é¢˜](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#special_waste)  
ã€€ã€€6.3Â [åˆ©ç”¨ GNU çš„ parted è¿›è¡Œåˆ†å‰²è¡Œä¸º](http://cn.linux.vbird.org/linux_basic/0230filesystem.php#parted)

> windowsæ˜¯å…ˆæœ‰ç¡¬ç›˜åˆ†åŒºï¼Œå†æœ‰åˆ†åŒºä¸Šçš„ç›®å½•ã€‚
> linuxæ˜¯å…ˆæœ‰ç›®å½•ï¼Œå†æœ‰æ¯ä¸ªç›®å½•å¯¹åº”çš„åˆ†åŒºï¼Œè¿›å…¥ä¸€ä¸ªåˆ†åŒºçš„ç›®å½•å…¥å£å°±å«æŒ‚è½½ç‚¹ã€‚
> linuxä¸­ä¸æ˜¯æ¯ä¸ªç›®å½•éƒ½æ˜¯æŒ‚è½½ç‚¹ï¼Œé€šå¸¸åªè¦æ±‚æ ¹ç›®å½•/æ˜¯æŒ‚è½½ç‚¹ã€‚å…¶ä»–çš„ç›®å½•å¯ä»¥ç”¨æˆ·è‡ªå·±å†³å®šè¦ä¸è¦æŒ‚è½½å•ç‹¬çš„åˆ†åŒºï¼Œå¦‚æœä¸æŒ‚è½½ï¼Œè¿™ä¸ªç›®å½•å®é™…çš„å­˜å‚¨ä½ç½®å’Œå®ƒçš„çˆ¶ç›®å½•ç›¸åŒã€‚
>
> winå’Œlinuxçš„åŒºåˆ«ä¸»è¦æ˜¯æ–‡ä»¶ç»“æ„(ç›®å½•)å’Œç‰©ç†ç»“æ„(å­˜å‚¨)çš„ä¾§é‡ä¸åŒã€‚ç›®å½•åœ¨linuxé‡Œæ˜¯æ›´åŸºç¡€çš„æ¦‚å¿µï¼Œåœ¨ç›®å½•çš„åŸºç¡€ä¸Šå®‰æ’ç£ç›˜åˆ†åŒºã€‚winåˆ™æ˜¯ç›¸åã€‚

### ç¡¬ç›˜è®¾å¤‡/åˆ†åŒº/æ–‡ä»¶ç³»ç»Ÿ/æŒ‚è½½

**(1) ç£ç›˜è®¾å¤‡ï¼ˆ/dev/sdXï¼‰**
- ç‰©ç†ç£ç›˜ï¼ˆå¦‚ HDDã€SSDï¼‰åœ¨ Linux ä¸­è¡¨ç¤ºä¸ºÂ `/dev/sdX`ï¼ˆå¦‚Â `/dev/sda`,Â `/dev/sdb`ï¼‰ã€‚
- å¯ä»¥é€šè¿‡Â `lsblk`Â æˆ–Â `fdisk -l`Â æŸ¥çœ‹ã€‚

**(2) åˆ†åŒºï¼ˆPartitionï¼‰**
- ç£ç›˜å¯ä»¥åˆ’åˆ†æˆå¤šä¸ªåˆ†åŒºï¼ˆå¦‚Â `/dev/sdb1`,Â `/dev/sdb2`ï¼‰ã€‚
- ä½¿ç”¨Â `fdisk`/`gdisk`/`parted`Â ç®¡ç†ã€‚

**(3) é€»è¾‘å·ç®¡ç†ï¼ˆLVMï¼Œå¯é€‰ï¼‰**
- æ›´çµæ´»çš„å­˜å‚¨ç®¡ç†æ–¹å¼ï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´å¤§å°ã€å¿«ç…§ç­‰ã€‚
- æ¶‰åŠÂ **PVï¼ˆPhysical Volumeï¼‰**ã€**VGï¼ˆVolume Groupï¼‰**ã€**LVï¼ˆLogical Volumeï¼‰**ã€‚
- å…·ä½“è§ä¸‹é¢ç« èŠ‚ï¼šã€Šç¡¬ç›˜æ‰©å®¹ã€‹- ã€ŠLVMã€‹

**(4) RAIDï¼ˆå†—ä½™ç£ç›˜é˜µåˆ—ï¼‰**
- é€šè¿‡Â `mdadm`Â å®ç°Â **è½¯ä»¶ RAID**ï¼Œå°†å¤šä¸ªç£ç›˜ç»„åˆæˆä¸€ä¸ªé€»è¾‘è®¾å¤‡ï¼ˆå¦‚Â `/dev/md0`ï¼‰ã€‚
- æä¾›æ•°æ®å†—ä½™ï¼ˆRAID 1/5/6ï¼‰æˆ–æ€§èƒ½æå‡ï¼ˆRAID 0ï¼‰ã€‚
- å…·ä½“è§ä¸‹é¢ç« èŠ‚ï¼šã€Šlinux ç¡¬ç›˜raidã€‹

**(5) æ–‡ä»¶ç³»ç»Ÿï¼ˆFile Systemï¼‰**
- æ•°æ®å­˜å‚¨çš„æœ€ç»ˆç»„ç»‡å½¢å¼ï¼ˆå¦‚Â `ext4`ã€`xfs`ã€`btrfs`ï¼‰ã€‚
- å¿…é¡»Â **æ ¼å¼åŒ–**Â åæ‰èƒ½å­˜å‚¨æ–‡ä»¶ã€‚

**(6) æŒ‚è½½ï¼ˆMountï¼‰**
- å°†è®¾å¤‡ï¼ˆå¦‚Â `/dev/md0`ï¼‰å…³è”åˆ°ç›®å½•ï¼ˆå¦‚Â `/mnt/raid`ï¼‰ï¼Œæ‰èƒ½è®¿é—®å…¶ä¸­çš„æ–‡ä»¶ã€‚
- æŒ‚è½½ç‚¹ï¼ˆMount Pointï¼‰æ˜¯æ–‡ä»¶ç³»ç»Ÿçš„è®¿é—®å…¥å£ã€‚

---
 **2. ä¸ºä»€ä¹ˆéœ€è¦Â `/dev/md0`Â å’ŒÂ `/mnt/raid`Â ä¸¤ä¸ªæ­¥éª¤ï¼Ÿ**

|åç§°|ä½œç”¨|ç±»æ¯”|
|---|---|---|
|**`/dev/md0`**|RAID è®¾å¤‡æ–‡ä»¶ï¼ˆåŸå§‹å­˜å‚¨å—ï¼‰|ç›¸å½“äºä¸€ä¸ªâ€œæœªæ‹†å°çš„ç¡¬ç›˜â€|
|**`/mnt/raid`**|æŒ‚è½½ç‚¹ï¼ˆè®¿é—®æ–‡ä»¶çš„å…¥å£ï¼‰|ç›¸å½“äºâ€œæ’ä¸Šç¡¬ç›˜åçš„ç›˜ç¬¦ï¼ˆå¦‚ D:ï¼‰â€|

1. **`/dev/md0`Â æ˜¯ RAID è®¾å¤‡ï¼Œä½†ä¸æ˜¯æ–‡ä»¶ç³»ç»Ÿ**
    - å½“ä½ è¿è¡ŒÂ `sudo mdadm --create /dev/md0 ...`Â æ—¶ï¼Œåªæ˜¯åˆ›å»ºäº†ä¸€ä¸ªÂ **é€»è¾‘ç£ç›˜è®¾å¤‡**ï¼Œå®ƒè¿˜æ²¡æœ‰ï¼š
        - æ–‡ä»¶ç³»ç»Ÿï¼ˆå¦‚ ext4ï¼‰ã€‚
        - æŒ‚è½½ç‚¹ï¼ˆæ— æ³•ç›´æ¥è®¿é—®æ–‡ä»¶ï¼‰ã€‚
    - æ­¤æ—¶å¦‚æœç›´æ¥å°è¯•è®¿é—®Â `/dev/md0`ï¼Œç³»ç»Ÿä¼šæŠ¥é”™ï¼š
        `cd /dev/md0  # é”™è¯¯ï¼è¿™ä¸æ˜¯ç›®å½•ã€‚`
        
2. **`mkfs`Â æ ¼å¼åŒ–ï¼šè®©Â `/dev/md0`Â æ”¯æŒå­˜å‚¨æ–‡ä»¶**
    - `sudo mkfs.ext4 /dev/md0`Â ä¼šåœ¨Â `/dev/md0`Â ä¸Šåˆ›å»ºÂ **ext4 æ–‡ä»¶ç³»ç»Ÿ**ï¼Œä½¿å…¶èƒ½å­˜å‚¨æ–‡ä»¶å’Œç›®å½•ã€‚
    
3. **`mount`Â æŒ‚è½½ï¼šå…³è”è®¾å¤‡åˆ°ç›®å½•**
    - Linux æ²¡æœ‰â€œç›˜ç¬¦â€ï¼ˆå¦‚ Windows çš„Â `C:\`ã€`D:\`ï¼‰ï¼Œè€Œæ˜¯é€šè¿‡Â **æŒ‚è½½åˆ°ç›®å½•**Â è®¿é—®æ–‡ä»¶ã€‚
    - `sudo mount /dev/md0 /mnt/raid`Â çš„ä½œç”¨ï¼š
        - å°†Â `/dev/md0`Â çš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°Â `/mnt/raid`ã€‚
        - ä¹‹åæ‰€æœ‰å¯¹Â `/mnt/raid`Â çš„è¯»å†™æ“ä½œéƒ½ä¼šæ˜ å°„åˆ°Â `/dev/md0`ã€‚

#### Linuxå­˜å‚¨å±‚æ¬¡ç»“æ„
- **ç‰©ç†ç£ç›˜**ï¼šå¦‚Â `/dev/sda`ã€`/dev/sdb`ï¼ˆåŸå§‹å­˜å‚¨è®¾å¤‡ï¼‰
- **åˆ†åŒº**ï¼šç£ç›˜åˆ’åˆ†çš„é€»è¾‘å•å…ƒï¼ˆå¦‚Â `/dev/sda1`ï¼‰
- **é€»è¾‘å· (LVM)**ï¼š
    - ç‰©ç†å· (PV)ï¼šåˆ†åŒºæˆ–ç£ç›˜è¢«åˆå§‹åŒ–ä¸ºPVï¼ˆå¦‚Â `sda2`Â ç±»å‹ä¸ºÂ `LVM2_member`ï¼‰
    - å·ç»„ (VG)ï¼šå¤šä¸ªPVç»„åˆæˆVGï¼ˆæœªç›´æ¥æ˜¾ç¤ºï¼‰
    - é€»è¾‘å· (LV)ï¼šåœ¨VGä¸Šåˆ›å»ºçš„è™šæ‹Ÿåˆ†åŒºï¼ˆå¦‚Â `/dev/mapper/centos-root`ï¼‰
- **æ–‡ä»¶ç³»ç»Ÿ**ï¼šåœ¨åˆ†åŒºæˆ–LVä¸Šæ ¼å¼åŒ–ï¼ˆå¦‚Â `xfs`ã€`swap`ï¼‰
- **æŒ‚è½½**ï¼šå°†æ–‡ä»¶ç³»ç»Ÿé“¾æ¥åˆ°ç›®å½•ï¼ˆå¦‚Â `/`ã€`/home`ï¼‰

|å‘½ä»¤|ä½œç”¨å±‚çº§|å…³é”®ä¿¡æ¯|ä½¿ç”¨åœºæ™¯|
|---|---|---|---|
|**`fdisk -l`**|ç£ç›˜åˆ†åŒºè¡¨|åˆ†åŒºç‰©ç†ä¿¡æ¯ï¼ˆèµ·æ­¢æ‰‡åŒºã€å¤§å°ï¼‰|æŸ¥çœ‹ç£ç›˜åˆ†åŒºç»“æ„|
|**`lsblk -f`**|å—è®¾å¤‡æ‹“æ‰‘å…³ç³»|è®¾å¤‡æ ‘ã€æ–‡ä»¶ç³»ç»Ÿç±»å‹ã€æŒ‚è½½ç‚¹|å±•ç¤ºè®¾å¤‡é—´é€»è¾‘å…³ç³»|
|**`df -hT`**|å·²æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿä½¿ç”¨æƒ…å†µ|ç©ºé—´ä½¿ç”¨ç‡ã€æŒ‚è½½ç‚¹ã€æ–‡ä»¶ç³»ç»Ÿ|ç›‘æ§ç£ç›˜ç©ºé—´æ¶ˆè€—|

#### 1.Â `fdisk -l`ï¼šç£ç›˜åˆ†åŒºä¿¡æ¯
```bash
Disk /dev/sda: 53687.1 GB  # ç‰©ç†ç£ç›˜sdaï¼ˆ53.6TBï¼‰
   /dev/sda1  *  2048  2099199  1GB  83 Linux     # å¯åŠ¨åˆ†åŒºï¼ˆ/bootï¼‰
   /dev/sda2     2099200 209715199  50GB 8e Linux LVM  # LVMç‰©ç†å·
   /dev/sda3     209715200 419430399  50GB 8e Linux LVM # LVMç‰©ç†å·

Disk /dev/sdb: 107.4 GB    # ç¬¬äºŒå—ç£ç›˜ï¼ˆ107GBï¼‰
   /dev/sdb1      2048 209715199  50GB 8e Linux LVM    # LVMç‰©ç†å·
```
- **å…³é”®ç‚¹**ï¼š
    - `sda`Â æœ‰3ä¸ªåˆ†åŒºï¼Œ`sdb`Â æœ‰1ä¸ªåˆ†åŒºï¼Œå‡åŠ å…¥LVMã€‚
    - é€»è¾‘å·ï¼ˆå¦‚Â `/dev/mapper/centos-root`ï¼‰æ˜¯LVMåˆ›å»ºçš„è™šæ‹Ÿè®¾å¤‡ï¼Œä¸åœ¨åˆ†åŒºè¡¨ä¸­ç›´æ¥ç®¡ç†ã€‚

####  2.Â `lsblk -f`ï¼šå—è®¾å¤‡æ‹“æ‰‘ä¸æ–‡ä»¶ç³»ç»Ÿ
```bash
sda
â”œâ”€sda1 xfs               /boot    # ç‹¬ç«‹åˆ†åŒºï¼ˆ/bootï¼‰
â”œâ”€sda2 LVM2_member                 # ç‰©ç†å·PVï¼ˆsda2ï¼‰
â”‚ â”œâ”€centos-root xfs      /        # æ ¹é€»è¾‘å·ï¼ˆ150GBï¼‰
â”‚ â”œâ”€centos-swap swap     [SWAP]   # äº¤æ¢åˆ†åŒº
â”‚ â””â”€centos-home xfs      /home    # /homeé€»è¾‘å·ï¼ˆ142GBï¼‰
â””â”€sda3 LVM2_member                 # ç‰©ç†å·PVï¼ˆsda3ï¼‰
  â””â”€centos-home xfs      /home    # ä¸sda2çš„homeæ˜¯åŒä¸€LVï¼ˆè·¨PVï¼‰

sdb
â””â”€sdb1 LVM2_member                 # ç‰©ç†å·PVï¼ˆsdbï¼‰
  â””â”€centos-root xfs      /        # ä¸sda2çš„rootæ˜¯åŒä¸€LVï¼ˆè·¨PVï¼‰
```

- **å…³é”®ç‚¹**ï¼š
    - **LVMæ‰©å±•æ€§**ï¼š`centos-root`Â åŒæ—¶ä½¿ç”¨Â `sda2`Â å’ŒÂ `sdb1`Â çš„ç©ºé—´ï¼ˆè·¨ç£ç›˜æ‰©å±•ï¼‰ã€‚
    - **è·¨PVå­˜å‚¨**ï¼š`centos-home`Â åŒæ—¶ä½¿ç”¨Â `sda2`Â å’ŒÂ `sda3`Â çš„ç©ºé—´ã€‚
    - **UUIDå”¯ä¸€æ€§**ï¼šç›¸åŒUUIDï¼ˆå¦‚Â `32ab20e6...`ï¼‰è¡¨ç¤ºåŒä¸€é€»è¾‘å·ã€‚

#### 3.Â `df -hT`ï¼šæ–‡ä»¶ç³»ç»Ÿä½¿ç”¨æƒ…å†µ
```bash
/dev/mapper/centos-root xfs  150G  24G  127G  16% /     # æ ¹åˆ†åŒºä½¿ç”¨ç‡16%
/dev/mapper/centos-home xfs  142G  87G   55G  62% /home # /homeä½¿ç”¨ç‡62%
/dev/sda1              xfs 1014M 151M  864M  15% /boot  # å¯åŠ¨åˆ†åŒº
192.168.50.103:/home/data nfs4 965G 216G 749G 23% /nfs-data  # NFSç½‘ç»œå­˜å‚¨
overlay               overlay 150G 24G 127G 16% /var/lib/docker/... # Dockerå®¹å™¨
```
- **å…³é”®ç‚¹**ï¼š
    - **LVMç©ºé—´åˆ†é…**ï¼šæ ¹ç›®å½•ï¼ˆ`/`ï¼‰150GBæ¥è‡ªÂ `centos-root`ï¼ˆè·¨Â `sda2+sdb1`ï¼‰ã€‚
    - **é«˜ä½¿ç”¨ç‡ç›®å½•**ï¼š`/home`Â å ç”¨87GBï¼ˆ62%ï¼‰ï¼Œéœ€å…³æ³¨æ¸…ç†ã€‚
    - **ç‰¹æ®Šæ–‡ä»¶ç³»ç»Ÿ**ï¼š
        - `nfs4`ï¼šç½‘ç»œå­˜å‚¨
        - `overlay`ï¼šDockerå®¹å™¨åˆ†å±‚æ–‡ä»¶ç³»ç»Ÿï¼ˆå…±äº«å®¿ä¸»æœºçš„Â `/`Â ç©ºé—´ï¼‰
        - `tmpfs`ï¼šå†…å­˜è™šæ‹Ÿç£ç›˜ï¼ˆé‡å¯æ¶ˆå¤±ï¼‰

### ç›®å½•ç»“æ„

æ ¹æ®ä¸Šè¿°ç†è®ºï¼Œæ‰€ä»¥ç£ç›˜æ˜¯æŒ‚è½½åœ¨ç›®å½•åº•ä¸‹çš„ã€‚

 **[Linuxæ–‡ä»¶ç³»ç»Ÿ](http://cn.linux.vbird.org/linux_basic/0210filepermission_3.php)**ã€ [FHS](https://www.pathname.com/fhs/)ã€[æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„æ ‡å‡†ç»´åŸºç™¾ç§‘](https://zh.wikipedia.org/zh-cn/æ–‡ä»¶ç³»ç»Ÿå±‚æ¬¡ç»“æ„æ ‡å‡†)

* /(root, æ ¹ç›®å½•)ï¼šä¸å¼€æœºç³»ç»Ÿæœ‰å…³ï¼›
* /usr (unix software resource)ï¼šä¸è½¯ä»¶å®‰è£…/æ‰§è¡Œæœ‰å…³ï¼›
* /var (variable)ï¼šä¸ç³»ç»Ÿè¿ä½œè¿‡ç¨‹æœ‰å…³ã€‚
* /etcï¼šé…ç½®æ–‡ä»¶
* /binï¼šé‡è¦æ‰§è¡Œæ¡£
* /devï¼šæ‰€éœ€è¦çš„è£…ç½®æ–‡ä»¶
* /libï¼šæ‰§è¡Œæ¡£æ‰€éœ€çš„å‡½å¼åº“ä¸æ ¸å¿ƒæ‰€éœ€çš„æ¨¡å—
* /sbinï¼šé‡è¦çš„ç³»ç»Ÿæ‰§è¡Œæ–‡ä»¶
* /mntï¼š
* /swapï¼šè™šæ‹Ÿå†…å­˜ï¼ˆç¡¬ç›˜ä½œä¸ºå†…å­˜ï¼‰

### å¸¸è§é…ç½®æ–‡ä»¶

>`/etc/profile`
>
> åœ¨ç”¨æˆ·ç™»å½•æ—¶ï¼Œæ“ä½œç³»ç»Ÿå®šåˆ¶ç”¨æˆ·ç¯å¢ƒæ—¶ä½¿ç”¨çš„ç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªç”¨æˆ·è®¾ç½®ç¯å¢ƒä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç¬¬ä¸€æ¬¡ç™»å½•æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«æ‰§è¡Œã€‚
>
>`/etc /environment`
>
> åœ¨ç”¨æˆ·ç™»å½•æ—¶ï¼Œæ“ä½œç³»ç»Ÿä½¿ç”¨çš„ç¬¬äºŒä¸ªæ–‡ä»¶ï¼Œ ç³»ç»Ÿåœ¨è¯»å–ç”¨æˆ·ä¸ªäººçš„profileå‰ï¼Œè®¾ç½®ç¯å¢ƒæ–‡ä»¶çš„ç¯å¢ƒå˜é‡ã€‚
>
>`~/.profile`
>
> åœ¨ç”¨æˆ·ç™»å½•æ—¶ï¼Œç”¨åˆ°çš„ç¬¬ä¸‰ä¸ªæ–‡ä»¶ æ˜¯.profileæ–‡ä»¶ï¼Œæ¯ä¸ªç”¨æˆ·éƒ½å¯ä½¿ç”¨è¯¥æ–‡ä»¶è¾“å…¥ä¸“ç”¨äºè‡ªå·±ä½¿ç”¨çš„shellä¿¡æ¯ï¼Œå½“ç”¨æˆ·ç™»å½•æ—¶ï¼Œè¯¥æ–‡ä»¶ä»…ä»…æ‰§è¡Œä¸€æ¬¡ï¼é»˜è®¤æƒ…å†µä¸‹ï¼Œä¼šè®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡ï¼Œæ‰§è¡Œç”¨æˆ·çš„.bashrcæ–‡ä»¶ã€‚
>
>`/etc/bashrc`
>
> ä¸ºæ¯ä¸€ä¸ªè¿è¡Œbash shellçš„ç”¨æˆ·æ‰§è¡Œæ­¤æ–‡ä»¶ï¼Œå½“bash shellè¢«æ‰“å¼€æ—¶ï¼Œè¯¥æ–‡ä»¶è¢«è¯»å–ã€‚
>
>`~/.bashrc`
>
> è¯¥æ–‡ä»¶åŒ…å«ä¸“ç”¨äºç”¨æˆ·çš„bash shellçš„bashä¿¡æ¯ï¼Œå½“ç™»å½•æ—¶ä»¥åŠæ¯æ¬¡æ‰“å¼€æ–°çš„shellæ—¶ï¼Œè¯¥è¯¥æ–‡ä»¶è¢«è¯»å–ã€‚

ç”¨æˆ·æ–‡ä»¶å¤¹é‡Œåˆå¾ˆå¤š.æ–‡ä»¶ï¼Œè¿™äº›éƒ½æ˜¯ç³»ç»Ÿå’Œè½¯ä»¶é…ç½®ç›¸å…³çš„ï¼Œç³»ç»Ÿä¹Ÿä¼šæŠŠè¿™ç±»æ–‡ä»¶è®¾ä¸ºéšè—ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±åˆ›å»ºï¼Œä»¥ä¸ªæ€§åŒ–å®šåˆ¶appçš„è®¾ç½®ï¼ˆå°¤å…¶æ˜¯ä»¥ç»ˆç«¯ä¸ºå¯è§†åŒ–ç•Œé¢çš„è½¯ä»¶ï¼‰erâ€†qiã€‚ä»¥vimä¸ºä¾‹ï¼š

* /Users/zxll/.vimrc   #vimç”¨æˆ·é…ç½®æ–‡ä»¶
* /Users/zxll/.vim/    #vimç”¨æˆ·é…ç½®æ–‡ä»¶å¤¹

#### æ°¸ä¹…å…³é—­swapåˆ†åŒº

åœ¨/ etc / fstabä¸­æ‰¾åˆ°æœ‰å…³swapçš„è¡Œï¼Œå¹¶å¯¹å…¶è¿›è¡Œæ³¨é‡Šã€‚æ˜¯è¿™æ ·çš„ï¼š

```shell
UUID=6880a28d-a9dc-4bfb-ba47-0876b50e96b3 /               ext4    errors=remount-ro 0       1
UUID=7350e6f2-e3a7-4d80-9a95-8741c7db118f /home           ext4    defaults        0       2
UUID=E2E26AD1E26AAA0D /media/windows  ntfs    defaults,umask=007,gid=46 0       0

# Swap a usb extern (3.7 GB):
#/dev/sdb1 none swap sw 0 0
```

æ‚¨å¯ä»¥ä½¿ç”¨geditç¼–è¾‘è¯¥æ–‡ä»¶ã€‚é¦–å…ˆå¤‡ä»½å®ƒï¼Œä»¥é˜²ä¸‡ä¸€ï¼š

```shell
sudo cp /etc/fstab /etc/fstab_backup
gksu gedit /etc/fstab
```

åªéœ€åœ¨äº¤æ¢æ‰€åœ¨è¡Œçš„å¼€å¤´æ·»åŠ ï¼ƒï¼Œç„¶åé‡æ–°å¯åŠ¨è®¡ç®—æœºå³å¯ã€‚
### æ–‡ä»¶é“¾æ¥(éç¼–è¯‘é“¾æ¥)

ç¡¬é“¾æ¥æ˜¯æŒ‡é’ˆï¼Œæ‰€æœ‰çš„ç¡¬é“¾æ¥éƒ½æ˜¯æŒ‡å‘åŒä¸€ä¸ªç£ç›˜å—ã€‚ åˆ é™¤ä¸€ä¸ªæŒ‡é’ˆä¸ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶ï¼Œåªæœ‰æŠŠæ‰€æœ‰çš„æŒ‡é’ˆéƒ½åˆ é™¤æ‰ä¼šçœŸæ­£åˆ é™¤æ–‡ä»¶ã€‚ è½¯è¿æ¥æ˜¯å¦å¤–ä¸€ç§ç±»å‹çš„æ–‡ä»¶ï¼Œä¿å­˜çš„æ˜¯å®ƒæŒ‡å‘æ–‡ä»¶çš„å…¨è·¯å¾„ï¼Œ è®¿é—®æ—¶ä¼šæ›¿æ¢æˆç»å¯¹è·¯å¾„ã€‚å…·ä½“åº”ç”¨è§`mac`ä¸­çš„`é“¾æ¥åŠ¨æ€åº“`ä¸€èŠ‚ã€‚

```shell
man ln
#å¾—åˆ°ä¸‹é¢æè¿° ========
  æŒ‡ä»¤åç§° : ln
  ä½¿ç”¨æƒé™ : æ‰€æœ‰ä½¿ç”¨è€…
  ä½¿ç”¨æ–¹å¼ : ln [options] source distï¼Œå…¶ä¸­ option çš„æ ¼å¼ä¸º :
  [-bdfinsvF] [-S backup-suffix] [-V {numbered,existing,simple}]
  [--help] [--version] [--]
  è¯´æ˜ : Linux/Unix æ¡£æ¡ˆç³»ç»Ÿä¸­ï¼Œæœ‰æ‰€è°“çš„è¿ç»“(link)ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºæ¡£æ¡ˆçš„åˆ«åï¼Œè€Œè¿ç»“åˆå¯åˆ†ä¸ºä¸¤ç§ : ç¡¬è¿ç»“(hard link)ä¸è½¯è¿ç»“(symbolic link)ï¼Œç¡¬è¿ç»“çš„æ„æ€æ˜¯ä¸€ä¸ªæ¡£æ¡ˆå¯ä»¥æœ‰å¤šä¸ªåç§°ï¼Œè€Œè½¯è¿ç»“çš„æ–¹å¼åˆ™æ˜¯äº§ç”Ÿä¸€ä¸ªç‰¹æ®Šçš„æ¡£æ¡ˆï¼Œè¯¥æ¡£æ¡ˆçš„å†…å®¹æ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ¡£æ¡ˆçš„ä½ç½®ã€‚ç¡¬è¿ç»“æ˜¯å­˜åœ¨åŒä¸€ä¸ªæ¡£ æ¡ˆç³»ç»Ÿä¸­ï¼Œè€Œè½¯è¿ç»“å´å¯ä»¥è·¨è¶Šä¸åŒçš„æ¡£æ¡ˆç³»ç»Ÿã€‚
  ln source dist æ˜¯äº§ç”Ÿä¸€ä¸ªè¿ç»“(dist)åˆ° sourceï¼Œè‡³äºä½¿ç”¨ç¡¬è¿ç»“æˆ–è½¯é“¾ç»“åˆ™ç”±å‚æ•°å†³å®šã€‚
  ä¸è®ºæ˜¯ç¡¬è¿ç»“æˆ–è½¯é“¾ç»“éƒ½ä¸ä¼šå°†åŸæœ¬çš„æ¡£æ¡ˆå¤åˆ¶ä¸€ä»½ï¼Œåªä¼šå ç”¨éå¸¸å°‘é‡çš„ç£ç¢Ÿç©ºé—´ã€‚
  -f : é“¾ç»“æ—¶å…ˆå°†ä¸ dist åŒæ¡£åçš„æ¡£æ¡ˆåˆ é™¤
  -d : å…è®¸ç³»ç»Ÿç®¡ç†è€…ç¡¬é“¾ç»“è‡ªå·±çš„ç›®å½•
  -i : åœ¨åˆ é™¤ä¸ dist åŒæ¡£åçš„æ¡£æ¡ˆæ—¶å…ˆè¿›è¡Œè¯¢é—®
  -n : åœ¨è¿›è¡Œè½¯è¿ç»“æ—¶ï¼Œå°† dist è§†ä¸ºä¸€èˆ¬çš„æ¡£æ¡ˆ
  -s : è¿›è¡Œè½¯é“¾ç»“(symbolic link)
  -v : åœ¨è¿ç»“ä¹‹å‰æ˜¾ç¤ºå…¶æ¡£å
  -b : å°†åœ¨é“¾ç»“æ—¶ä¼šè¢«è¦†å†™æˆ–åˆ é™¤çš„æ¡£æ¡ˆè¿›è¡Œå¤‡ä»½
  -S SUFFIX : å°†å¤‡ä»½çš„æ¡£æ¡ˆéƒ½åŠ ä¸Š SUFFIX çš„å­—å°¾
  -V METHOD : æŒ‡å®šå¤‡ä»½çš„æ–¹å¼
  --help : æ˜¾ç¤ºè¾…åŠ©è¯´æ˜
  --version : æ˜¾ç¤ºç‰ˆæœ¬
```



## äºŒ å®ˆæŠ¤è¿›ç¨‹

### 1. å®ˆæŠ¤è¿›ç¨‹æ¦‚è¿°

Linux Daemonï¼ˆå®ˆæŠ¤è¿›ç¨‹ï¼‰æ˜¯è¿è¡Œåœ¨åå°çš„ä¸€ç§ç‰¹æ®Šè¿›ç¨‹ã€‚å®ƒç‹¬ç«‹äºæ§åˆ¶ç»ˆç«¯å¹¶ä¸”å‘¨æœŸæ€§åœ°æ‰§è¡ŒæŸç§ä»»åŠ¡æˆ–ç­‰å¾…å¤„ç†æŸäº›å‘ç”Ÿçš„äº‹ä»¶ã€‚å®ƒä¸éœ€è¦ç”¨æˆ·è¾“å…¥å°±èƒ½è¿è¡Œè€Œä¸”æä¾›æŸç§æœåŠ¡ï¼Œä¸æ˜¯å¯¹æ•´ä¸ªç³»ç»Ÿå°±æ˜¯å¯¹æŸä¸ªç”¨æˆ·ç¨‹åºæä¾›æœåŠ¡ã€‚Linuxç³»ç»Ÿçš„å¤§å¤šæ•°æœåŠ¡å™¨å°±æ˜¯é€šè¿‡å®ˆæŠ¤è¿›ç¨‹å®ç°çš„ã€‚å¸¸è§çš„å®ˆæŠ¤è¿›ç¨‹åŒ…æ‹¬ç³»ç»Ÿæ—¥å¿—è¿›ç¨‹syslogdã€ webæœåŠ¡å™¨httpdã€é‚®ä»¶æœåŠ¡å™¨sendmailå’Œæ•°æ®åº“æœåŠ¡å™¨mysqldç­‰ã€‚

å®ˆæŠ¤è¿›ç¨‹ä¸€èˆ¬åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶å¼€å§‹è¿è¡Œï¼Œé™¤éå¼ºè¡Œç»ˆæ­¢ï¼Œå¦åˆ™ç›´åˆ°ç³»ç»Ÿå…³æœºéƒ½ä¿æŒè¿è¡Œã€‚å®ˆæŠ¤è¿›ç¨‹ç»å¸¸ä»¥è¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰æƒé™è¿è¡Œï¼Œå› ä¸ºå®ƒä»¬è¦ä½¿ç”¨ç‰¹æ®Šçš„ç«¯å£ï¼ˆ1-1024ï¼‰æˆ–è®¿é—®æŸäº›ç‰¹æ®Šçš„èµ„æºã€‚

ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹çš„çˆ¶è¿›ç¨‹æ˜¯initè¿›ç¨‹ï¼Œå› ä¸ºå®ƒçœŸæ­£çš„çˆ¶è¿›ç¨‹åœ¨forkå‡ºå­è¿›ç¨‹åå°±å…ˆäºå­è¿›ç¨‹exité€€å‡ºäº†ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸€ä¸ªç”±initç»§æ‰¿çš„å­¤å„¿è¿›ç¨‹ã€‚å®ˆæŠ¤è¿›ç¨‹æ˜¯éäº¤äº’å¼ç¨‹åºï¼Œæ²¡æœ‰æ§åˆ¶ç»ˆç«¯ï¼Œæ‰€ä»¥ä»»ä½•è¾“å‡ºï¼Œæ— è®ºæ˜¯å‘æ ‡å‡†è¾“å‡ºè®¾å¤‡stdoutè¿˜æ˜¯æ ‡å‡†å‡ºé”™è®¾å¤‡stderrçš„è¾“å‡ºéƒ½éœ€è¦ç‰¹æ®Šå¤„ç†ã€‚

å®ˆæŠ¤è¿›ç¨‹çš„åç§°é€šå¸¸ä»¥dç»“å°¾ï¼Œæ¯”å¦‚sshdã€xinetdã€crondç­‰

### 2. åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ­¥éª¤

é¦–å…ˆæˆ‘ä»¬è¦äº†è§£ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼š

è¿›ç¨‹ç»„ ï¼š

> * æ¯ä¸ªè¿›ç¨‹ä¹Ÿå±äºä¸€ä¸ªè¿›ç¨‹ç»„ 
>
> - æ¯ä¸ªè¿›ç¨‹ä¸»éƒ½æœ‰ä¸€ä¸ªè¿›ç¨‹ç»„å·ï¼Œè¯¥å·ç­‰äºè¯¥è¿›ç¨‹ç»„ç»„é•¿çš„PIDå· .
> - ä¸€ä¸ªè¿›ç¨‹åªèƒ½ä¸ºå®ƒè‡ªå·±æˆ–å­è¿›ç¨‹è®¾ç½®è¿›ç¨‹ç»„IDå· 

ä¼šè¯æœŸï¼š 

> ä¼šè¯æœŸ(session)æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ç»„çš„é›†åˆã€‚

setsid()å‡½æ•°å¯ä»¥å»ºç«‹ä¸€ä¸ªå¯¹è¯æœŸï¼š

 å¦‚æœï¼Œè°ƒç”¨setsidçš„è¿›ç¨‹ä¸æ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„ç»„é•¿ï¼Œæ­¤å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„ä¼šè¯æœŸã€‚

> (1)æ­¤è¿›ç¨‹å˜æˆè¯¥å¯¹è¯æœŸçš„é¦–è¿›ç¨‹ 
>
> (2)æ­¤è¿›ç¨‹å˜æˆä¸€ä¸ªæ–°è¿›ç¨‹ç»„çš„ç»„é•¿è¿›ç¨‹ã€‚ 
>
> (3)æ­¤è¿›ç¨‹æ²¡æœ‰æ§åˆ¶ç»ˆç«¯ï¼Œå¦‚æœåœ¨è°ƒç”¨setsidå‰ï¼Œè¯¥è¿›ç¨‹æœ‰æ§åˆ¶ç»ˆç«¯ï¼Œé‚£ä¹ˆä¸è¯¥ç»ˆç«¯çš„è”ç³»è¢«è§£é™¤ã€‚ å¦‚æœè¯¥è¿›ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹ç»„çš„ç»„é•¿ï¼Œæ­¤å‡½æ•°è¿”å›é”™è¯¯ã€‚
>
> (4)ä¸ºäº†ä¿è¯è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å…ˆè°ƒç”¨fork()ç„¶åexit()ï¼Œæ­¤æ—¶åªæœ‰å­è¿›ç¨‹åœ¨è¿è¡Œ

ç°åœ¨æˆ‘ä»¬æ¥ç»™å‡ºåˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ‰€éœ€æ­¥éª¤ï¼š

ç¼–å†™å®ˆæŠ¤è¿›ç¨‹çš„ä¸€èˆ¬æ­¥éª¤æ­¥éª¤ï¼š
> ï¼ˆ1ï¼‰åœ¨çˆ¶è¿›ç¨‹ä¸­æ‰§è¡Œforkå¹¶exitæ¨å‡ºï¼›
> ï¼ˆ2ï¼‰åœ¨å­è¿›ç¨‹ä¸­è°ƒç”¨setsidå‡½æ•°åˆ›å»ºæ–°çš„ä¼šè¯ï¼›
> ï¼ˆ3ï¼‰åœ¨å­è¿›ç¨‹ä¸­è°ƒç”¨chdirå‡½æ•°ï¼Œè®©æ ¹ç›®å½• â€/â€ æˆä¸ºå­è¿›ç¨‹çš„å·¥ä½œç›®å½•ï¼›
> ï¼ˆ4ï¼‰åœ¨å­è¿›ç¨‹ä¸­è°ƒç”¨umaskå‡½æ•°ï¼Œè®¾ç½®è¿›ç¨‹çš„umaskä¸º0ï¼›
> ï¼ˆ5ï¼‰åœ¨å­è¿›ç¨‹ä¸­å…³é—­ä»»ä½•ä¸éœ€è¦çš„æ–‡ä»¶æè¿°ç¬¦

è¯´æ˜ï¼š

1. åœ¨åå°è¿è¡Œã€‚ 

   > ä¸ºé¿å…æŒ‚èµ·æ§åˆ¶ç»ˆç«¯å°†Daemonæ”¾å…¥åå°æ‰§è¡Œã€‚æ–¹æ³•æ˜¯åœ¨è¿›ç¨‹ä¸­è°ƒç”¨forkä½¿çˆ¶è¿›ç¨‹ç»ˆæ­¢ï¼Œè®©Daemonåœ¨å­è¿›ç¨‹ä¸­åå°æ‰§è¡Œã€‚ 
   > if(pid=fork()) 
   > exit(0);//æ˜¯çˆ¶è¿›ç¨‹ï¼Œç»“æŸçˆ¶è¿›ç¨‹ï¼Œå­è¿›ç¨‹ç»§ç»­ 

2. è„±ç¦»æ§åˆ¶ç»ˆç«¯ï¼Œç™»å½•ä¼šè¯å’Œè¿›ç¨‹ç»„ 

   > æœ‰å¿…è¦å…ˆä»‹ç»ä¸€ä¸‹Linuxä¸­çš„è¿›ç¨‹ä¸æ§åˆ¶ç»ˆç«¯ï¼Œç™»å½•ä¼šè¯å’Œè¿›ç¨‹ç»„ä¹‹é—´çš„å…³ç³»ï¼šè¿›ç¨‹å±äºä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œè¿›ç¨‹ç»„å·ï¼ˆGIDï¼‰å°±æ˜¯è¿›ç¨‹ç»„é•¿çš„è¿›ç¨‹å·ï¼ˆPIDï¼‰ã€‚ç™»å½•ä¼šè¯å¯ä»¥åŒ…å«å¤šä¸ªè¿›ç¨‹ç»„ã€‚è¿™äº›è¿›ç¨‹ç»„å…±äº«ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ã€‚è¿™ä¸ªæ§åˆ¶ç»ˆç«¯é€šå¸¸æ˜¯åˆ›å»ºè¿›ç¨‹çš„ç™»å½•ç»ˆç«¯ã€‚ 
   >    æ§åˆ¶ç»ˆç«¯ï¼Œç™»å½•ä¼šè¯å’Œè¿›ç¨‹ç»„é€šå¸¸æ˜¯ä»çˆ¶è¿›ç¨‹ç»§æ‰¿ä¸‹æ¥çš„ã€‚æˆ‘ä»¬çš„ç›®çš„å°±æ˜¯è¦æ‘†è„±å®ƒä»¬ï¼Œä½¿ä¹‹ä¸å—å®ƒä»¬çš„å½±å“ã€‚æ–¹æ³•æ˜¯åœ¨ç¬¬1ç‚¹çš„åŸºç¡€ä¸Šï¼Œè°ƒç”¨setsid()ä½¿è¿›ç¨‹æˆä¸ºä¼šè¯ç»„é•¿ï¼š 
   >    setsid(); 
   >    è¯´æ˜ï¼šå½“è¿›ç¨‹æ˜¯ä¼šè¯ç»„é•¿æ—¶setsid()è°ƒç”¨å¤±è´¥ã€‚ä½†ç¬¬ä¸€ç‚¹å·²ç»ä¿è¯è¿›ç¨‹ä¸æ˜¯ä¼šè¯ç»„é•¿ã€‚setsid()è°ƒç”¨æˆåŠŸåï¼Œè¿›ç¨‹æˆä¸ºæ–°çš„ä¼šè¯ç»„é•¿å’Œæ–°çš„è¿›ç¨‹ç»„é•¿ï¼Œå¹¶ä¸åŸæ¥çš„ç™»å½•ä¼šè¯å’Œè¿›ç¨‹ç»„è„±ç¦»ã€‚ç”±äºä¼šè¯è¿‡ç¨‹å¯¹æ§åˆ¶ç»ˆç«¯çš„ç‹¬å æ€§ï¼Œè¿›ç¨‹åŒæ—¶ä¸æ§åˆ¶ç»ˆç«¯è„±ç¦»ã€‚ 

3. ç¦æ­¢è¿›ç¨‹é‡æ–°æ‰“å¼€æ§åˆ¶ç»ˆç«¯ 

   > ç°åœ¨ï¼Œè¿›ç¨‹å·²ç»æˆä¸ºæ— ç»ˆç«¯çš„ä¼šè¯ç»„é•¿ã€‚ä½†å®ƒå¯ä»¥é‡æ–°ç”³è¯·æ‰“å¼€ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ã€‚å¯ä»¥é€šè¿‡ä½¿è¿›ç¨‹ä¸å†æˆä¸ºä¼šè¯ç»„é•¿æ¥ç¦æ­¢è¿›ç¨‹é‡æ–°æ‰“å¼€æ§åˆ¶ç»ˆç«¯ï¼š 
   > if(pid=fork()) 
   > exit(0);//ç»“æŸç¬¬ä¸€å­è¿›ç¨‹ï¼Œç¬¬äºŒå­è¿›ç¨‹ç»§ç»­ï¼ˆç¬¬äºŒå­è¿›ç¨‹ä¸å†æ˜¯ä¼šè¯ç»„é•¿ï¼‰ 

4. å…³é—­æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ 

   > è¿›ç¨‹ä»åˆ›å»ºå®ƒçš„çˆ¶è¿›ç¨‹é‚£é‡Œç»§æ‰¿äº†æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ã€‚å¦‚ä¸å…³é—­ï¼Œå°†ä¼šæµªè´¹ç³»ç»Ÿèµ„æºï¼Œé€ æˆè¿›ç¨‹æ‰€åœ¨çš„æ–‡ä»¶ç³»ç»Ÿæ— æ³•å¸ä¸‹ä»¥åŠå¼•èµ·æ— æ³•é¢„æ–™çš„é”™è¯¯ã€‚æŒ‰å¦‚ä¸‹æ–¹æ³•å…³é—­å®ƒä»¬ï¼š 
   > for(i=0;i å…³é—­æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦close(i);> 

5. æ”¹å˜å½“å‰å·¥ä½œç›®å½• 

   > è¿›ç¨‹æ´»åŠ¨æ—¶ï¼Œå…¶å·¥ä½œç›®å½•æ‰€åœ¨çš„æ–‡ä»¶ç³»ç»Ÿä¸èƒ½å¸ä¸‹ã€‚ä¸€èˆ¬éœ€è¦å°†å·¥ä½œç›®å½•æ”¹å˜åˆ°æ ¹ç›®å½•ã€‚å¯¹äºéœ€è¦è½¬å‚¨æ ¸å¿ƒï¼Œå†™è¿è¡Œæ—¥å¿—çš„è¿›ç¨‹å°†å·¥ä½œç›®å½•æ”¹å˜åˆ°ç‰¹å®šç›®å½•å¦‚/tmpchdir("/") 

6. é‡è®¾æ–‡ä»¶åˆ›å»ºæ©æ¨¡ 

   > è¿›ç¨‹ä»åˆ›å»ºå®ƒçš„çˆ¶è¿›ç¨‹é‚£é‡Œç»§æ‰¿äº†æ–‡ä»¶åˆ›å»ºæ©æ¨¡ã€‚å®ƒå¯èƒ½ä¿®æ”¹å®ˆæŠ¤è¿›ç¨‹æ‰€åˆ›å»ºçš„æ–‡ä»¶çš„å­˜å–ä½ã€‚ä¸ºé˜²æ­¢è¿™ä¸€ç‚¹ï¼Œå°†æ–‡ä»¶åˆ›å»ºæ©æ¨¡æ¸…é™¤ï¼šumask(0); 

7. å¤„ç†SIGCHLDä¿¡å· 

   > å¤„ç†SIGCHLDä¿¡å·å¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚ä½†å¯¹äºæŸäº›è¿›ç¨‹ï¼Œç‰¹åˆ«æ˜¯æœåŠ¡å™¨è¿›ç¨‹å¾€å¾€åœ¨è¯·æ±‚åˆ°æ¥æ—¶ç”Ÿæˆå­è¿›ç¨‹å¤„ç†è¯·æ±‚ã€‚å¦‚æœçˆ¶è¿›ç¨‹ä¸ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå­è¿›ç¨‹å°†æˆä¸ºåƒµå°¸è¿›ç¨‹ï¼ˆzombieï¼‰ä»è€Œå ç”¨ç³»ç»Ÿèµ„æºã€‚å¦‚æœçˆ¶è¿›ç¨‹ç­‰å¾…å­è¿›ç¨‹ç»“æŸï¼Œå°†å¢åŠ çˆ¶è¿›ç¨‹çš„è´Ÿæ‹…ï¼Œå½±å“æœåŠ¡å™¨è¿›ç¨‹çš„å¹¶å‘æ€§èƒ½ã€‚åœ¨Linuxä¸‹å¯ä»¥ç®€å•åœ°å°†SIGCHLDä¿¡å·çš„æ“ä½œè®¾ä¸ºSIG_IGNã€‚ 
   > signal(SIGCHLD,SIG_IGN); 
   > è¿™æ ·ï¼Œå†…æ ¸åœ¨å­è¿›ç¨‹ç»“æŸæ—¶ä¸ä¼šäº§ç”Ÿåƒµå°¸è¿›ç¨‹ã€‚è¿™ä¸€ç‚¹ä¸BSD4ä¸åŒï¼ŒBSD4ä¸‹å¿…é¡»æ˜¾å¼ç­‰å¾…å­è¿›ç¨‹ç»“æŸæ‰èƒ½é‡Šæ”¾åƒµå°¸è¿›ç¨‹ã€‚ 


### 3. åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹
åœ¨åˆ›å»ºä¹‹å‰æˆ‘ä»¬å…ˆäº†è§£setsid()ä½¿ç”¨ï¼š
```c
 #include <unistd.h>
	pid_t setsid(void);
```

> DESCRIPTION 
>  setsid() creates a new session if the calling process is not a process 
>  group leader. The calling process is the leader of the new session, 
>  the process group leader of the new process group, and has no control- 
>  ling tty. The process group ID and session ID of the calling process 
>  are set to the PID of the calling process. The calling process will be 
>  the only process in this new process group and in this new session.

//è°ƒç”¨è¿›ç¨‹å¿…é¡»æ˜¯éå½“å‰è¿›ç¨‹ç»„ç»„é•¿ï¼Œè°ƒç”¨åï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„ä¼šè¯æœŸï¼Œä¸”è¯¥ä¼šè¯æœŸä¸­åªæœ‰ä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œä¸”è¯¥è¿›ç¨‹ç»„ç»„é•¿ä¸ºè°ƒç”¨è¿›ç¨‹ï¼Œæ²¡æœ‰æ§åˆ¶ç»ˆç«¯ï¼Œæ–°äº§ç”Ÿçš„group ID å’Œ session ID è¢«è®¾ç½®æˆè°ƒç”¨è¿›ç¨‹çš„PID

> RETURN VALUE 
>  On success, the (new) session ID of the calling process is returned. 
>  On error, (pid_t) -1 is returned, and errno is set to indicate the 
>  error.

ç°åœ¨æ ¹æ®ä¸Šè¿°æ­¥éª¤åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼š

ä»¥ä¸‹ç¨‹åºæ˜¯åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼Œç„¶ååˆ©ç”¨è¿™ä¸ªå®ˆæŠ¤è¿›ç¨‹æ¯ä¸ªä¸€åˆ†é’Ÿå‘daemon.logæ–‡ä»¶ä¸­å†™å…¥å½“å‰æ—¶é—´ï¼š

```c
#include <stdio.h>
#include <unistd.h>
#include <stdlib.h>
#include <time.h>
#include <fcntl.h>
#include <string.h>
#include <sys/stat.h>

#define ERR_EXIT(m) \
do\
{\
    perror(m);\
    exit(EXIT_FAILURE);\
}\
while (0);\

void creat_daemon(void);
int main(void)
{
    time_t t;
    int fd;
    creat_daemon();
    while(1){
        fd = open("daemon.log",O_WRONLY|O_CREAT|O_APPEND,0644);
        if(fd == -1)
            ERR_EXIT("open error");
        t = time(0);
        char *buf = asctime(localtime(&t));
        write(fd,buf,strlen(buf));
        close(fd);
        sleep(60);
            
    }
    return 0;
}
void creat_daemon(void)
{
    pid_t pid;
    pid = fork();
    if( pid == -1)
        ERR_EXIT("fork error");
    if(pid > 0 )
        exit(EXIT_SUCCESS);
    if(setsid() == -1)
        ERR_EXIT("SETSID ERROR");
    chdir("/");
    int i;
    for( i = 0; i < 3; ++i)
    {
        close(i);
        open("/dev/null", O_RDWR);
        dup(0);
        dup(0);
    }
    umask(0);
    return;
}
```


ç»“æœï¼š

[![QQæˆªå›¾20130713184143](https://images0.cnblogs.com/blog/529981/201307/13191708-dc3544d132f64360a4b6ccb54d936958.png)](https://images0.cnblogs.com/blog/529981/201307/13191708-0a54178e53cb4b4b9beaf0962d2415fb.png)

ç»“æœæ˜¾ç¤ºï¼šå½“æˆ‘ä¸€æ™®é€šç”¨æˆ·æ‰§è¡Œa.outæ—¶ï¼Œè¿›ç¨‹è¡¨ä¸­å¹¶æ²¡æœ‰å‡ºç°æ–°åˆ›å»ºçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œä½†å½“æˆ‘ä»¥rootç”¨æˆ·æ‰§è¡Œæ—¶ï¼ŒæˆåŠŸäº†ï¼Œå¹¶åœ¨/ç›®å½•ä¸‹åˆ›å»ºäº†daemon.logæ–‡ä»¶ï¼ŒcatæŸ¥çœ‹åç¡®å®æ¯ä¸ªä¸€åˆ†é’Ÿå†™å…¥ä¸€æ¬¡ã€‚ä¸ºä»€ä¹ˆåªèƒ½rootæ‰§è¡Œï¼Œé‚£æ˜¯å› ä¸ºå½“æˆ‘ä»¬åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ—¶ï¼Œå·²ç»å°†å½“å‰ç›®å½•åˆ‡æ¢æˆ‘/ç›®å½•ï¼Œæ‰€ä»¥å½“æˆ‘ä¹‹ååˆ›å»ºdaemon.logæ–‡ä»¶æ˜¯å…¶å®æ˜¯åœ¨/ç›®å½•ä¸‹ï¼Œé‚£è‚¯å®šä¸è¡Œï¼Œå› ä¸ºæ™®é€šç”¨æˆ·æ²¡æœ‰æƒé™ï¼Œæˆ–è®¸ä½ ä¼šé—®é‚£ä¸ºå•¥æ²¡æŠ¥é”™å‘¢ï¼Ÿå…¶å®æ˜¯æœ‰å‡ºé”™ï¼Œåªä¸è¿‡æˆ‘ä»¬åœ¨åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æ—¶å·²ç»å°†æ ‡å‡†è¾“å…¥å…³é—­å¹¶é‡å®šå‘åˆ°/dev/nullï¼Œæ‰€ä»¥çœ‹ä¸åˆ°é”™è¯¯ä¿¡æ¯ã€‚

## ä¸‰ shellå‘½ä»¤

### å¸¸ç”¨
```shell
uname #æŸ¥çœ‹è®¡ç®—æœºç±»å‹ç­‰ç³»ç»Ÿä¿¡æ¯

# ç³»ç»Ÿèµ„æºç®¡ç†å™¨
top

# æŸ¥çœ‹ç”¨æˆ·ç»„
groups
# æŸ¥çœ‹ç”¨æˆ·ç»„ï¼ˆæ›´å…¨ï¼‰
# cat /etc/group

chsh -s /bin/zsh    #è®¾ç½®é»˜è®¤shellä¸ºzsh

env  #æŸ¥çœ‹ç³»ç»Ÿå…¨éƒ¨ç¯å¢ƒå˜é‡
echo $path #ä»…æŸ¥çœ‹path
env|grep PATH #åŒæ ·ä»…æŸ¥çœ‹path

whereis zsh #è¿”å›äºŒè¿›åˆ¶ã€manæ–‡ä»¶ã€srcæ–‡ä»¶ç­‰è·¯å¾„
which zsh #shellçš„pathä¸­çš„äºŒè¿›åˆ¶æ–‡ä»¶è·¯å¾„

man ln #æŸ¥çœ‹lnè¿™ä¸ªæŒ‡ä»¤çš„è¯´æ˜æ–‡æ¡£
```

### ç³»ç»Ÿæ—¶é—´

- timedatectl
- sntp
- chrony

| ç‰¹æ€§/å·¥å…·      | `timedatectl`            | `sntp`                   | `ntpq`                  | `ntpdate`Â (å·²å¼ƒç”¨)         | `chrony`Â (`chronyd`/`chronyc`) |
| ---------- | ------------------------ | ------------------------ | ----------------------- | ----------------------- | ------------------------------ |
| **æ ¸å¿ƒå®šä½**   | ç³»ç»Ÿæ—¶é—´/æ—¥æœŸ/æ—¶åŒº/NTPå¼€å…³**ç®¡ç†å‰ç«¯** | è½»é‡çº§**ä¸€æ¬¡æ€§NTPå®¢æˆ·ç«¯**         | **ç›‘æ§è¯Šæ–­å·¥å…·**Â (é’ˆå¯¹Â `ntpd`)  | **è¿‡æ—¶**çš„ä¸€æ¬¡æ€§NTPè®¾ç½®å·¥å…·       | **ç°ä»£NTPå®¢æˆ·ç«¯/æœåŠ¡å™¨å®ç°å¥—ä»¶**           |
| **æ˜¯å¦æŒç»­åŒæ­¥** | âŒ (æ§åˆ¶èƒŒåçš„æœåŠ¡)              | âŒ (è¿è¡Œä¸€æ¬¡é€€å‡º)               | âŒ (æŸ¥è¯¢å·¥å…·)                | âŒ (è¿è¡Œä¸€æ¬¡é€€å‡º)              | âœ… (`chronyd`Â æ˜¯å®ˆæŠ¤è¿›ç¨‹)            |
| **ä¸»è¦åŠŸèƒ½**   | æŸ¥çœ‹/è®¾ç½®æ—¶é—´ã€æ—¶åŒºã€RTCã€NTPå¼€å…³     | æŸ¥è¯¢NTPæœåŠ¡å™¨ã€ä¸€æ¬¡æ€§è®¾ç½®ç³»ç»Ÿæ—¶é—´       | æŸ¥è¯¢/ç›‘æ§/è¯Šæ–­Â `ntpd`Â çŠ¶æ€      | å¼ºåˆ¶ä¸€æ¬¡æ€§è®¾ç½®ç³»ç»Ÿæ—¶é—´ (è·³å˜)        | æŒç»­NTPåŒæ­¥ã€æ—¶é’Ÿæ¼‚ç§»è¡¥å¿ã€NTPæœåŠ¡å™¨          |
| **æ—¶é—´è°ƒæ•´æ–¹å¼** | N/A                      | å¯é…ç½®æ­¥è¿›(Step)æˆ–å€¾æ–œ(Slew)     | N/A                     | **å¼ºåˆ¶æ­¥è¿›(Step) è·³å˜**       | **ä¼˜å…ˆå€¾æ–œ(Slew)**ï¼Œå‡å°‘è·³å˜            |
| **å®ˆæŠ¤è¿›ç¨‹**   | âŒ                        | âŒ                        | âŒ                       | âŒ                       | âœ… (`chronyd`)                  |
| **ç›‘æ§å·¥å…·**   | åŸºæœ¬çŠ¶æ€ (`status`)          | âŒ                        | âœ… (è‡ªèº«å°±æ˜¯å·¥å…·)              | âŒ                       | âœ… (`chronyc`)                  |
| **ç½‘ç»œä¸­æ–­å¤„ç†** | N/A                      | N/A                      | N/A                     | N/A                     | âœ… (åˆ©ç”¨å†å²æ¼‚ç§»ç‡ä¼°ç®—)                  |
| **å¯åŠ¨åŒæ­¥é€Ÿåº¦** | N/A                      | âœ… (å¿«)                    | N/A                     | âœ… (å¿«ï¼Œä½†æœ‰è·³å˜é£é™©)            | âœ…âœ… (éå¸¸å¿«ï¼Œè®¾è®¡ç›®æ ‡ä¹‹ä¸€)                |
| **èµ„æºå ç”¨**   | å¾ˆä½                       | å¾ˆä½                       | ä½                       | ä½                       | ä½åˆ°ä¸­ç­‰                           |
| **ç°ä»£æ¨èåº¦**  | âœ…âœ… (ç®¡ç†é¦–é€‰)                | âœ… (æ›¿ä»£Â `ntpdate`ï¼Œ ç”¨äºç®€å•åœºæ™¯) | âš ï¸ (ä¸»è¦ç”¨äºé—ç•™Â `ntpd`Â ç³»ç»Ÿè¯Šæ–­) | âŒ (é¿å…ä½¿ç”¨)                | âœ…âœ…âœ… (é»˜è®¤é¦–é€‰å®ç°)                   |
| **å…¸å‹ä½¿ç”¨åœºæ™¯** | æ—¥å¸¸æ—¶é—´/æ—¶åŒºæŸ¥çœ‹è®¾ç½®ï¼Œå¯ç”¨NTPåŒæ­¥      | è„šæœ¬ã€åµŒå…¥å¼è®¾å¤‡ã€å¿«é€Ÿä¸€æ¬¡æ€§åŒæ­¥         | è¯Šæ–­ä¼ ç»ŸÂ `ntpd`Â æœåŠ¡é—®é¢˜        | **æ— **Â (ä½¿ç”¨Â `sntp`Â æˆ–å®ˆæŠ¤è¿›ç¨‹) | æœåŠ¡å™¨ã€æ¡Œé¢ã€ç¬”è®°æœ¬ã€è™šæ‹Ÿæœºç­‰æ‰€æœ‰åœºæ™¯            |

```bash
# timedatectl
timedatectl set-timezone Asia/Shanghai
timedatectl set-ntp true
timedatectl status

# chronyd
sudo apt install chronyd
systemctl restart chronyd.service
chronyc tracking
chronyc sources

timedatectl status
```

### æƒé™

Linux chmodï¼ˆè‹±æ–‡å…¨æ‹¼ï¼šchange modeï¼‰å‘½ä»¤æ˜¯æ§åˆ¶ç”¨æˆ·å¯¹æ–‡ä»¶çš„æƒé™çš„å‘½ä»¤

Linux/Unix çš„æ–‡ä»¶è°ƒç”¨æƒé™åˆ†ä¸ºä¸‰çº§ : æ–‡ä»¶æ‰€æœ‰è€…ï¼ˆOwnerï¼‰ã€ç”¨æˆ·ç»„ï¼ˆGroupï¼‰ã€å…¶å®ƒç”¨æˆ·ï¼ˆOther Usersï¼‰ã€‚

![img](https://www.runoob.com/wp-content/uploads/2014/08/file-permissions-rwx.jpg)

åªæœ‰æ–‡ä»¶æ‰€æœ‰è€…å’Œè¶…çº§ç”¨æˆ·å¯ä»¥ä¿®æ”¹æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ã€‚å¯ä»¥ä½¿ç”¨ç»å¯¹æ¨¡å¼ï¼ˆå…«è¿›åˆ¶æ•°å­—æ¨¡å¼ï¼‰ï¼Œç¬¦å·æ¨¡å¼æŒ‡å®šæ–‡ä»¶çš„æƒé™ã€‚

![img](https://www.runoob.com/wp-content/uploads/2014/08/rwx-standard-unix-permission-bits.png)

**ä½¿ç”¨æƒé™** : æ‰€æœ‰ä½¿ç”¨è€…

#### è¯­æ³•

```shell
chmod [-cfvR] [--help] [--version] mode file...
```

mode : æƒé™è®¾å®šå­—ä¸²ï¼Œæ ¼å¼å¦‚ä¸‹ :

```shell
[ugoa...][[+-=][rwxX]...][,...]
```

å…¶ä¸­ï¼š

- u è¡¨ç¤ºè¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…ï¼Œg è¡¨ç¤ºä¸è¯¥æ–‡ä»¶çš„æ‹¥æœ‰è€…å±äºåŒä¸€ä¸ªç¾¤ä½“(group)è€…ï¼Œo è¡¨ç¤ºå…¶ä»–ä»¥å¤–çš„äººï¼Œa è¡¨ç¤ºè¿™ä¸‰è€…çš†æ˜¯ã€‚
- \+ è¡¨ç¤ºå¢åŠ æƒé™ã€- è¡¨ç¤ºå–æ¶ˆæƒé™ã€= è¡¨ç¤ºå”¯ä¸€è®¾å®šæƒé™ã€‚
- r è¡¨ç¤ºå¯è¯»å–ï¼Œw è¡¨ç¤ºå¯å†™å…¥ï¼Œx è¡¨ç¤ºå¯æ‰§è¡Œï¼ŒX è¡¨ç¤ºåªæœ‰å½“è¯¥æ–‡ä»¶æ˜¯ä¸ªå­ç›®å½•æˆ–è€…è¯¥æ–‡ä»¶å·²ç»è¢«è®¾å®šè¿‡ä¸ºå¯æ‰§è¡Œã€‚

å…¶ä»–å‚æ•°è¯´æ˜ï¼š

- -c : è‹¥è¯¥æ–‡ä»¶æƒé™ç¡®å®å·²ç»æ›´æ”¹ï¼Œæ‰æ˜¾ç¤ºå…¶æ›´æ”¹åŠ¨ä½œ
- -f : è‹¥è¯¥æ–‡ä»¶æƒé™æ— æ³•è¢«æ›´æ”¹ä¹Ÿä¸è¦æ˜¾ç¤ºé”™è¯¯è®¯æ¯
- -v : æ˜¾ç¤ºæƒé™å˜æ›´çš„è¯¦ç»†èµ„æ–™
- -R : å¯¹ç›®å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ä¸å­ç›®å½•è¿›è¡Œç›¸åŒçš„æƒé™å˜æ›´(å³ä»¥é€’å½’çš„æ–¹å¼é€ä¸ªå˜æ›´)
- --help : æ˜¾ç¤ºè¾…åŠ©è¯´æ˜
- --version : æ˜¾ç¤ºç‰ˆæœ¬

#### ç¬¦å·æ¨¡å¼

ä½¿ç”¨ç¬¦å·æ¨¡å¼å¯ä»¥è®¾ç½®å¤šä¸ªé¡¹ç›®ï¼šwhoï¼ˆç”¨æˆ·ç±»å‹ï¼‰ï¼Œoperatorï¼ˆæ“ä½œç¬¦ï¼‰å’Œ permissionï¼ˆæƒé™ï¼‰ï¼Œæ¯ä¸ªé¡¹ç›®çš„è®¾ç½®å¯ä»¥ç”¨é€—å·éš”å¼€ã€‚ å‘½ä»¤ chmod å°†ä¿®æ”¹ who æŒ‡å®šçš„ç”¨æˆ·ç±»å‹å¯¹æ–‡ä»¶çš„è®¿é—®æƒé™ï¼Œç”¨æˆ·ç±»å‹ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—æ¯åœ¨ who çš„ä½ç½®æ¥è¯´æ˜ï¼Œå¦‚ who çš„ç¬¦å·æ¨¡å¼è¡¨æ‰€ç¤º:

| who  | ç”¨æˆ·ç±»å‹ | è¯´æ˜                   |
| :--- | :------- | :--------------------- |
| `u`  | user     | æ–‡ä»¶æ‰€æœ‰è€…             |
| `g`  | group    | æ–‡ä»¶æ‰€æœ‰è€…æ‰€åœ¨ç»„       |
| `o`  | others   | æ‰€æœ‰å…¶ä»–ç”¨æˆ·           |
| `a`  | all      | æ‰€ç”¨ç”¨æˆ·, ç›¸å½“äº *ugo* |

operator çš„ç¬¦å·æ¨¡å¼è¡¨:

| Operator | è¯´æ˜                                                   |
| :------- | :----------------------------------------------------- |
| `+`      | ä¸ºæŒ‡å®šçš„ç”¨æˆ·ç±»å‹å¢åŠ æƒé™                               |
| `-`      | å»é™¤æŒ‡å®šç”¨æˆ·ç±»å‹çš„æƒé™                                 |
| `=`      | è®¾ç½®æŒ‡å®šç”¨æˆ·æƒé™çš„è®¾ç½®ï¼Œå³å°†ç”¨æˆ·ç±»å‹çš„æ‰€æœ‰æƒé™é‡æ–°è®¾ç½® |

permission çš„ç¬¦å·æ¨¡å¼è¡¨:

| æ¨¡å¼ | åå­—         | è¯´æ˜                                                         |
| :--- | :----------- | :----------------------------------------------------------- |
| `r`  | è¯»           | è®¾ç½®ä¸ºå¯è¯»æƒé™                                               |
| `w`  | å†™           | è®¾ç½®ä¸ºå¯å†™æƒé™                                               |
| `x`  | æ‰§è¡Œæƒé™     | è®¾ç½®ä¸ºå¯æ‰§è¡Œæƒé™                                             |
| `X`  | ç‰¹æ®Šæ‰§è¡Œæƒé™ | åªæœ‰å½“æ–‡ä»¶ä¸ºç›®å½•æ–‡ä»¶ï¼Œæˆ–è€…å…¶ä»–ç±»å‹çš„ç”¨æˆ·æœ‰å¯æ‰§è¡Œæƒé™æ—¶ï¼Œæ‰å°†æ–‡ä»¶æƒé™è®¾ç½®å¯æ‰§è¡Œ |
| `s`  | setuid/gid   | å½“æ–‡ä»¶è¢«æ‰§è¡Œæ—¶ï¼Œæ ¹æ®whoå‚æ•°æŒ‡å®šçš„ç”¨æˆ·ç±»å‹è®¾ç½®æ–‡ä»¶çš„setuidæˆ–è€…setgidæƒé™ |
| `t`  | ç²˜è´´ä½       | è®¾ç½®ç²˜è´´ä½ï¼Œåªæœ‰è¶…çº§ç”¨æˆ·å¯ä»¥è®¾ç½®è¯¥ä½ï¼Œåªæœ‰æ–‡ä»¶æ‰€æœ‰è€…uå¯ä»¥ä½¿ç”¨è¯¥ä½ |

#### å…«è¿›åˆ¶è¯­æ³•

chmodå‘½ä»¤å¯ä»¥ä½¿ç”¨å…«è¿›åˆ¶æ•°æ¥æŒ‡å®šæƒé™ã€‚æ–‡ä»¶æˆ–ç›®å½•çš„æƒé™ä½æ˜¯ç”±9ä¸ªæƒé™ä½æ¥æ§åˆ¶ï¼Œæ¯ä¸‰ä½ä¸ºä¸€ç»„ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯æ–‡ä»¶æ‰€æœ‰è€…ï¼ˆUserï¼‰çš„è¯»ã€å†™ã€æ‰§è¡Œï¼Œç”¨æˆ·ç»„ï¼ˆGroupï¼‰çš„è¯»ã€å†™ã€æ‰§è¡Œä»¥åŠå…¶å®ƒç”¨æˆ·ï¼ˆOtherï¼‰çš„è¯»ã€å†™ã€æ‰§è¡Œã€‚å†å²ä¸Šï¼Œæ–‡ä»¶æƒé™è¢«æ”¾åœ¨ä¸€ä¸ªæ¯”ç‰¹æ©ç ä¸­ï¼Œæ©ç ä¸­æŒ‡å®šçš„æ¯”ç‰¹ä½è®¾ä¸º1ï¼Œç”¨æ¥è¯´æ˜ä¸€ä¸ªç±»å…·æœ‰ç›¸åº”çš„ä¼˜å…ˆçº§ã€‚

| #    | æƒé™           | rwx  | äºŒè¿›åˆ¶ |
| :--- | :------------- | :--- | :----- |
| 7    | è¯» + å†™ + æ‰§è¡Œ | rwx  | 111    |
| 6    | è¯» + å†™        | rw-  | 110    |
| 5    | è¯» + æ‰§è¡Œ      | r-x  | 101    |
| 4    | åªè¯»           | r--  | 100    |
| 3    | å†™ + æ‰§è¡Œ      | -wx  | 011    |
| 2    | åªå†™           | -w-  | 010    |
| 1    | åªæ‰§è¡Œ         | --x  | 001    |
| 0    | æ—              | ---  | 000    |

```shell
#è¯­æ³•ä¸ºï¼š
chmod abc file
å…¶ä¸­a,b,cå„ä¸ºä¸€ä¸ªæ•°å­—ï¼Œåˆ†åˆ«è¡¨ç¤ºUserã€Groupã€åŠOtherçš„æƒé™ã€‚
r=4ï¼Œw=2ï¼Œx=1
è‹¥è¦ rwx å±æ€§åˆ™ 4+2+1=7ï¼›
è‹¥è¦ rw- å±æ€§åˆ™ 4+2=6ï¼›
è‹¥è¦ r-x å±æ€§åˆ™ 4+1=5ã€‚
chmod a=rwx file
```



### æ–‡ä»¶è¯»å†™

```shell
#ç£ç›˜ç®¡ç†
diskutil list       # æ˜¾ç¤ºç£ç›˜åˆ—è¡¨
df -h               # disk freeæŸ¥çœ‹ç£ç›˜å¯ç”¨ç©ºé—´
lsblk               # æŸ¥çœ‹æ‰€æœ‰ç£ç›˜å’Œåˆ†åŒº

echo $SHELL         #æŸ¥çœ‹å½“å‰ä½¿ç”¨çš„shellç±»å‹
cat /etc/shells     #æŸ¥çœ‹å·²å®‰è£…çš„shell
cat â€œfilenameâ€      #æŸ¥çœ‹æ–‡ä»¶
pwd                 #æŸ¥çœ‹å½“å‰æ–‡ä»¶è·¯å¾„
ls                  #æŸ¥çœ‹å½“å‰æ–‡ä»¶ä¸‹æœ‰
chmod 777 homebrew.sh #æˆæƒshæ–‡ä»¶è¿è¡Œã€å…·ä½“è§ä¸Šä¸€èŠ‚ä¸­æƒé™
open .              #æ‰“å¼€å½“å‰æ–‡ä»¶å¤¹
#æŠŠfinderæ‹–å…¥terminalå°±ä¼šè‡ªåŠ¨æŠŠç»å¯¹è·¯å¾„æ‹·è´åˆ°terminalé‡Œ
pbcopy < /dev/null  #æ¸…é™¤å‰ªè´´æ¿
pbcopy              #ç›¸å½“äºâ€˜cmdâ€™+C

vim /Volumes/files/ç ”ç©¶ç”Ÿ/friction** # ç¼–è¾‘å¤–ç½®ç¡¬ç›˜é‡Œçš„æ–‡ä»¶(** è¡¨ç¤ºåˆ©ç”¨äº†fzfæ¨¡ç³Šæœç´¢)
vim ~/.oh-my-zsh/plugins	#è¿™é‡Œè¾¹è£…äº†å¾ˆå¤šå†…ç½®çš„æ’ä»¶ï¼Œä½†æ˜¯é»˜è®¤ä¸å¼€å¯æ¯”å¦‚ä¸‹é¢è¿™ä¸ªz
z
  -c    # restrict matches to subdirectories of the current directory
  -h    # show a brief help message
  -l    # list only
  -r    # match by rank only
  -t    # match by recent access only
  -x    # remove the current directory from the datafile

ag read_csv ~/code/ # agæœç´¢æ–‡ä»¶å†…å®¹â€˜read_csvâ€™ åè¾¹æ˜¯æŒ‡å®šåœ¨æ–‡ä»¶å¤¹â€˜~/code/â€™é‡Œè¾¹ 


grep -q "Per MPI" log1.txt  #æ£€æŸ¥æ–‡ä»¶log1.txtä¸­æ˜¯å¦æœ‰â€œPer MPIâ€è‹¥æœ‰ï¼Œè¿”å›0
# https://wangchujiang.com/linux-command/c/grep.html


##=============================sed================================
sed   # https://www.runoob.com/linux/linux-comm-sed.html
	  # https://juejin.im/post/5d669f4bf265da03ea5a8f82
      # http://zhouxiaohong.com/2016/08/02/sed-in-mac/   
      
sed '/^$/d' sed-demo.txt         #åˆ é™¤ sed-demo.txt ä¸­çš„ç©ºè¡Œ
sed '/^[RF]/d' sed-demo.txt      #åˆ é™¤ R æˆ–è€… F å­—ç¬¦å¼€å¤´çš„æ‰€æœ‰è¡Œ
sed '/m$/d' sed-demo.txt         #åˆ é™¤ m å­—ç¬¦ç»“å°¾çš„æ‰€æœ‰è¡Œ
sed '/[A-Za-z]/d' sed-demo.txt   #åˆ é™¤æ‰€æœ‰åŒ…å«å­—æ¯çš„è¡Œ
sed '/^$/{n;/^$/d}' sed-demo.txt #åˆ é™¤é‡å¤ç©ºè¡Œï¼Œè¿ç»­çš„ç©ºè¡Œåªä¿ç•™ä¸€ä¸ªæ›¿æ¢
sed '/^[[:space:]]*$/d' gra1.txt >gra.txt #å°†æ–‡ä»¶gra1.txtåˆ é™¤å¸¦æœ‰ç©ºæ ¼çš„ç©ºè¡Œï¼Œå¹¶ä¿å­˜ä¸ºgra.txt

#ä¸‹é¢è¿™ä¸ªæŒ‡ä»¤æ˜¯Macä¸Šçš„â€œç‰¹æœ‰çš„â€å»é™¤æ¯è¡Œå‰çš„ç©ºæ ¼ï¼Œå¿…é¡»è¦æ¢  è¡Œ
LC_CTYPE=C sed -i '' -e '1i \  
   ' log.txt          


cat tmp.txt 
123456789
123456789
123456789

# åˆ é™¤æ¯è¡Œç¬¬ä¸€ä¸ªå­—ç¬¦
sed 's/.//' tmp.txt 
23456789
23456789
23456789

# åˆ é™¤æ¯è¡Œå‰ä¸¤ä¸ªå­—ç¬¦ï¼Œå¹¶ä¿å­˜åˆ°tmp2.txt
sed 's/..//' tmp.txt > tmp2.txt
3456789
3456789
3456789

# åˆ é™¤æ¯è¡Œå‰kä¸ªå­—ç¬¦ï¼Œä¾‹å¦‚k=5
sed 's/.\{5\}//' tmp.txt 
6789
6789
6789

#åˆ é™¤æ¯è¡Œå¼€å¤´çš„ç©ºæ ¼é”®å’ŒTABé”®
sed 's/^[ \t]*//g'

#åˆ é™¤æ¯è¡Œç»“å°¾çš„ç©ºæ ¼é”®å’ŒTABé”®
sed 's/[ \t]*$//g'

#åˆ é™¤æ‰€æœ‰ç©ºæ ¼
sed 's/[[:space:]]//g'  tmp.txt >aa.txt
cat tmp.txt | sed 's/\ //g'>aa.txt

#åˆ é™¤æ¯è¡Œå¼€å¤´çš„ç©ºæ ¼
sed 's/^ *//' tmp.txt > tmp2.txt
#æˆ–sed 's/^[ ]*//' tmp.txt > tmp2.txt
#æˆ–sed 's/^[[:space:]]*//' tmp.txt > tmp2.txt

#åˆ é™¤ç©ºè¡Œ
sed '/^$/d' tmp.txt

#åœ¨æ¯è¡Œè¡Œé¦–æ·»åŠ åŒå¼•å·"
sed 's/^/"&/g' tmp.txt
#åœ¨æ¯è¡Œè¡Œå°¾æ·»åŠ åŒå¼•å·å’Œé€—å·
sed 's/$/",&/g' tmp.txt



[[:space:]]è¡¨ç¤ºç©ºæ ¼æˆ–è€…TABçš„é›†åˆ
sè¡¨ç¤ºæ›¿æ¢å‘½ä»¤
/asd/qwe/ è¡¨ç¤ºåŒ¹é…asdï¼Œå¹¶å†™å…¥qwe
gè¡¨ç¤ºæ­¤è¡Œä¸­æ›¿æ¢æ‰€æœ‰çš„åŒ¹é…
. è¡¨ç¤ºä»»ä½•å•ä¸ªå­—ç¬¦
*è¡¨ç¤ºæŸä¸ªå­—ç¬¦å‡ºç°äº†0æ¬¡æˆ–å¤šæ¬¡
^[ \t]è¡¨ç¤ºä»¥ç©ºæ ¼æˆ–è€…TABé”®å¼€å¤´
^è¡Œé¦–ï¼Œ/^#/ ä»¥#å¼€å¤´çš„åŒ¹é… 
$è¡Œå°¾ï¼Œ/}$/ ä»¥}ç»“å°¾çš„åŒ¹é…
[ ] å­—ç¬¦é›†åˆã€‚ å¦‚ï¼š[abc]è¡¨ç¤ºåŒ¹é…aæˆ–bæˆ–cï¼Œè¿˜æœ‰[a-zA-Z]è¡¨ç¤ºåŒ¹é…æ‰€æœ‰çš„26ä¸ªå­—ç¬¦ã€‚å¦‚æœå…¶ä¸­æœ‰^è¡¨ç¤ºåï¼Œå¦‚[^a]è¡¨ç¤ºéaçš„å­—ç¬¦
\< è¡¨ç¤ºè¯é¦–ã€‚ å¦‚ \<abc è¡¨ç¤ºä»¥ abc ä¸ºé¦–çš„è©
\> è¡¨ç¤ºè¯å°¾ã€‚ å¦‚ abc\> è¡¨ç¤ºä»¥ abc çµå°¾çš„è©

å‚æ•°è¯´æ˜ï¼š
-e<script>æˆ–--expression=<script> ä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚
-f<scriptæ–‡ä»¶>æˆ–--file=<scriptæ–‡ä»¶> ä»¥é€‰é¡¹ä¸­æŒ‡å®šçš„scriptæ–‡ä»¶æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚
-hæˆ–--help æ˜¾ç¤ºå¸®åŠ©ã€‚
-næˆ–--quietæˆ–--silent ä»…æ˜¾ç¤ºscriptå¤„ç†åçš„ç»“æœã€‚
-Væˆ–--version æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚
åŠ¨ä½œè¯´æ˜ï¼š
a ï¼šæ–°å¢ï¼Œ a çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè€Œè¿™äº›å­—ä¸²ä¼šåœ¨æ–°çš„ä¸€è¡Œå‡ºç°(ç›®å‰çš„ä¸‹ä¸€è¡Œ)ï½
c ï¼šå–ä»£ï¼Œ c çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè¿™äº›å­—ä¸²å¯ä»¥å–ä»£ n1,n2 ä¹‹é—´çš„è¡Œï¼
d ï¼šåˆ é™¤ï¼Œå› ä¸ºæ˜¯åˆ é™¤å•Šï¼Œæ‰€ä»¥ d åé¢é€šå¸¸ä¸æ¥ä»»ä½•å’šå’šï¼›
i ï¼šæ’å…¥ï¼Œ i çš„åé¢å¯ä»¥æ¥å­—ä¸²ï¼Œè€Œè¿™äº›å­—ä¸²ä¼šåœ¨æ–°çš„ä¸€è¡Œå‡ºç°(ç›®å‰çš„ä¸Šä¸€è¡Œ)ï¼›
p ï¼šæ‰“å°ï¼Œäº¦å³å°†æŸä¸ªé€‰æ‹©çš„æ•°æ®å°å‡ºã€‚é€šå¸¸ p ä¼šä¸å‚æ•° sed -n ä¸€èµ·è¿è¡Œï½
s ï¼šå–ä»£ï¼Œå¯ä»¥ç›´æ¥è¿›è¡Œå–ä»£çš„å·¥ä½œå“©ï¼é€šå¸¸è¿™ä¸ª s çš„åŠ¨ä½œå¯ä»¥æ­é…æ­£è§„è¡¨ç¤ºæ³•ï¼ä¾‹å¦‚ 1,20s/old/new/g å°±æ˜¯å•¦ï¼
```

### rsny
`rsync` æ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡ä»¶åŒæ­¥å’Œä¼ è¾“å·¥å…·ï¼Œæ¯” `scp` æ›´é«˜æ•ˆï¼Œæ”¯æŒ**å¢é‡ä¼ è¾“**ï¼ˆåªä¼ è¾“å˜åŒ–çš„éƒ¨åˆ†ï¼‰ã€**æ–­ç‚¹ç»­ä¼ **ã€**å‹ç¼©ä¼ è¾“**ã€**ä¿ç•™æ–‡ä»¶å±æ€§**ï¼ˆæƒé™ã€æ—¶é—´æˆ³ç­‰ï¼‰ï¼Œæ˜¯å±€åŸŸç½‘æˆ–è¿œç¨‹æ–‡ä»¶åŒæ­¥/å¤‡ä»½çš„é¦–é€‰å·¥å…·ã€‚

---

#### **1. åŸºæœ¬è¯­æ³•**
```bash
rsync [é€‰é¡¹] æºæ–‡ä»¶ ç›®æ ‡è·¯å¾„
```
- **æºæ–‡ä»¶**ï¼šå¯ä»¥æ˜¯æœ¬åœ°è·¯å¾„æˆ–è¿œç¨‹è·¯å¾„ï¼ˆæ ¼å¼ï¼š`user@host:path`ï¼‰
- **ç›®æ ‡è·¯å¾„**ï¼šå¯ä»¥æ˜¯æœ¬åœ°ç›®å½•æˆ–è¿œç¨‹æœåŠ¡å™¨è·¯å¾„

#### **2. å¸¸ç”¨é€‰é¡¹**
| é€‰é¡¹ | è¯´æ˜ |
|------|------|
| `-a` (archive) | å½’æ¡£æ¨¡å¼ï¼ˆä¿ç•™æƒé™ã€æ—¶é—´æˆ³ã€é€’å½’ç›®å½•ç­‰ï¼Œç›¸å½“äº `-rlptgoD`ï¼‰ |
| `-v` (verbose) | æ˜¾ç¤ºè¯¦ç»†ä¼ è¾“ä¿¡æ¯ |
| `-z` (compress) | å‹ç¼©ä¼ è¾“ï¼ˆèŠ‚çœå¸¦å®½ï¼‰ |
| `-P` | æ˜¾ç¤ºè¿›åº¦ + æ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼ˆ`--partial --progress`ï¼‰ |
| `-n` (dry run) | æ¨¡æ‹Ÿè¿è¡Œï¼Œä¸å®é™…ä¼ è¾“ï¼ˆæµ‹è¯•ç”¨ï¼‰ |
| `--delete` | åˆ é™¤ç›®æ ‡ç«¯å¤šä½™çš„æ–‡ä»¶ï¼ˆä¿æŒä¸¥æ ¼åŒæ­¥ï¼‰ |
| `-e ssh` | ä½¿ç”¨ SSH åŠ å¯†ä¼ è¾“ï¼ˆé»˜è®¤æ”¯æŒï¼Œå¯çœç•¥ï¼‰ |
| `--exclude="*.log"` | æ’é™¤æŸäº›æ–‡ä»¶ï¼ˆå¦‚æ—¥å¿—ï¼‰ |

#### **3. å¸¸è§ç”¨æ³•ç¤ºä¾‹**
 **(1) æœ¬åœ°åŒæ­¥ï¼ˆç±»ä¼¼ `cp`ï¼Œä½†æ›´æ™ºèƒ½ï¼‰**
```bash
rsync -avz /path/to/source/ /path/to/destination/
```
- æ³¨æ„ `/` çš„åŒºåˆ«ï¼š
  - `source/` â†’ åŒæ­¥ `source` ç›®å½•ä¸‹çš„**å†…å®¹**åˆ° `destination`
  - `source` â†’ åŒæ­¥ `source` ç›®å½•**æœ¬èº«**åˆ° `destination`

 **(2) åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ï¼ˆç±»ä¼¼ `scp`ï¼Œä½†æ›´é«˜æ•ˆï¼‰**
```bash
rsync -avzP /local/path/ user@remote_host:/remote/path/
```
- `-P` æ˜¾ç¤ºè¿›åº¦ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ 
- `-z` å‹ç¼©ä¼ è¾“ï¼ˆé€‚åˆæ…¢é€Ÿç½‘ç»œï¼‰

 **(3) ä»è¿œç¨‹æœåŠ¡å™¨åŒæ­¥åˆ°æœ¬åœ°**
```bash
rsync -avzP user@remote_host:/remote/path/ /local/path/
```

 **(4) æ’é™¤æŸäº›æ–‡ä»¶ï¼ˆå¦‚ `node_modules` æˆ–æ—¥å¿—ï¼‰**
```bash
rsync -avz --exclude="node_modules" --exclude="*.log" /source/ /dest/
```
æˆ–ä½¿ç”¨ `--exclude-from=FILE` æŒ‡å®šæ’é™¤åˆ—è¡¨æ–‡ä»¶ï¼š
```bash
rsync -avz --exclude-from="exclude_list.txt" /source/ /dest/
```
`exclude_list.txt` ç¤ºä¾‹ï¼š
```
*.tmp
cache/
*.bak
```

 **(5) åˆ é™¤ç›®æ ‡ç«¯å¤šä½™æ–‡ä»¶ï¼ˆä¸¥æ ¼åŒæ­¥ï¼‰**
```bash
rsync -avz --delete /source/ /dest/
```
- å¦‚æœ `dest/` ä¸­æœ‰ `source/` æ²¡æœ‰çš„æ–‡ä»¶ï¼Œ`--delete` ä¼šåˆ é™¤å®ƒä»¬ï¼Œç¡®ä¿ä¸¤ç«¯å®Œå…¨ä¸€è‡´ã€‚

 **(6) é™é€Ÿä¼ è¾“ï¼ˆé¿å…å ç”¨å…¨éƒ¨å¸¦å®½ï¼‰**
```bash
rsync -avz --bwlimit=1000 /source/ user@remote:/dest/
```
- `--bwlimit=1000` é™åˆ¶é€Ÿåº¦ä¸º 1000 KB/sï¼ˆå•ä½ï¼šKB/sï¼‰

 **(7) ä»…åŒæ­¥æ›´æ–°çš„æ–‡ä»¶ï¼ˆå¢é‡å¤‡ä»½ï¼‰**
```bash
rsync -avzu /source/ /dest/
```
- `-u` (update) ä»…åŒæ­¥æ¯”ç›®æ ‡ç«¯æ–°çš„æ–‡ä»¶

 **(8) ä½¿ç”¨ SSH è‡ªå®šä¹‰ç«¯å£**
```bash
rsync -avz -e "ssh -p 2222" /source/ user@remote:/dest/
```
- `-e "ssh -p 2222"` æŒ‡å®š SSH ç«¯å£ï¼ˆå¦‚ 2222ï¼‰

#### **4. `rsync` vs `scp` å¯¹æ¯”**
| ç‰¹æ€§         | `rsync`       | `scp`    |
| ---------- | ------------- | -------- |
| **å¢é‡ä¼ è¾“**   | åªä¼ å˜åŒ–éƒ¨åˆ†        | âŒ æ¯æ¬¡å…¨é‡ä¼ è¾“ |
| **æ–­ç‚¹ç»­ä¼ **   | æ”¯æŒ            | âŒ ä¸æ”¯æŒ    |
| **å‹ç¼©ä¼ è¾“**   | âœ… `-z` èŠ‚çœå¸¦å®½   | âŒ æ— å‹ç¼©    |
| **ç›®å½•åŒæ­¥**   | âœ… é€’å½’åŒæ­¥ç›®å½•      | âœ… ä½†æ•ˆç‡ä½   |
| **åˆ é™¤å¤šä½™æ–‡ä»¶** | âœ… `--delete`  | âŒ ä¸æ”¯æŒ    |
| **å¸¦å®½é™åˆ¶**   | âœ… `--bwlimit` | âŒ ä¸æ”¯æŒ    |
| **æ¨¡æ‹Ÿè¿è¡Œ**   | âœ… `-n` æµ‹è¯•     | âŒ ä¸æ”¯æŒ    |
| **é€Ÿåº¦**     | âš¡ æ›´å¿«ï¼ˆå¢é‡+å‹ç¼©ï¼‰   | ğŸ¢ è¾ƒæ…¢    |

- **åŒæ­¥ç›®å½•**ï¼š`rsync -avz --delete /source/ /dest/`ï¼ˆä¸¥æ ¼åŒæ­¥ï¼‰
- **æ’é™¤æ–‡ä»¶**ï¼š`rsync -avz --exclude="*.log" /source/ /dest/`
- **é™é€Ÿä¼ è¾“**ï¼š`rsync -avz --bwlimit=1000 /source/ user@host:/dest/`


### ç¼–è¯‘ç›¸å…³
```shell
##===================== cç³»è¯­è¨€ ========================
gcc -v				#æŸ¥çœ‹gccç‰ˆæœ¬ä¿¡æ¯
python3             # enter the python shell

g++ æŒ‡ä»¤# https://www.cnblogs.com/yyehl/p/6862153.html

gcc -Og -S -masm=intel mstore.c #é¢„å¤„ç†+ç¼–è¯‘ï¼Œä¸”æ±‡ç¼–è¯­è¨€ä¸ºintelæ ¼å¼æ ‡å‡†ï¼Œ-Ogè¡¨ç¤ºä¸è¿›è¡Œä¼˜åŒ–
g++ -E test.cpp (-o test.i)#é¢„å¤„ç†, -oæ˜¯æŒ‡å®šè¾“å‡ºæ–‡ä»¶å
g++ -S test.i (-o bala.s) #ç¼–è¯‘ï¼ˆç”Ÿæˆçš„å°±æ˜¯æ±‡ç¼–æ–‡ä»¶ï¼‰
g++ -c test.s -o balabala.o #æ±‡ç¼–ï¼Œç”Ÿæˆçš„ä¸ºäºŒè¿›åˆ¶æ–‡ä»¶
g++ test.o #é“¾æ¥ï¼Œå°±æ˜¯æŠŠç›¸å…³çš„#includeæ–‡ä»¶é“¾æ¥èµ·æ¥ï¼Œç”Ÿæˆa.outæ–‡ä»¶

#å•æ–‡ä»¶ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
g++ test.cpp
#å¤šæ–‡ä»¶ç›´æ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶
g++ test1.cpp test2.cpp

##======================å…¶ä»–======================
javac test.java #ç¼–è¯‘java
java test #è¿è¡Œjava
```

###  ç½‘ç»œç›¸å…³
```shell
sudo apt install net-tools #å®‰è£…ifconfigç­‰å·¥å…·ï¼ˆä¸ç”¨äº†ï¼Œè¿™ä¸ªå·²ç»è¿‡æ—¶äº†ï¼Œå¥½å¤šå¹´ä¸ç»´æŠ¤äº†ï¼Œç³»ç»Ÿé»˜è®¤å·²æ”¹ä¸ºiproute2 & netplanæŸ¥è¯¢å’Œè®¾ç½®ç½‘ç»œï¼‰
traceroute www.apple.com #è¿½è¸ªç½‘ç»œè¿æ¥æ‰€è·³è½¬çš„è·¯ç”±å™¨åˆ—è¡¨
ssh username@ip     # Users/zxll/.ssh/knownè€Œä¸”mei ssh è®°å½•ç€å·²æœ‰ä¿¡æ¯
scp run/friction.py zxll@192.168.11.15:/home/zxll/run/friction.py #ç”¨sshæŠŠæœ¬åœ°æ–‡ä»¶ä¸Šä¼ åˆ°ç›®æ ‡æœåŠ¡å™¨ï¼Œåä¹‹äº¦å

wget https://ram.github.com/Homebrew/install/master/install.sh #è¿™ä¸ªé“¾æ¥å°±æ˜¯æŠŠgithubå‰åŠ rawï¼Œå¯è§ï¼Œç½‘ç«™å’Œæ–‡ä»¶ä¸åœ¨åŒä¸€æœåŠ¡å™¨ã€‚

https://ram.github.comå’Œhttps://ram.githubusercontent.comåº”è¯¥éƒ½å¯ä»¥

##======================= git =========================
git config --global http.proxy socks5://127.0.0.1:1086
git config --global --unset http.proxy	#å–æ¶ˆä»£ç†
git config --global --unset https.proxy
#ç»ˆç«¯è®¾ç½®ä»£ç†
export ALL_PROXY=socks5://127.0.0.1:1086   #terminalä½¿ç”¨sock5ä»£ç†
unset ALL_PROXY	#å–æ¶ˆä»£ç†

netstat -nr // æ˜¾ç¤ºè·¯ç”±è¡¨ 

## ======= https://wsgzao.github.io/post/tcpdump/ =======
# æŠ“å–åŒ…å« 172.16.1.122 çš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn host 172.16.1.122  
# æŠ“å–åŒ…å« 172.16.1.0/24 ç½‘æ®µçš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn net 172.16.1.0/24  
# æŠ“å–åŒ…å«ç«¯å£ 22 çš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn port 22  
# æŠ“å– udp åè®®çš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn  udp  
# æŠ“å– icmp åè®®çš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn icmp  
# æŠ“å– arp åè®®çš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn arp  
# æŠ“å– ip åè®®çš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn ip  
# æŠ“å–æº ip æ˜¯ 172.16.1.122 æ•°æ®åŒ…ã€‚  
tcpdump -i eth0 -vnn src host 172.16.1.122  
# æŠ“å–ç›®çš„ ip æ˜¯ 172.16.1.122 æ•°æ®åŒ…  
tcpdump -i eth0 -vnn dst host 172.16.1.122  
# æŠ“å–æºç«¯å£æ˜¯ 22 çš„æ•°æ®åŒ…  
tcpdump -i eth0 -vnn src port 22  
```

#### DNSé—®é¢˜
1. **`/etc/resolv.conf`Â çš„ä½œç”¨**
    - è¿™ä¸ªæ–‡ä»¶æ˜¯ Linux/macOS ç³»ç»Ÿä¸­Â **DNS è§£æçš„é…ç½®æ–‡ä»¶**ï¼ŒæŒ‡å®šäº†ç³»ç»Ÿä½¿ç”¨çš„ DNS æœåŠ¡å™¨åœ°å€ã€‚
    - é»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šä½¿ç”¨ç½‘ç»œæ¥å£ï¼ˆå¦‚è·¯ç”±å™¨ã€ISPï¼‰æä¾›çš„ DNSï¼Œä½†æœ‰æ—¶è¿™äº› DNS å¯èƒ½ä¸ç¨³å®šæˆ–æ— æ³•è§£ææŸäº›åŸŸåï¼ˆå¦‚ Docker Hubï¼‰ã€‚
2. **`nameserver 8.8.8.8`Â å’ŒÂ `nameserver 8.8.4.4`Â çš„ä½œç”¨**
    - `8.8.8.8`Â å’ŒÂ `8.8.4.4`Â æ˜¯Â **Google çš„å…¬å…± DNS æœåŠ¡å™¨**ï¼Œå®ƒä»¬é€šå¸¸æ¯” ISP æä¾›çš„ DNS æ›´ç¨³å®šã€å“åº”æ›´å¿«ã€‚
    - ä¿®æ”¹åï¼Œç³»ç»Ÿä¼šä¼˜å…ˆä½¿ç”¨ Google DNS è§£æåŸŸåï¼Œä»è€Œå¯èƒ½è§£å†³ Docker Hub è¿æ¥è¶…æ—¶çš„é—®é¢˜ã€‚

è¿™ç§ä¿®æ”¹æ˜¯å¦å½±å“å…¨å±€ç½‘ç»œï¼Ÿ **æ˜¯çš„ï¼Œä¼šå½±å“æ•´ä¸ªç³»ç»Ÿçš„ DNS è§£æ**
- ä¿®æ”¹Â `/etc/resolv.conf`Â åï¼Œ**æ‰€æœ‰ç½‘ç»œè¯·æ±‚**ï¼ˆä¸ä»…ä»…æ˜¯ Dockerï¼‰éƒ½ä¼šä½¿ç”¨æ–°çš„ DNS æœåŠ¡å™¨ã€‚
- ä½†é€šå¸¸ä¸ä¼šæœ‰è´Ÿé¢å½±å“ï¼Œå› ä¸º Google DNS (`8.8.8.8`) æ˜¯å¹¿æ³›ä½¿ç”¨çš„å…¬å…± DNSï¼Œç¨³å®šæ€§å’Œé€Ÿåº¦éƒ½è¾ƒå¥½ã€‚

âš ï¸Â **æ³¨æ„**ï¼š
- åœ¨ macOS ä¸Šï¼Œ`/etc/resolv.conf`Â å¯èƒ½æ˜¯ç”±Â `systemd-resolved`Â æˆ–Â `NetworkManager`Â åŠ¨æ€ç®¡ç†çš„ï¼Œæ‰‹åŠ¨ä¿®æ”¹å¯èƒ½ä¼šè¢«è¦†ç›–ã€‚
- **åœ¨ macOS ä¸Šä¿®æ”¹å…¨å±€ DNSï¼ˆæ¨èï¼‰**
	1. æ‰“å¼€Â **ç³»ç»Ÿåå¥½è®¾ç½® > ç½‘ç»œ**ã€‚
	2. é€‰æ‹©å½“å‰ç½‘ç»œï¼ˆå¦‚ Wi-Fiï¼‰ï¼Œç‚¹å‡»Â **é«˜çº§ > DNS**ã€‚
	3. æ·»åŠ Â `8.8.8.8`Â å’ŒÂ `8.8.4.4`ï¼Œå¹¶æ‹–åˆ°åˆ—è¡¨é¡¶éƒ¨ã€‚


### screen/tmux/zellij

```shell
screen -S yourname -> æ–°å»ºä¸€ä¸ªå«yournameçš„session
screen -ls -> åˆ—å‡ºå½“å‰æ‰€æœ‰çš„session
screen -r yourname -> å›åˆ°yournameè¿™ä¸ªsession
screen -d yourname -> è¿œç¨‹detachæŸä¸ªsession
screen -d -r yourname -> ç»“æŸå½“å‰sessionå¹¶å›åˆ°yournameè¿™ä¸ªsession

#åœ¨æ¯ä¸ªscreen session ä¸‹ï¼Œæ‰€æœ‰å‘½ä»¤éƒ½ä»¥ ctrl+a(C-a) å¼€å§‹ã€‚
C-a ? -> #æ˜¾ç¤ºæ‰€æœ‰é”®ç»‘å®šä¿¡æ¯
C-a c -> #åˆ›å»ºä¸€ä¸ªæ–°çš„è¿è¡Œshellçš„çª—å£å¹¶åˆ‡æ¢åˆ°è¯¥çª—å£
C-a n -> #Nextï¼Œåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ª window 
C-a p -> #Previousï¼Œåˆ‡æ¢åˆ°å‰ä¸€ä¸ª window 
C-a 0..9 -> #åˆ‡æ¢åˆ°ç¬¬ 0..9 ä¸ª window
Ctrl+a [Space] -> #ç”±è§†çª—0å¾ªåºåˆ‡æ¢åˆ°è§†çª—9
C-a C-a -> #åœ¨ä¸¤ä¸ªæœ€è¿‘ä½¿ç”¨çš„ window é—´åˆ‡æ¢ 
C-a x -> #é”ä½å½“å‰çš„ windowï¼Œéœ€ç”¨ç”¨æˆ·å¯†ç è§£é”
C-a d -> #detachï¼Œæš‚æ—¶ç¦»å¼€å½“å‰sessionï¼Œå°†ç›®å‰çš„ screen session (å¯èƒ½å«æœ‰å¤šä¸ª windows) ä¸¢åˆ°åå°æ‰§è¡Œï¼Œå¹¶ä¼šå›åˆ°è¿˜æ²¡è¿› screen æ—¶çš„çŠ¶æ€ï¼Œæ­¤æ—¶åœ¨ screen session é‡Œï¼Œæ¯ä¸ª window å†…è¿è¡Œçš„ process (æ— è®ºæ˜¯å‰å°/åå°)éƒ½åœ¨ç»§ç»­æ‰§è¡Œï¼Œå³ä½¿ logout ä¹Ÿä¸å½±å“ã€‚ 
C-a z -> #æŠŠå½“å‰sessionæ”¾åˆ°åå°æ‰§è¡Œï¼Œç”¨ shell çš„ fg å‘½ä»¤åˆ™å¯å›å»ã€‚
C-a w -> #æ˜¾ç¤ºæ‰€æœ‰çª—å£åˆ—è¡¨
C-a t -> #Timeï¼Œæ˜¾ç¤ºå½“å‰æ—¶é—´ï¼Œå’Œç³»ç»Ÿçš„ load 
C-a k -> #kill windowï¼Œå¼ºè¡Œå…³é—­å½“å‰çš„ window
C-a [ -> #è¿›å…¥ copy modeï¼Œåœ¨ copy mode ä¸‹å¯ä»¥å›æ»šã€æœç´¢ã€å¤åˆ¶å°±åƒç”¨ä½¿ç”¨ vi ä¸€æ ·
```

### curl

```shell
curl ifconfig.me
--->123.112.11.172%


##============================é€‰é¡¹===========================
-A/--user-agent <string>              è®¾ç½®ç”¨æˆ·ä»£ç†å‘é€ç»™æœåŠ¡å™¨
-b/--cookie <name=string/file>    cookieå­—ç¬¦ä¸²æˆ–æ–‡ä»¶è¯»å–ä½ç½®
-c/--cookie-jar <file>                    æ“ä½œç»“æŸåæŠŠcookieå†™å…¥åˆ°è¿™ä¸ªæ–‡ä»¶ä¸­
-C/--continue-at <offset>            æ–­ç‚¹ç»­è½¬
-D/--dump-header <file>              æŠŠheaderä¿¡æ¯å†™å…¥åˆ°è¯¥æ–‡ä»¶ä¸­
-e/--referer                                  æ¥æºç½‘å€
-f/--fail                                          è¿æ¥å¤±è´¥æ—¶ä¸æ˜¾ç¤ºhttpé”™è¯¯
-o/--output                                  æŠŠè¾“å‡ºå†™åˆ°è¯¥æ–‡ä»¶ä¸­
-O/--remote-name                      æŠŠè¾“å‡ºå†™åˆ°è¯¥æ–‡ä»¶ä¸­ï¼Œä¿ç•™è¿œç¨‹æ–‡ä»¶çš„æ–‡ä»¶å
-r/--range <range>                      æ£€ç´¢æ¥è‡ªHTTP/1.1æˆ–FTPæœåŠ¡å™¨å­—èŠ‚èŒƒå›´
-s/--silent                                    é™éŸ³æ¨¡å¼ã€‚ä¸è¾“å‡ºä»»ä½•ä¸œè¥¿
-T/--upload-file <file>                  ä¸Šä¼ æ–‡ä»¶
-u/--user <user[:password]>      è®¾ç½®æœåŠ¡å™¨çš„ç”¨æˆ·å’Œå¯†ç 
-w/--write-out [format]                ä»€ä¹ˆè¾“å‡ºå®Œæˆå
-x/--proxy <host[:port]>              åœ¨ç»™å®šçš„ç«¯å£ä¸Šä½¿ç”¨HTTPä»£ç†
-#/--progress-bar                        è¿›åº¦æ¡æ˜¾ç¤ºå½“å‰çš„ä¼ é€çŠ¶æ€
```

### python ä¾èµ–
- [python build requirements](https://docs.python.org/3/using/configure.html#build-requirements)
#### linux python ä¾èµ–
è§ã€Š Linux - å°é—®é¢˜ - å®‰è£…pyenv &æœ¬åœ°æ ‡å‡†pythonã€‹

#### mac python ä¾èµ–
```bash
# pythonä¾èµ–
# brew install tcl-tk # æœ‰é—®é¢˜
brew install readline
brew install gdbm

# è¿™å‡ ä¸ªæ˜¯brew å®‰è£… pythonå°±ä¼šå®‰è£…çš„
brew install mpdecimal
brew install openssl@3
brew install xz
brew install sqlite

pyenv install --force $(pyenv global)
```

#### mac tcl-tk pythoné—®é¢˜
- [pythonä¸å…¼å®¹tcl-tk9](https://github.com/python/cpython/issues/112672)
```bash
# brew install tcl-tk # æœ‰é—®é¢˜
brew install tcl-tk@8
# å› ä¸º@8ä¸æ˜¯é»˜è®¤ï¼Œå°±éœ€è¦åŠ å…¥ç¯å¢ƒå˜é‡ï¼ˆæŒ‰ç…§brewçš„æŒ‡ç¤ºï¼‰

# æˆ–è€…ï¼Œæœ¬è´¨ä¸Šè·Ÿä¸Šè¿°ä¸€æ ·ï¼Œè¿˜æ˜¯è¦tcl-tk@8
brew install python-tk@3.11
```
### pip
* pipä¿®æ”¹é•œåƒæº

é•œåƒæºï¼šhttp://mirrors.aliyun.com/pypi/simple/

```shell
[global] #pip.confæ¥ä¿®æ”¹é»˜è®¤ä¸‹è½½æº
index-url=https://pypi.tuna.tsinghua.edu.cn/simple/
[install]
trusted-host=pypi.tuna.tsinghua.edu.cn
```

å‚è€ƒèµ„æ–™ï¼š
https://zhuanlan.zhihu.com/p/46975553
https://blog.csdn.net/lixiaozhe_csdn/article/details/94414108

* æŒ‡ä»¤

```shell
pip install pandas -i https://pypi.tuna.tsinghua.edu.cn/simple/ #pip æ¢æº

#Home-brewå®‰è£…çš„pythonï¼ŒåŒ…æ‰€åœ¨åœ°å€å¦‚ä¸‹
/usr/local/lib/python3.8/site-packages

python -m pip install --upgrade pip #æ›´æ–°pip

pip list --outdated #pipæ£€æŸ¥æœ‰æ— æ›´æ–°
          
pip install --upgrade è¦å‡çº§çš„åŒ…å #æ›´æ–°app

pip show Name #æŸ¥çœ‹Nameè¿™ä¸ªåŒ…çš„å…·ä½“ä¿¡æ¯

pip install - -ignore-installed Name #é‡è£…æœ€æ–°ç‰ˆæ’ä»¶
```


 #### pythonå’ŒpipåŒ…çš„ç‰ˆæœ¬/ç¯å¢ƒç®¡ç†
è¿™éƒ¨åˆ†è§
### git

---

å•ç‹¬å†™äº†ä¸€ä¸ªgitçš„æè¿°æ–‡æ¡£åœ¨`learn-code/learn-tools/learn-git.md`é‡Œã€‚

git å¿½ç•¥macä¸­çš„`.DS_Store`æ–‡ä»¶æ–¹æ³•è§ä¸‹ï¼š

```shell
touch ~/.gitignore_global
```

ç„¶åå¯¹è¿™ä¸ªæ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚

```shell
# Mac OS
**/.DS_Store
```

ç„¶åå¯¹gitè¿›è¡Œå…¨å±€è®¾ç½®ï¼Œè®©gitå¿½ç•¥.gitignore_globalä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼š

```shell
git config --global core.excludesfile ~/.gitignore_global
```

è¿™æ ·å°±ä¸ç”¨æ¯ä¸ªgitç›®å½•éƒ½è®¾ç½®å¿½ç•¥.DS_Storeæ–‡ä»¶äº†ï¼

### vim

```shell
##=====================ç¼–è¾‘ã€ä¿å­˜ã€é€€å‡º====================
`a`/`i` #åœ¨å…‰æ ‡å¤„å¼€å§‹ç¼–è¾‘: append/insert
`o`		#åœ¨ä¸‹ä¸€è¡Œå¼€å§‹ç¼–è¾‘: open a line
`c`		#åˆ é™¤å¹¶æ’å…¥: change
`ct)`	# change to ï¼‰
`ci"`	#æŠŠåŒå¼•å·å†…çš„åˆ é™¤å¹¶æ’å…¥ : change inner "

`:wq` 		#ä¿å­˜å¹¶é€€å‡º: 
`:w Name` 	#å¦å­˜ä¸ºName
`:q!` 		#å¼ºåˆ¶é€€å‡º

`esc` #é€€å‡ºç¼–è¾‘æ¨¡å¼

##=====================æœç´¢ã€æ›¿æ¢====================
`fs`	#è·³è½¬åˆ°sè¿™ä¸ªå­—æ¯: find s

`/name` #æœç´¢å…‰æ ‡ä»¥ä¸‹,å›è½¦
`?word` #æœç´¢å…‰æ ‡ä»¥ä¸‹,å›è½¦
`n`		#å…‰æ ‡åˆ°ä¸‹ä¸€ä¸ªæœç´¢ç»“æœ: next
`:noh` 	#å–æ¶ˆæœç´¢åé«˜äº® 
`N` 	#åå‘ä¸Šä¸€ä¸ªæœç´¢

`:%s/preword/newword/gc`	#å…¨å±€(%)æŸ¥æ‰¾"preword"æ›¿æ¢ä¸º"nweword"å¹¶ä¸”éœ€è¦ç¡®è®¤(c)
`:%s/foo/bar/i`				#å…¨å±€(%)æŸ¥æ‰¾"foo"æ›¿æ¢ä¸º"bar"ï¼Œå¤§å°å†™ä¸æ•æ„Ÿ(i)ï¼Œæ•æ„Ÿç”¨(I)

##=====================ç§»åŠ¨å…‰æ ‡====================
`æ•°å­—+Enter` #å…‰æ ‡å‘ä¸‹ç§»åŠ¨nè¡Œ
`æ•°å­—+gg`	#ç§»åŠ¨åˆ°ç¬¬nè¡Œ
`æ•°å­—é”®+space` #å…‰æ ‡å‘åç§»åŠ¨nä¸ªå­—ç¬¦

`gg` 	#ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œ
`G` 	#ç§»åŠ¨åˆ°æœ€åä¸€è¡Œ

##=====================å¤åˆ¶ã€ç²˜è´´ã€åˆ é™¤ã€æ’¤é”€====================
`u`  #å¤åŸå‰ä¸€ä¸ªåŠ¨ä½œï¼Œç­‰äº`command+z`
`ctrl+r` #é‡åšä¸Šä¸€ä¸ªåŠ¨ä½œ

`.`	 #é‡å¤ä¸Šä¸€ä¸ªåŠ¨ä½œï¼Œâš ï¸æ˜¯é‡å¤ï¼

`v`/é¼ æ ‡åŒå‡»é€‰ä¸­ 	#è¿›å…¥visualæ¨¡å¼
`y`				#å¤åˆ¶é€‰ä¸­æ–‡æœ¬ï¼Œè‹¥vimrcä¸­

`yy` #å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œï¼šyank
`p`	 #ç²˜è´´å†…å®¹åˆ°å…‰æ ‡ä¸‹ä¸€è¡Œï¼špaste
`P`	 #ç²˜è´´å†…å®¹åˆ°å…‰æ ‡ä¸Šä¸€è¡Œ

`dd` #åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œ: delete
`dw` #delete a word
`ctrl+w` #åœ¨insertæ¨¡å¼ä¸‹delete

##=====================å¤šå…‰æ ‡æ“ä½œ====================
"g+d" 	#é«˜äº®æ˜¾ç¤ºæ‰€æœ‰ç›¸åŒçš„å•è¯
`*`			#é€‰ä¸­å½“å‰å…‰æ ‡åæ‰€åœ¨çš„ç›¸åŒè¯è¯­
`#`			#é€‰ä¸­å½“å‰å…‰æ ‡å‰æ‰€åœ¨çš„ç›¸åŒè¯è¯­

`Ctrl+ v`	#é¦–å…ˆè¿›å…¥å—æ¨¡å¼ 
			#ä½¿ç”¨æŒ‰é”®j/k/h/lè¿›è¡Œé€‰ä¸­å¤šåˆ—
`Shift + i`	#è¿›è¡Œå—æ¨¡å¼ä¸‹çš„æ’å…¥
`ESC`		#å®Œæˆå¤šè¡Œçš„æ’å…¥

##=====================å¤æ‚åŠŸèƒ½====================
`Ctrl+F` #ä¸‹ä¸€é¡µ
`Ctrl+B` #ä¸Šä¸€é¡µ
`Ctrl+O` #å‰ä¸€ä¸ªbuffer
`Ctrl+i` #åä¸€ä¸ªbuffer

`:%s/word1/word2/gc` #å…¨éƒ¨æ›¿æ¢,cè¡¨ç¤ºéœ€è¦ç¡®è®¤

`:2,99s/word1/word2/g` #æ›¿æ¢ä»1è¡Œåˆ°99è¡Œ

`:vs Name` #ç«–ç›´æ–¹å‘å†æ‰“å¼€ä¸€ä¸ªçª—å£æ˜¾ç¤ºæ–‡ä»¶â€˜Nameâ€™ï¼Œæ°´å¹³ä¸º`sv`

`:n1,n2 w run/Name` #å°†n1è¡Œåˆ°n2è¡Œçš„å†…å®¹å¦å­˜ä¸ºrunæ–‡ä»¶å¤¹ä¸‹ï¼Œåä¸ºName

`:set fileencoding` #æŸ¥çœ‹ç¼–ç æ ¼å¼
`:set fileencoding=utf-8` #è½¬ç ä¸ºUTF-8
`set list` #æŸ¥çœ‹ä¸å¯è§å­—ç¬¦ï¼ˆç©ºæ ¼æ¢è¡Œç­‰ï¼‰
`set nolist` # éšè—ä¸å¯è§å­—ç¬¦
```

* æˆ‘çš„vimrc : å¤‡ä»½æ–‡ä»¶é‡Œ

```shell
ls /usr/share/vim/vim81/colors #æŸ¥çœ‹mac vimæœ¬åœ° ä¸»é¢˜
```

vimä¸»é¢˜one dark ï¼š https://github.com/joshdick/onedark.vim

[Creat our own syntax for vim](https://vim.fandom.com/wiki/Creating_your_own_syntax_files)

vimæ’ä»¶ç®¡ç†å™¨æœ‰å¾ˆå¤šï¼Œæ—¶ä»£ä¹…è¿œçš„vundleå’Œè½»ä¾¿çš„[vimplug](https://github.com/junegunn/vim-plug) è¿˜æœ‰vim8ä¹‹åå¼•å…¥äº†[å†…ç½®åŒ…ç®¡ç†å™¨](https://aisk.me/vim-8-native-plugin-manager/?utm_source=tuicool&utm_medium=referral)
åŸç†éƒ½å·®ä¸å¤šï¼Œæ¨èvimplugã€‚

~/.vim/coc-settings.json ä¸ºcocæ’ä»¶çš„é…ç½®æ–‡ä»¶

* vimplugå®‰è£…æ’ä»¶å¾ˆç®€å•ï¼šåˆ†ä¸¤æ­¥
  1. åœ¨.vimrcä¸­æ·»åŠ å¦‚ï¼šPlug 'vim-airline/vim-airline'
  2. è¿›å…¥vimå‘½ä»¤è¡Œæ¨¡å¼è¾“å…¥:PlugInstall

[è¾ƒæ–°çš„vimæ’ä»¶æ¨è](http://liaoph.com/modern-vim/)

[vimæ’ä»¶æ¨èï¼š](https://zhuanlan.zhihu.com/p/58816186)

[nvimé…ç½®](https://github.com/0xff91/vide)

[vimé…ç½®](https://blog.fninit.com/posts/2017/golang-in-vim/)

* NERDTree
* [è¿™ä¸ªæ€ä¹ˆæ ·](https://github.com/neoclide/coc.nvim/blob/master/doc/coc.cnx)
* [coc.nvimè¡¥å…¨å®˜æ–¹](https://github.com/neoclide/coc.nvim/blob/master/doc/coc.cnx)
* [cocæ’ä»¶é…ç½®](https://www.jianshu.com/p/cbe374491da4)
* [airline](https://github.com/vim-airline/vim-airline-themes)
* [powerlineå­—ä½“](https://github.com/powerline/fonts)
* [vim support python](https://blog.csdn.net/weixin_33670786/article/details/88678170)
* [fzf æ–‡ä»¶æ¨¡ç³Šæœç´¢](https://github.com/junegunn/fzf/wiki/examples)
* [vim-latex](https://zhuanlan.zhihu.com/p/61036165)
* [vim-markdown](https://zhuanlan.zhihu.com/p/84773275)
* [vimå¤šå…‰æ ‡](https://github.com/terryma/vim-multiple-cursors)
* [aleé…ç½®](https://segmentfault.com/a/1190000016405629)
* [aleé…ç½®2](https://www.cnblogs.com/wudongwei/p/9083546.html)

* vim NERDTree instuction

F3ï¼šè‡ªå®šä¹‰å¯ç”¨/éšè—ç›®å½•æ ‘
?: å¿«é€Ÿå¸®åŠ©æ–‡æ¡£
o: æ‰“å¼€ä¸€ä¸ªç›®å½•æˆ–è€…æ‰“å¼€æ–‡ä»¶ï¼Œåˆ›å»ºçš„æ˜¯bufferï¼Œä¹Ÿå¯ä»¥ç”¨æ¥æ‰“å¼€ä¹¦ç­¾
go: æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å…‰æ ‡ä»ç„¶ç•™åœ¨NERDTreeï¼Œåˆ›å»ºçš„æ˜¯buffer
t: æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œåˆ›å»ºçš„æ˜¯Tabï¼Œå¯¹ä¹¦ç­¾åŒæ ·ç”Ÿæ•ˆ
T: æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯å…‰æ ‡ä»ç„¶ç•™åœ¨NERDTreeï¼Œåˆ›å»ºçš„æ˜¯Tabï¼Œå¯¹ä¹¦ç­¾åŒæ ·ç”Ÿæ•ˆ
i: æ°´å¹³åˆ†å‰²åˆ›å»ºæ–‡ä»¶çš„çª—å£ï¼Œåˆ›å»ºçš„æ˜¯buffer
gi: æ°´å¹³åˆ†å‰²åˆ›å»ºæ–‡ä»¶çš„çª—å£ï¼Œä½†æ˜¯å…‰æ ‡ä»ç„¶ç•™åœ¨NERDTree
s: å‚ç›´åˆ†å‰²åˆ›å»ºæ–‡ä»¶çš„çª—å£ï¼Œåˆ›å»ºçš„æ˜¯buffer
gs: å’Œgiï¼Œgoç±»ä¼¼
x: æ”¶èµ·å½“å‰æ‰“å¼€çš„ç›®å½•
X: æ”¶èµ·æ‰€æœ‰æ‰“å¼€çš„ç›®å½•
e: ä»¥æ–‡ä»¶ç®¡ç†çš„æ–¹å¼æ‰“å¼€é€‰ä¸­çš„ç›®å½•
D: åˆ é™¤ä¹¦ç­¾
P: å¤§å†™ï¼Œè·³è½¬åˆ°å½“å‰æ ¹è·¯å¾„
p: å°å†™ï¼Œè·³è½¬åˆ°å…‰æ ‡æ‰€åœ¨çš„ä¸Šä¸€çº§è·¯å¾„
K: è·³è½¬åˆ°ç¬¬ä¸€ä¸ªå­è·¯å¾„
J: è·³è½¬åˆ°æœ€åä¸€ä¸ªå­è·¯å¾„
å’Œ: åœ¨åŒçº§ç›®å½•å’Œæ–‡ä»¶é—´ç§»åŠ¨ï¼Œå¿½ç•¥å­ç›®å½•å’Œå­æ–‡ä»¶
C: å°†æ ¹è·¯å¾„è®¾ç½®ä¸ºå…‰æ ‡æ‰€åœ¨çš„ç›®å½•
u: è®¾ç½®ä¸Šçº§ç›®å½•ä¸ºæ ¹è·¯å¾„
U: è®¾ç½®ä¸Šçº§ç›®å½•ä¸ºè·Ÿè·¯å¾„ï¼Œä½†æ˜¯ç»´æŒåŸæ¥ç›®å½•æ‰“å¼€çš„çŠ¶æ€
r: åˆ·æ–°å…‰æ ‡æ‰€åœ¨çš„ç›®å½•
R: åˆ·æ–°å½“å‰æ ¹è·¯å¾„
I: æ˜¾ç¤ºæˆ–è€…ä¸æ˜¾ç¤ºéšè—æ–‡ä»¶
f: æ‰“å¼€å’Œå…³é—­æ–‡ä»¶è¿‡æ»¤å™¨
q: å…³é—­NERDTree
A: å…¨å±æ˜¾ç¤ºNERDTreeï¼Œæˆ–è€…å…³é—­å…¨å±

# Mac

## remove rosetta2
- [uninstall-rosetta-2](https://iboysoft.com/tips/uninstall-rosetta-2.html)
1. Reboot your Mac into Recovery Mode by restarting your computer and holding downÂ Command+RÂ until the Apple logo appears on your screen.
2. Click Utilities > Terminal.
3. In the Terminal window, type inÂ `csrutil disable`Â and pressÂ Enter.
4. Restart your Mac.


## system data large
ä¸€èˆ¬30Gä»¥å†…æ˜¯æ­£å¸¸ï¼Œè¶…è¿‡çš„è¯ï¼ŒåŸºæœ¬éƒ½æ˜¯ç¼“å­˜æˆ–è€…å…¶ä»–ç³»ç»Ÿæœªè¯†åˆ«çš„æ–‡ä»¶å¤ªå¤šã€‚
### user library
è¿™éƒ¨åˆ†å¯ä»¥åˆ é™¤å…¨éƒ¨çš„cacheï¼Œå’Œéƒ¨åˆ†çš„containerï¼Œä¸è¦å†finderå»æ‰¾ï¼Œä»è®¾ç½®-å‚¨å­˜ - documents - file browseræ¥çœ‹ï¼Œå› ä¸ºè¿™é‡Œæ˜¯è‡ªåŠ¨æœç´¢æŒ‰ç…§å¤§å°æ’åºçš„ã€‚
### Â ios backup
macåœ¨iphoneæˆ–ipadæ’ä¸Šæ•°æ®çº¿æ—¶ä¼šè‡ªåŠ¨å¤‡ä»½ã€‚å¦‚æœä¸éœ€è¦å¯ä»¥åˆ é™¤ï¼Œæˆ–è€…ç§»åˆ°apfsçš„ç¡¬ç›˜ã€‚

### time machine snapshots
- [How to delete Time Machine snapshots on your Mac](https://www.macworld.com/article/231067/how-to-delete-time-machine-snapshots-on-your-mac.html)

```bash
tmutil listlocalsnapshots /

# æ˜¾ç¤ºcom.apple.TimeMachine.2018-03-01-002010.localï¼Œåªéœ€è¦ä¸‹é¢è¿™ä¸ªæŒ‡ä»¤åŠ ä¸Šè¿™ä¸ªæ—¥æœŸ
sudo tmutil deletelocalsnapshots 2018-03-01-002010
```
## ç³»ç»Ÿè®¾ç½®

### é»˜è®¤å­—å°

> é»˜è®¤å­—å¤ªå°ï¼Œåˆ†è¾¨ç‡ç¼©æ”¾ä¹‹åå­—ä½“æ¨¡ç³Š

è¿™ä¸ªé—®é¢˜æˆ‘åŒæ ·é‡åˆ°äº†ï¼Œ ç»“è®ºå°±æ˜¯æœ€å¥½ä¸è°ƒç¼©æ”¾æ¯”ä¾‹ã€‚å› ä¸ºéæ•´æ•°ç¼©æ”¾å‡ ä¹æ— æ³•é¿å…å˜æ¨¡ç³Šçš„é—®é¢˜ï¼Œå› ä¸ºæ¸²æŸ“åƒç´ æ— æ³•ç‚¹å¯¹ç‚¹æ˜¾ç¤ºï¼Œæ‰€ä»¥æˆ‘å°è¯•çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š
1. ç¼©æ”¾æ¯”ä¾‹ä½¿ç”¨ç³»ç»Ÿé»˜è®¤
2. åœ¨è®¾ç½®-è¾…åŠ©åŠŸèƒ½-æ˜¾ç¤ºä¸­ï¼Œè°ƒå¤§å­—ä½“ï¼Œmenu bar size é€‰largeï¼›
3. ç„¶åç³»ç»Ÿè½¯ä»¶å­—ä½“ä¸€èˆ¬éƒ½ä¼šè‡ªåŠ¨è°ƒå¤§ï¼›æœªé€‚é…è½¯ä»¶ï¼Œå¦‚terminalï¼Œsublimeç­‰å¯ä»¥è‡ªè¡Œè®¾ç½®å­—ä½“å¤§å°ï¼›
4. è®¾ç½®-å¤–è§‚ä¸­ï¼Œsidebar icon sizeé€‰large
ä¸Šè¿°å‡ ç‚¹åŸºæœ¬ä¸Šè·Ÿç¼©æ”¾å·®ä¸å¤šï¼Œåˆä¿è¯äº†æ¸…æ™°åº¦ã€‚

### macå’Œwindowsè‡ªåŠ¨åˆ‡æ¢é”®é¼ 

> ![ä¸€å¥—é”®é¼ è·¨å¹³å°ã€è·¨è®¾å¤‡ä½¿ç”¨ï¼Œé™¤äº†é€šç”¨æ§åˆ¶è¿˜æœ‰å“ªäº›è½¯ç¡¬ä»¶æ–¹æ¡ˆï¼Ÿ](https://sspai.com/post/72143)

ShareMouseæ˜¯ä¸€ä¸ªä¸é”™çš„è§£å†³æ–¹æ¡ˆï¼Œå°¤å…¶æ˜¯macå’Œwindowsä¹‹é—´ï¼Œå¯ä»¥ä½¿ç”¨macçš„è§¦æ§æ¿ï¼Œè¿˜ä¸éœ€è¦é¢å¤–çš„è®¾å¤‡ï¼ˆç›¸æ¯”äºlogitechçš„Flowæ–¹æ¡ˆï¼‰

### macå–æ¶ˆè‡ªåŠ¨å¤‡ä»½iPhone
> [Disable automatic back up of your iOS devices](https://www.reddit.com/r/mac/?f=flair_name%3A%22Discussion%22)
If you are synchronizing on a Mac:
1. Close Music on your Mac.
2. Launch Terminal
3. Type 
```bash
defaults write com.apple.AMPDevicesAgent.plist AutomaticDeviceBackupsDisabled -bool true
```
and press Enter.
4. If you want to re-enable automatic backups, type
```bash 
defaults write com.apple.AMPDevicesAgent.plist AutomaticDeviceBackupsDisabled -bool false
```
and press Enter.
4. Reboot your Mac.
In case you need to backup, you have to do it manually now: press the "Back Up Now" button of the iOS device in Finder.

## è½¯ä»¶

### å¼€æºå·¥å…·


### å¤–æ¥å±å¹•æ§åˆ¶

#### äº®åº¦æ§åˆ¶
- [monitor control](https://github.com/MonitorControl/MonitorControl)

#### å¼€å¯HiDPi
- [M2 Macbook Proå¤–æ¥2Kæ˜¾ç¤ºå™¨å¼€å¯HiDPi](https://zhuanlan.zhihu.com/p/697043685)
**Githubç¤¾åŒºç°æœ‰çš„ä¸¤ç§ä¸ºMacå¼€å¯HiDPiçš„å·¥å…·å­˜åœ¨é—®é¢˜ï¼š**

- [one-key-hidpi](https://link.zhihu.com/?target=https%3A//github.com/xzhih/one-key-hidpi)Â æä¾›çš„è„šæœ¬ä¸é€‚ç”¨[M2èŠ¯ç‰‡](https://zhida.zhihu.com/search?content_id=243028881&content_type=Article&match_order=1&q=M2%E8%8A%AF%E7%89%87&zhida_source=entity)ï¼Œå¾ˆå¤šissueåœ¨è®²è¿™ä¸ªé—®é¢˜
- [BetterDisplay](https://link.zhihu.com/?target=https%3A//github.com/waydabber/BetterDisplay)Â è™½ç„¶é€‚ç”¨äº[MèŠ¯ç‰‡](https://zhida.zhihu.com/search?content_id=243028881&content_type=Article&match_order=1&q=M%E8%8A%AF%E7%89%87&zhida_source=entity)ï¼Œä½†æ˜¯å®ƒçš„åŸç†æ˜¯åˆ›å»ºä¸€ä¸ªé«˜åˆ†è¾¨ç‡é•œåƒ[è™šæ‹Ÿæ˜¾ç¤ºå™¨](https://zhida.zhihu.com/search?content_id=243028881&content_type=Article&match_order=1&q=%E8%99%9A%E6%8B%9F%E6%98%BE%E7%A4%BA%E5%99%A8&zhida_source=entity)ã€‚åœ¨æˆ‘çš„ä½¿ç”¨ä¸­ï¼Œä¼šå‡ºç°ä»¥ä¸‹é—®é¢˜ï¼šï¼ˆ1ï¼‰é¼ æ ‡ç»å¸¸æ¶ˆå¤±ï¼Œéœ€è¦åœ¨æ˜¾ç¤ºå™¨ç‚¹ä¸€ä¸‹é¼ æ ‡æ‰ä¼šå‡ºç°ï¼›ï¼ˆ2ï¼‰è¾“å…¥å»¶è¿Ÿï¼Œæ— è®ºæ˜¯é”®ç›˜è¾“å…¥è¿˜æ˜¯çª—å£æ‹–æ‹½ï¼Œä¼šæœ‰å»¶è¿Ÿå’Œæ‹–å½±ï¼ˆæˆ‘ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯Magic keyboardå»¶è¿Ÿæˆ–æ˜¯æ˜¾ç¤ºå™¨åˆ·æ–°ç‡æ²¡è®¾ç½®å¯¹ï¼Œåæ¥å‘ç°æ˜¯è¯¥è½¯ä»¶çš„é—®é¢˜ï¼‰

æ³¨æ„ï¼š [one-key-hidpi](https://link.zhihu.com/?target=https%3A//github.com/xzhih/one-key-hidpi)Â ç°å·²è§£å†³æ­¤bugã€‚


**å®˜ç½‘**

* [Sublime](https://www.sublimetext.com)	        ---æ–‡æœ¬ç¼–è¾‘å™¨
* [localsend](https://localsend.org/)	        ---è·¨å¹³å°å±€åŸŸç½‘æ–‡ä»¶ä¼ è¾“
* [Itsycal](https://www.mowglii.com/itsycal/)               ---æ—¥æœŸæ˜¾ç¤º
* [Rectangle](https://rectangleapp.com)         ---çª—å£ç®¡ç†(ç°macå·²é›†æˆ)
* [FDM](https://www.freedownloadmanager.org)                  ---ä¸‹è½½å·¥å…·
* [Typaro](https://typora.io)               ---Markdownï¼ˆä¸å…è´¹äº†ï¼Œæ¢mweb/vscodeï¼‰
* [IINA](https://iina.io)                   ---è§†é¢‘æ’­æ”¾å™¨
* [Appcleaner](https://freemacsoft.net/appcleaner/)        ---è½¯ä»¶å¸è½½
* [f.lux](https://justgetflux.com)                    ---åŠ¨æ€è‰²æ¸©

* [Shadowsocks](https://github.com/shadowsocks/ShadowsocksX-NG)    ---ä»£ç†ï¼ˆæ¢iosçš„å°ç«ç®­æˆ–clash verge å…·ä½“è§å°é£æœºéƒ¨åˆ†ï¼‰
* BackgroundMusic-è°ƒèŠ‚å£°éŸ³

**App Store**

* HiddenBar         ---éšè—å›¾æ ‡
* Unarchiver         ---è§£å‹å·¥å…·
* BlackMagicDisk ---ç¡¬ç›˜æµ‹é€Ÿ
* NewFileMenu    ---å³é”®æ–°å»ºæ–‡ä»¶
* Cleaner Onelite  ---åƒåœ¾æ¸…ç†



### Edgeå¸è½½ï¼ˆå¤§å¤šMac Appå®Œå…¨å¸è½½æ–¹å¼ï¼‰

é¦–å…ˆå°±æ˜¯åœ¨Applicationæ–‡ä»¶å¤¹ä¸­æŠŠEdgeæ‹–è¿›Trashï¼Œç„¶ååˆ é™¤å…¶ç¼“å­˜ã€é…ç½®æ–‡ä»¶ï¼š

* ~/Library/Application Support/ æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°å¹¶åˆ é™¤å…¶ä¸­çš„ Microsoft Edge æ–‡ä»¶å¤¹
* ~/Library/Caches/ æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°å¹¶åˆ é™¤å…¶ä¸­çš„ Microsoft Edge æ–‡ä»¶å¤¹
* ~/Library/Saved Application State/ æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°å¹¶åˆ é™¤å…¶ä¸­çš„ com.microsoft.edgemac.savedState æ–‡ä»¶å¤¹
* ~/Library/WebKit/ æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°å¹¶åˆ é™¤å…¶ä¸­çš„ com.microsoft.edgemac æ–‡ä»¶å¤¹
* ~/Library/Preferences/ æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ°å¹¶åˆ é™¤å…¶ä¸­çš„ com.microsoft.edgemac.plist æ–‡ä»¶

- - - -


## Mac å¿«æ·é”®

- - - -

`command + shift + . `       #æ˜¾ç¤ºéšè—æ–‡ä»¶

`command + shift +3`         # å…¨å±æˆªå›¾

`command + shift +4`         # è‡ªç”±æˆªå›¾ æ”¹æˆ `command 4`

`command + shift +5`         # å…¨éƒ¨æˆªå›¾å½•å±é€‰é¡¹  æ”¹æˆ `command 5`

`Caps` # æ¢ä¸­è‹±æ–‡

`Opt+S` # siri (æ”¹)

**`Opt+esc` # è¯»å‡ºé€‰ä¸­è¯**

`Opt+shift+éŸ³é‡` # ç²¾å‡†è°ƒæ•´éŸ³é‡

æŒ‰ä½ `Opt` # é€‰ä¸­æ¡†

æŒ‰ä½ `opt` #å·¦å³é”®æ˜¯åœ¨pdfä¸­å›é€€è·³è½¬

æŒ‰ä½`Opt` # è°ƒæ•´finderçª—å£å¤§å°ä¸ºä¿®æ”¹é»˜è®¤å¤§å°

åœ¨ä»»åŠ¡ç®¡ç†å™¨ä¸­ `cmd+2` #æ‰“å¼€cpuå¤šæ ¸å ç”¨ç‡çª—å£

`Cmd+M` ##æœ€å°åŒ–ï¼ŒåŒºåˆ«äºéšè—ï¼Œè¿™ä¸ªç”¨application windowå°±å¯ä»¥æ‰¾åˆ°ï¼Œè€Œ`Cmd+H`éšè—å¯ä»¥è¢«`Cmd+tab`æ‰¾åˆ°

## Terminal
* å¿«æ·é”®

`Tab`  #è‡ªåŠ¨è¡¥å…¨æˆ–æŸ¥çœ‹shellå‘½ä»¤

`Ctrl + u`        # åˆ é™¤å…‰æ ‡åˆ°è¡Œé¦–
`Ctrl + k`      # åˆ é™¤å…‰æ ‡ä¹‹å‰åˆ°è¡Œå°¾çš„å­—ç¬¦

`Ctrl + a`      # å…‰æ ‡ç§»åŠ¨åˆ°è¡Œé¦–(ahead)
`Ctrl + e`      # å…‰æ ‡ç§»åŠ¨åˆ°è¡Œå°¾(End)

`Ctrl + å³ç®­å¤´`  # å…‰æ ‡å‘åç§»åŠ¨ä¸€ä¸ªå­—ç¬¦ä½ç½®

`Arrow up`  # ç›´æ¥è¾“å…¥historyé‡Œçš„æŒ‡ä»¤

`ctrl+d`     #quit ssh
`ctrl+c`     #kill recent program

`ctrl+r`    # fzf ç»ˆç«¯å‘½ä»¤å†å²æœç´¢

### macç³»ç»Ÿç¯å¢ƒå˜é‡
> Macç³»ç»Ÿçš„ç¯å¢ƒå˜é‡ï¼ŒåŠ è½½é¡ºåºä¸ºï¼š
> /etc/profile
> /etc/paths 
> ~/.bash_profile 
> ~/.bash_login 
> ~/.profile 
> ~/.bashrc
> (etcç›®å½•ä¸‹é¢çš„æ˜¯ç³»ç»Ÿçº§çš„é…ç½®ï¼Œ~ç›®å½•ä¸‹çš„æ˜¯ç”¨æˆ·é…ç½®)
> /etc/profileå’Œ/etc/pathsæ˜¯ç³»ç»Ÿçº§åˆ«çš„ï¼Œç³»ç»Ÿå¯åŠ¨å°±ä¼šåŠ è½½ï¼Œåé¢å‡ ä¸ªæ˜¯å½“ç”¨æˆ·çº§çš„ç¯å¢ƒå˜é‡ã€‚åé¢3ä¸ªæŒ‰ç…§ä»å‰å¾€åçš„é¡ºåºè¯»å–.å¦‚æœ/.bash_profileæ–‡ä»¶å­˜åœ¨ï¼Œåˆ™åé¢çš„å‡ ä¸ªæ–‡ä»¶å°±ä¼šè¢«å¿½ç•¥ä¸è¯»äº†;


### ç»ˆç«¯ä¸­æ–‡æ”¯æŒ
å°†ä¸‹é¢å‡ è¡Œä»£ç åŠ `.shellrc/.zshrc`ã€‚

ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥æœ‰`ohmyzsh`ï¼Œå®ƒä¼šé‡ç½®è¯­è¨€ç¯å¢ƒï¼Œæ‰€ä»¥éœ€è¦å°†å…¶æ·»åŠ åœ¨`source oh-my-zsh.sh`åã€‚é’ˆå¯¹gitä¸­æ–‡ä¹±ç çš„æƒ…å†µï¼Œåˆ™éœ€è¦`git config --global core.quotepath false`,å…³äºgitå†å•ç‹¬ä¸€ä¸ªæ–‡ä»¶ä¸­â€”â€”`learn-code/learn-tools/learn-git.md`ã€‚

```shell
export LC_ALL=en_US.UTF-8  
export LANG=en_US.UTF-8
```

### mac terminal æ ‡é¢˜
```shell
#åŠ å…¥.zshrcï¼Œå–æ¶ˆohmyzshè‡ªåŠ¨ç”Ÿæˆé¢˜ç›®
DISABLE_AUTO_TITLE="true"
#å†åœ¨terminalè®¾ç½®ä¸­windowä¸­è®¾ç½®æ˜¾ç¤ºé¡¹ç›®
```

### mac terminal å–æ¶ˆloginä¿¡æ¯æ˜¾ç¤º
```shell
touch ~/.hushlogin
```


### mac-terminal æŒ‡ä»¤
- [mac terminal command manual](https://www.dssw.co.uk/reference/)
#### å†…å­˜
```shell
top -l 1 | head -n 10 | grep PhysMem  #æŸ¥çœ‹macå†…å­˜å ç”¨
sudo purge          #macæ¸…ç†RAM  
```

#### ç”µæºç®¡ç†pmset
- `pmset -a`ï¼šè°ƒæ•´ä»»ä½•æ¡ä»¶ä¸‹çš„ç¡çœ è®¡åˆ’
- `pmset -c`ï¼šè°ƒæ•´å¤–éƒ¨ä¾›ç”µçš„ç¡çœ è®¡åˆ’
- `pmset -b`ï¼šè°ƒæ•´ç”µæ± ä¾›ç”µçš„ç¡çœ è®¡åˆ’
- `pmset -g`ï¼šæŸ¥çœ‹è®¡åˆ’

```bash
pmset -g custom	#æ˜¾ç¤ºç”µæºè®¾ç½®
pmset -g log | egrep "\b(Sleep|Wake|DarkWake|Start)\s{2,}" # æŸ¥çœ‹ç¡çœ å”¤é†’log
sudo pmset -a tcpkeepalive 0  #å…³é—­æ‰€æœ‰æƒ…å†µä¸‹ç¡çœ æ˜¯ä¿æŒTCPé“¾æ¥çš„è®¾ç½®
man pmset

#æŸ¥çœ‹ç”µæºè®¾ç½®çš„æ‰‹å†Œï¼Œæ¯”å¦‚ä¸‹é¢è¿™ä¸ªï¼š
	proximitywake - On supported systems, this option controls system wake from sleep based on proximity of devices using same 	iCloud id. (value = 0/1)
```
![](Unix-tips.assets/pmset.png)

#### ç½‘ç»œ
```bash
netstat -an | grep 1080	 #æŸ¥çœ‹ç«¯å£å·ä¿¡æ¯(lsof -i:80 ä¹Ÿæ˜¯çœ‹ç«¯å£å·)
>>> tcp6       0      0  ::1.1080          *.*             LISTEN     
>>> tcp4       0      0  127.0.0.1.1080    *.*             LISTEN 

```

#### mac defaults æŒ‡ä»¤
```
#finderæ˜¾ç¤ºéšè—æ–‡ä»¶
defaults write com.apple.finder AppleShowAllFiles -bool true
KillAll Finder

sudo scutil --set HostName zx #è®¾ç½®æœºå™¨åï¼Œä¹Ÿå°±æ˜¯@åçš„åå­—
defaults write com.apple.dock springboard-rows -int 7 #æ”¹launchpadå›¾æ ‡
defaults write com.apple.dock springboard-columns -int 8
defaults write com.apple.dock ResetLaunchPad -bool TRUE
killall Dock

defaults write com.apple.dock showhidden -bool true #æœ‰éšè—çª—å£çš„å›¾æ ‡å˜æš— 
killall Dock

defaults write com.apple.dock persistent-apps -array-add '{"tile-type"="spacer-tile";}' #dockæ·»åŠ é€æ˜å›¾æ ‡
defaults write com.apple.dock persistent-others -array-add '{tile-data={}; tile-type="spacer-tile";}' #dockå †æ ˆåŒºæ·»åŠ ç©ºç™½
killall Dock

#æ›´æ”¹è®¿è¾¾é»˜è®¤æ˜¾ç¤ºæ¨¡å¼ï¼ˆä¸å¥½ä½¿ï¼‰    
defaults write com.apple.Finder FXPreferredViewStyle Nlsv
ã€€ã€€killall Finder
```

#### latex
- [Texlive å’Œ mactex-no-gui](https://www.reddit.com/r/LaTeX/comments/1e5nyrv/differences_between_texlive_and_mactexnogui/?tl=zh-hans)
```shell
brew install --cask mactex-no-gui

## sudo tlmgr repository set http://mirror.hust.edu.cn/CTAN/systems/texlive/tlnet #latexåŒ…è®¾ç½®é•œåƒ

## tlmgr update --self #æ›´æ–°tlmgr
```

#### é“¾æ¥åŠ¨æ€åº“ï¼
```shell
man ln
#å¾—åˆ°ä¸‹é¢æè¿° ========
  æŒ‡ä»¤åç§° : ln
  ä½¿ç”¨æƒé™ : æ‰€æœ‰ä½¿ç”¨è€…
  ä½¿ç”¨æ–¹å¼ : ln [options] source distï¼Œå…¶ä¸­ option çš„æ ¼å¼ä¸º :
  [-bdfinsvF] [-S backup-suffix] [-V {numbered,existing,simple}]
  [--help] [--version] [--]
  è¯´æ˜ : Linux/Unix æ¡£æ¡ˆç³»ç»Ÿä¸­ï¼Œæœ‰æ‰€è°“çš„è¿ç»“(link)ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è§†ä¸ºæ¡£æ¡ˆçš„åˆ«åï¼Œè€Œè¿ç»“åˆå¯åˆ†ä¸ºä¸¤ç§ : ç¡¬è¿ç»“(hard link)ä¸è½¯è¿ç»“(symbolic link)ï¼Œç¡¬è¿ç»“çš„æ„æ€æ˜¯ä¸€ä¸ªæ¡£æ¡ˆå¯ä»¥æœ‰å¤šä¸ªåç§°ï¼Œè€Œè½¯è¿ç»“çš„æ–¹å¼åˆ™æ˜¯äº§ç”Ÿä¸€ä¸ªç‰¹æ®Šçš„æ¡£æ¡ˆï¼Œè¯¥æ¡£æ¡ˆçš„å†…å®¹æ˜¯æŒ‡å‘å¦ä¸€ä¸ªæ¡£æ¡ˆçš„ä½ç½®ã€‚ç¡¬è¿ç»“æ˜¯å­˜åœ¨åŒä¸€ä¸ªæ¡£ æ¡ˆç³»ç»Ÿä¸­ï¼Œè€Œè½¯è¿ç»“å´å¯ä»¥è·¨è¶Šä¸åŒçš„æ¡£æ¡ˆç³»ç»Ÿã€‚
  ln source dist æ˜¯äº§ç”Ÿä¸€ä¸ªè¿ç»“(dist)åˆ° sourceï¼Œè‡³äºä½¿ç”¨ç¡¬è¿ç»“æˆ–è½¯é“¾ç»“åˆ™ç”±å‚æ•°å†³å®šã€‚
  ä¸è®ºæ˜¯ç¡¬è¿ç»“æˆ–è½¯é“¾ç»“éƒ½ä¸ä¼šå°†åŸæœ¬çš„æ¡£æ¡ˆå¤åˆ¶ä¸€ä»½ï¼Œåªä¼šå ç”¨éå¸¸å°‘é‡çš„ç£ç¢Ÿç©ºé—´ã€‚
  -f : é“¾ç»“æ—¶å…ˆå°†ä¸ dist åŒæ¡£åçš„æ¡£æ¡ˆåˆ é™¤
  -d : å…è®¸ç³»ç»Ÿç®¡ç†è€…ç¡¬é“¾ç»“è‡ªå·±çš„ç›®å½•
  -i : åœ¨åˆ é™¤ä¸ dist åŒæ¡£åçš„æ¡£æ¡ˆæ—¶å…ˆè¿›è¡Œè¯¢é—®
  -n : åœ¨è¿›è¡Œè½¯è¿ç»“æ—¶ï¼Œå°† dist è§†ä¸ºä¸€èˆ¬çš„æ¡£æ¡ˆ
  -s : è¿›è¡Œè½¯é“¾ç»“(symbolic link)
  -v : åœ¨è¿ç»“ä¹‹å‰æ˜¾ç¤ºå…¶æ¡£å
  -b : å°†åœ¨é“¾ç»“æ—¶ä¼šè¢«è¦†å†™æˆ–åˆ é™¤çš„æ¡£æ¡ˆè¿›è¡Œå¤‡ä»½
  -S SUFFIX : å°†å¤‡ä»½çš„æ¡£æ¡ˆéƒ½åŠ ä¸Š SUFFIX çš„å­—å°¾
  -V METHOD : æŒ‡å®šå¤‡ä»½çš„æ–¹å¼
  --help : æ˜¾ç¤ºè¾…åŠ©è¯´æ˜
  --version : æ˜¾ç¤ºç‰ˆæœ¬


#=================ä¸€ä¸ªæ¡ˆä¾‹==================
#å®‰è£…
cd atomsk	#è¿›å…¥å®‰è£…æ–‡ä»¶å¤¹
sudo zsh install.sh		#è¿è¡Œå®‰è£…ç¨‹åº
>>> The program was successfuly installed in /usr/local/bin/
    To run it, enter 'atomsk' in a terminal.

#è¯•è¿è¡Œï¼ˆå¤±è´¥ï¼‰
atomsk		#è¿è¡Œä¸€ä¸‹ 
>>> dyld: Library not loaded: /usr/local/gfortran/lib/libquadmath.0.dylib

#è°ƒè¯•ï¼ˆé“¾æ¥åŠ¨æ€åº“ï¼‰
gfortran --print-file-name libquadmath.0.dylib	#çœ‹ä¸€ä¸‹ç°åœ¨è¿™ä¸ªåŠ¨æ€åº“æ–‡ä»¶ä½ç½®
>>> /usr/local/Cellar/gcc/9.3.0/lib/gcc/9/gcc/x86_64-apple-darwin19/9.3.0/../../../libquadmath.0.dylib

which gcc   
>>> /usr/bin/gcc

which gfortran		#çœ‹ä¸€ä¸‹å…¨å±€å˜é‡è¢«é“¾æ¥åˆ°å“ªä¸ªä½ç½®
>>> /usr/local/bin/gfortran

ln /usr/local/Cellar/gcc/9.3.0/lib/gcc/9/libquadmath.0.dylib /usr/local/lib/libquadmath.0.dylib			#æŠŠåŠ¨æ€åº“è¿æ¥åˆ°è¿™ä¸ªä½ç½®

#å†æ¬¡è¯•è¿è¡Œï¼ˆæˆåŠŸï¼‰
atomsk --create fcc 4.02 Al aluminium.xsf	#æˆåŠŸå•¦ï¼
>>> Creating system:
..> Fcc Al oriented X=[100] Y=[010] Z=[001].
..> System was successfully created.
>>> Writing output file(s) (4 atoms):
..> Successfully wrote XSF file: aluminium.xsf
\o/ Program terminated successfully!
>>> Total time: 0.002 s.; CPU time: 0.002 s.
```

#### mac .net core å®‰è£…ä½ç½®
```shell
The following frameworks were found:
      5.0.2 at [/usr/local/share/dotnet/shared/Microsoft.AspNetCore.App]
```


### ç»ˆç«¯è½¯ä»¶ç®¡ç†
homebrewï¼Œcurlï¼Œwgetï¼Œpipï¼Œcondaï¼Œyumï¼Œscoopâ€¦â€¦å‡æ˜¯åŒ…ç®¡ç†å™¨ï¼Œä¹Ÿå°±æ˜¯app storeâ•è¿…é›·

å†³å®šMacä½¿ç”¨Homebrew+pip3æ¥ç®¡ç†terminalçš„åŒ…ä¸‹è½½ã€‚ï¼ˆpipå·²é›†æˆåœ¨python3é‡Œï¼Œå«pip3ï¼‰

### Oh my zsh

å®‰è£…æ’ä»¶æ­¥éª¤
```bash
 # 1. ç»ˆç«¯è¾“å…¥
 vim ~/.zshrc

# 2. æ‰¾åˆ° plugins=(zsh-syntax-highlighting)    #ï¼ˆï¼‰é‡Œå¢åŠ è¦å®‰è£…çš„æ’ä»¶

# 3. ç»ˆç«¯è¾“å…¥: clone ä¸ $ ä¹‹é—´çš„ç½‘å€å°±æ˜¯å®‰è£…æ–‡ä»¶GitHubç½‘å€ï¼Œä¸Šè¿°å‘½ä»¤æŒ‡ï¼šä¸‹è½½åˆ°~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting æ–‡ä»¶å¤¹
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

# 4. ç»ˆç«¯è¾“å…¥ æ›´æ–°é…ç½®æ–‡ä»¶
source ~/.zshrc

# 5. é‡å¯ç»ˆç«¯
```


[**oh my zsh æœ‰å¾ˆå¤šå†…ç½®æ’ä»¶ä½†é»˜è®¤ä¸æ‰“å¼€**](https://hufangyun.com/2017/zsh-plugin/)ï¼š `cd ~/.oh-my-zsh/plugins` å°±å¯ä»¥çœ‹ä¸‹ï¼Œç„¶åæ¯”å¦‚ä½¿ç”¨sublimeï¼Œå°±åœ¨.zshrcä¸­çš„plugins=ï¼ˆï¼‰ä¸­åŠ å…¥sublimeï¼Œå°±å¯ä»¥åœ¨ç»ˆç«¯ä½¿ç”¨å¦‚ä¸‹ä»£ç äº†ï¼š

```shell
omz update #æ›´æ–°ohmyzsh 
st filename	#ç”¨sublime æ‰“å¼€æ–‡ä»¶
stt		#ç”¨sublimeæ‰“å¼€å½“å‰æ–‡ä»¶å¤¹


# è¿˜æœ‰å¾ˆå¤šä¸é”™çš„å†…ç½®æ’ä»¶ï¼Œæ¯”å¦‚å¯ä»¥ä»£æ›¿autojumpçš„â€˜zâ€™
z	# é¦–å…ˆä½ éœ€è¦è¿›å…¥æŸä¸ªæ–‡ä»¶å¤¹ï¼Œç„¶åzä¼šè®°ä½ï¼Œä¸‹æ¬¡å°±ä¸ç”¨cdäº†ï¼Œç›´æ¥z ä¸»è¦æ˜¯ä¸éœ€è¦å†™è·¯å¾„
>>> 4          /Users/zxll/Desktop/code/lammps/friction
>>> 4          /Users/zxll/Desktop/code/lammps/mechanical
>>> 4          /Users/zxll/Desktop/code/lammps/run
>>> 4          /Users/zxll/Desktop/code/lammps/thermal
>>> 4          /Users/zxll/Desktop/code/python/pandas
>>> 4          /Users/zxll/Desktop/write/markdown/computer
>>> 4          /Users/zxll/Downloads

```

### Homebrew
macä¸Šç»ˆç«¯è®¾ç½®ä»£ç†ç„¶åè¿è¡Œä¸‹é¢çš„install.shï¼ˆå› ä¸ºæˆ‘ç”¨çš„æ˜¯betaç‰ˆç³»ç»Ÿï¼Œæœ‰æ—¶è¯†åˆ«ä¸å‡ºæ¥å°±æŠ¥é”™ï¼Œæ‰€ä»¥æŠŠé‚£ä¸ªlinuxå’Œmacçš„ifè¯­å¥åˆ æ‰äº†ï¼Œä¸åˆ¤æ–­ç›´æ¥æ‰§è¡Œï¼‰
**æ–‡ä»¶æ”¹åŠ¨è§`/Users/zxll/Documents/zx-profiles/teminal/homebrewæ”¹.sh`**
åŒ…ä¸‹è½½ä½ç½®ä¸€èˆ¬åœ¨ï¼š**/Users/zxll/Library/Caches/Homebrew/downloads**

```shell
brew list #åˆ—å‡ºå·²å®‰è£…çš„è½¯ä»¶
brew outdated #æŸ¥çœ‹å“ªäº›éœ€è¦æ›´æ–°
brew update #æ›´æ–°brew
brew update-reset #â€œé‡è£…homebrewâ€
brew home #ç”¨æµè§ˆå™¨æ‰“å¼€brewçš„å®˜æ–¹ç½‘ç«™
brew info #æ˜¾ç¤ºè½¯ä»¶ä¿¡æ¯brew deps #æ˜¾ç¤ºåŒ…ä¾èµ–
brew upgrade #æ›´æ–°æ‰€æœ‰
brew upgrade  [Name] #æ›´æ–°æŒ‡å®šåŒ…
brew cleanup #æ¸…ç†æ‰€æœ‰åŒ…çš„æ—§ç‰ˆæœ¬
brew cleanup  [Name] #æ¸…ç†æŒ‡å®šåŒ…çš„æ—§ç‰ˆæœ¬
brew cleanup -n #æŸ¥çœ‹å¯æ¸…ç†çš„æ—§ç‰ˆæœ¬åŒ…ï¼Œä¸æ‰§è¡Œå®é™…æ“ä½œ
brew deps --installed --tree #æŸ¥çœ‹æ‰€æœ‰ä¾èµ–å…³ç³»
```

[brewæ¸…åæº](https://mirrors.tuna.tsinghua.edu.cn/help/homebrew/)
[brewé˜¿é‡Œæº](https://developer.aliyun.com/mirror/homebrew/)
```shell
# brew ç¨‹åºæœ¬èº«ï¼ŒHomebrew/Linuxbrew ç›¸åŒ
git -C "$(brew --repo)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git

# ä»¥ä¸‹é’ˆå¯¹ mac OS ç³»ç»Ÿä¸Šçš„ Homebrew
git -C "$(brew --repo homebrew/core)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
git -C "$(brew --repo homebrew/cask)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git
git -C "$(brew --repo homebrew/cask-fonts)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask-fonts.git
git -C "$(brew --repo homebrew/cask-drivers)" remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask-drivers.git
```

brew è®¾ç½®åŸæœ‰æºï¼š

```shell
# brew ç¨‹åºæœ¬èº«ï¼ŒHomebrew/Linuxbrew ç›¸åŒ
git -C "$(brew --repo)" remote set-url origin https://github.com/Homebrew/brew.git

# ä»¥ä¸‹é’ˆå¯¹ mac OS ç³»ç»Ÿä¸Šçš„ Homebrew
git -C "$(brew --repo homebrew/core)" remote set-url origin https://github.com/Homebrew/homebrew-core.git
git -C "$(brew --repo homebrew/cask)" remote set-url origin https://github.com/Homebrew/homebrew-cask.git
git -C "$(brew --repo homebrew/cask-fonts)" remote set-url origin https://github.com/Homebrew/homebrew-cask-fonts.git
git -C "$(brew --repo homebrew/cask-drivers)" remote set-url origin https://github.com/Homebrew/homebrew-cask-drivers.git
```

### pdf2zh
- [github-PDFMathTranslate](https://github.com/Byaidu/PDFMathTranslate)
```bash
pip install pdf2zh
```

### yt-dlp

```bash
# https://github.com/yt-dlp/yt-dlp
pip install yt-dlp

# yt-dlpä¸‹è½½è§†é¢‘
yt-dlp youtube_url

# ä¸‹è½½çš„è§†é¢‘è½¬æ¢ä¸ºh264ç¼–ç (ä¸€èˆ¬ä¸ºvp9)ï¼ŒéŸ³é¢‘è½¬æ¢ä¸ºaac(ä¸€èˆ¬ä¸ºopus), å°è£…ä¸ºmp4(ä¸€èˆ¬ä¸ºmkv)
ffmpeg -i input.mkv -c:v libx264 -c:a aac output.mp4

# åªä¸‹è½½ç¿»è¯‘çš„è‹±æ–‡å­—å¹•ï¼Œå¹¶è½¬æ¢ä¸ºsrtæ ¼å¼
yt-dlp --skip-download --write-auto-subs --sub-langs en --convert-sub srt https://www.youtube.com/watch?v=6vnU02PKkEs&t=2732s

# åªä¸‹è½½ç¿»è¯‘çš„ä¸­æ–‡å­—å¹•ï¼Œå¹¶è½¬æ¢ä¸ºsrtæ ¼å¼
yt-dlp --skip-download --write-auto-subs --sub-langs zh-Hans-en --convert-sub srt https://www.youtube.com/watch?v=6vnU02PKkEs&t=2732s
```

### pandoc
```bash
brew install pandoc

# æŸ¥çœ‹å­—ä½“
fc-list :lang=zh

# mac
pandoc --pdf-engine=xelatex -V CJKmainfont="PingFang SC" input.md -o output.pdf

#windows
pandoc --pdf-engine=xelatex -V CJKmainfont="Microsoft YaHei" input.md -o output.pdf
```


### Neovim
[mac vim é…ç½®](https://www.jianshu.com/p/923aec861af3)
```shell
#å®‰è£…
brew install neovim
pip3 install neovim --upgrade
```

### ipython
```bash
import os
print (os.path.abspath('.'))      #æŸ¥çœ‹pythonè¯»å–è·¯å¾„

~/.ipython/profile_default/startup  #åˆ›å»ºä¸€ä¸ªè‡ªå¯é»˜è®¤è®¾ç½®https://www.pypandas.cn/docs/user_guide/options.html#overview

# pandas å¤šæ ¸è¿è¡Œ https://github.com/nalepae/pandarallel
df.parallel_apply(func) #åŠ ä¸Šè¿™ä¸ªä½¿å¾—å‘½ä»¤åˆ©ç”¨å¤šæ ¸
```

### â€œå°é£æœºâ€
å…·ä½“è§å°é£æœºç¬”è®°ã€‚
#### shadowsocks
> [shadowsocks-electron(ALL-platform)](https://github.com/nojsja/shadowsocks-electron)
* socketçš„pacæ–‡ä»¶

* clashxçš„rule(yamlæ–‡ä»¶)
![Screen Shot 2022-03-03 at 10.26.33](Unix-tips.assets/clash_rules.png)

> é…ç½®æ–‡ä»¶éœ€è¦æ”¾ç½®åœ¨ $HOME/.config/clash/*.yaml
> è¿™ä»½æ–‡ä»¶æ˜¯clashXçš„åŸºç¡€é…ç½®æ–‡ä»¶ï¼Œè¯·å°½é‡æ–°å»ºé…ç½®æ–‡ä»¶è¿›è¡Œä¿®æ”¹ã€‚
> åªæœ‰è¿™ä»½æ–‡ä»¶çš„ç«¯å£è®¾ç½®ä¼šéšClashXå¯åŠ¨ç”Ÿæ•ˆ
> å¦‚æœæ‚¨ä¸çŸ¥é“å¦‚ä½•æ“ä½œï¼Œè¯·å‚é˜…[å®˜æ–¹Githubæ–‡æ¡£](https://github.com/Dreamacro/clash/blob/dev/README.md)


### sublime

sublime å¿«æ·é”®ï¼š

* `cmd+c/v/x` å¤åˆ¶/ç²˜è´´/å‰ªåˆ‡ æŸè¡Œï¼ˆä¸éœ€è¦é€‰ä¸­ï¼‰
* `cmd+d/u`   é€‰è¯/æ’¤é”€ä¸Šä¸ªé€‰è¯ï¼ˆé€‰ä¸­ä¸€ä¸ªè¯åï¼Œå¤šå…‰æ ‡é€‰åŒæ ·wordï¼‰
* `cmd+/`     æ³¨é‡Šæœ¬è¡Œ
* `cmd+[/]`   ç¼©è¿›ä¸å–æ¶ˆç¼©è¿›ï¼ˆé€‰ä¸­å¤šè¡Œå¯ä»¥åŒæ—¶ï¼‰
* `cmd+k`     æ‰“å¼€/å…³é—­ä¾§è¾¹æ–‡ä»¶æ 
* `cmd+F`     æœç´¢
* `cmd+G`     æœç´¢ä¸­ä¸ºæœç´¢ä¸‹ä¸€ä¸ª
* `opt+Enter` æœç´¢ä¸­æœç´¢å¹¶é€‰ä¸­å…¨éƒ¨
* opt+'click'  è¿›å…¥åˆ—é€‰æ‹©æ¨¡å¼
* `cmd+Arrow` å»æœ€ä¸Šæˆ–æœ€ä¸‹
* `F12`/`cmd+opt+Arrow down`     è·³è½¬å®šä¹‰

sublimeæ’ä»¶ï¼š

* Package Control
* ConvertToUTF8
* SideBar Enhancements
* Anaconda
* Autopep8
* sublimelinter
* PackageDev
* latextools

[latextools](https://latextools.readthedocs.io/en/latest/install/)
* [sublime å¤šé‡é€‰æ‹©]((null))
* [sublime anaconda è‡ªåŠ¨è¡¥å…¨pythonåº“]((null))
* [é…ç½®sublime-python1](https://www.jianshu.com/p/193d0f9a6190)
* [é…ç½®sublime-python2](https://blog.csdn.net/DawnRanger/article/details/48575507)
* [sublimelinter](http://www.sublimelinter.com/en/stable/)
* [sublimeè‡ªå®šä¹‰é«˜äº®](http://blog.lessfun.com/blog/2016/10/28/make-a-custom-syntax-highlighting-for-sublime-text/)
* [sublime snippets and completions](https://blog.csdn.net/varalpha/article/details/105128139)
* [sublimeè‡ªå®šä¹‰è¯­æ³•å®˜æ–¹æ–‡æ¡£](https://www.sublimetext.com/docs/3/scope_naming.html)

In Sublime , we can create our own language highlight document named â€œ.sublime-syntaxâ€,which saved in package/user folder.
**å…¶ä¸­matchè¯­æ³•ä¸ºæ­£åˆ™è¡¨è¾¾å¼**

### vscode
#### ä¸»é¢˜éšä¸»é¢˜æ›´æ”¹
`setting` æœç´¢ `auto detect color scheme`
å†è®¾ç½®å¥½`light color scheme` å’Œ `dark color scheme`

#### vscodeå¿«æ·é”®
* **`cmd+c/v/x` å¤åˆ¶/ç²˜è´´/å‰ªåˆ‡ æŸè¡Œï¼ˆä¸éœ€è¦é€‰ä¸­ï¼‰**
* **`cmd+d/u`   é€‰è¯/æ’¤é”€ä¸Šä¸ªé€‰è¯ï¼ˆé€‰ä¸­ä¸€ä¸ªè¯åï¼Œå¤šå…‰æ ‡é€‰åŒæ ·wordï¼‰**
* **`cmd+/`       æ³¨é‡Šæœ¬è¡Œ**
* **`cmd+[/]`   ç¼©è¿›ä¸å–æ¶ˆç¼©è¿›ï¼ˆé€‰ä¸­å¤šè¡Œå¯ä»¥åŒæ—¶ï¼‰**
* **`cmd+B`      æ‰“å¼€/å…³é—­ä¾§è¾¹æ–‡ä»¶æ **
* **`ctrl+B`    è¿è¡Œè„šæœ¬**
* **`cmd+F`     æœç´¢**
* **`cmd+R`     æ‰“å¼€æœ€è¿‘**
* **`cmd+T`     æ‰“å¼€ä¸‹é¢åˆ†å‰²çš„ç»ˆç«¯**
* **`cmd+J`     æ‰“å¼€æ§åˆ¶å°**
* **`cmd+P`     æ‰“å¼€æ–‡ä»¶**
* **`cmd+G`     æœç´¢ä¸­ä¸ºæœç´¢ä¸‹ä¸€ä¸ª**
* **`opt+Enter` æœç´¢ä¸­æœç´¢å¹¶é€‰ä¸­å…¨éƒ¨**
* **opt+shift+'click'  è¿›å…¥åˆ—é€‰æ‹©æ¨¡å¼**
* **`cmd+Arrow` å»æœ€ä¸Šæˆ–æœ€ä¸‹**
* **`cmd+E`/`cmd+opt+Arrow down`  è·³è½¬å®šä¹‰**

## macå°é—®é¢˜

### [Mds_Stores è¿›ç¨‹é«˜å ç”¨](https://www.easeus.com/computer-instruction/mds-store.html#temporarily_stop_and_restart_spotlight)
Are you wondering what Mds_Stores is? If you are not too tech-savvy, seeing such a massive CPU utilization on one process can be jarring. Let's know more about this software problem.Â 

The Mds_Stores is an in-built indexing process integrated into the Mac Spotlight Search. Here, the MDS stands for metadata server. The MDS tracks and maintains the data present on the Mac and is used by the macOSÂ [Spotlight](https://en.wikipedia.org/wiki/Spotlight_\(software\)). It is the responsibility of Mds_Stores to maintain and compile the data that MDS collects to make Spotlight more efficient.Â 

Mds_Stores facilitates quick Spotlight search results. The recommendations you get when you type something into the Spotlight are due to the Mds_Stores. That makes it easier for you to complete the task.

1. [Reboot Your Mac](https://www.easeus.com/computer-instruction/mds-store.html#reboot_your_mac)
2. [Disable Spotlight](https://www.easeus.com/computer-instruction/mds-store.html#disable_spotlight)
3. [Temporarily Stop and Restart Spotlight](https://www.easeus.com/computer-instruction/mds-store.html#temporarily_stop_and_restart_spotlight)

# å…±ç”¨é”®é¼ 
## deskflow
[deskflow](https://github.com/deskflow/deskflow/)

### deskflowæ— æ³•è¿æ¥
```bash
# deskflow-server æƒé™ï¼Œå°±åœ¨appçš„contentsé‡Œï¼Œå¯¹åº”çš„å°±æ˜¯macè®¾ç½®-network-firewall-optionsç•Œé¢ä¸­çš„æƒé™è¡¨ã€‚
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /Applications/Deskflow.app/Contents/MacOS/deskflow-server
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --unblockapp /Applications/Deskflow.app/Contents/MacOS/deskflow-server

# deskflow-client æƒé™
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --add /Applications/Deskflow.app/Contents/MacOS/deskflow-client
sudo /usr/libexec/ApplicationFirewall/socketfilterfw --unblockapp /Applications/Deskflow.app/Contents/MacOS/deskflow-client

# é‡å¯ä¸‹serverå’Œclientå°±å¯ä»¥äº†
```

### deskflow é…ç½®
æœ‰æ—¶å€™å¯èƒ½ä¼šå‡ºç°é…ç½®é”™è¯¯ï¼Œæ¯”å¦‚macç«¯æ¢äº†ä¸€ä¸ªåå­—ï¼Œå°±æ— æ³•å¼€å¯serveräº†ï¼Œæ˜¯å› ä¸ºåç§°ä¸ä¸€è‡´ï¼Œè¿™æ—¶å€™æ‰¾åˆ°ä¸¤ä¸ªé…ç½®æ–‡ä»¶ï¼š`~/Library/Deskflow/deskflow-server.conf`å’Œ`~/Library/Deskflow/Deskflow.conf`
windowså°±æ˜¯`C:\ProgramData\Deskflow\deskflow-server.conf`

### deskflow è¾“å…¥æ³•è¯­è¨€bug
```bash
WARNING: current server language is not installed on client
```
ç›®å‰åªèƒ½æ˜¯macç”¨è‹±è¯­çš„æ—¶å€™åˆ‡è¿‡å»å¯ä»¥ã€‚

 

```yaml
section: screens
	zx-lls-MacBook-Pro.local:
		halfDuplexCapsLock = false
		halfDuplexNumLock = false
		halfDuplexScrollLock = false
		xtestIsXineramaUnaware = false
		switchCorners = none
		switchCornerSize = 0
	zhengxu-work:
		halfDuplexCapsLock = false
		halfDuplexNumLock = false
		halfDuplexScrollLock = false
		xtestIsXineramaUnaware = false
		switchCorners = none
		switchCornerSize = 0
end

section: aliases
end

section: links
	zx-lls-MacBook-Pro.local:
		right = zhengxu-work
	zhengxu-work:
		left = zx-lls-MacBook-Pro.local
end
```
# Linux

## å¯è§†åŒ–è½¯ä»¶
å®˜ç½‘ä¸‹è½½è¦æ³¨æ„æœ€å¥½æœä¸€æœæ€ä¹ˆæ·»åŠ aptæºï¼Œå¦åˆ™æ›´æ–°æ¯”è¾ƒéº»çƒ¦ï¼Œç°åœ¨å¾ˆå¤šappéƒ½åœ¨ubuntuçš„åº”ç”¨å•†åº—ä¸­ï¼Œä¼˜å…ˆé€‰æ‹©è¿™ç§å®‰è£…æ–¹å¼ã€‚

| è½¯ä»¶åç§°                                        | ç±»å‹                                                      | å®‰è£…æ–¹å¼                                                 |
| ------------------------------------------- | ------------------------------------------------------- | ---------------------------------------------------- |
| [Flathub](https://flathub.org/setup/Ubuntu) | è½¯ä»¶å•†åº—                                                    | æŒ‰ç…§å®˜ç½‘aptå®‰è£…                                            |
| QQ                                          | èŠå¤©                                                      | å®˜ç½‘ä¸‹è½½dpkgå®‰è£…                                           |
| Edge                                        | æµè§ˆå™¨                                                     | å®˜ç½‘dpkg&æ·»åŠ è½¯ä»¶æº                                         |
| pdfarranger                                 | PDFç¼–è¾‘                                                   | apt install                                          |
| VLC                                         |                                                         | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| Blender                                     | 3Då»ºæ¨¡/åŠ¨ç”»                                                 | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| GNU image                                   | å›¾ç‰‡ç¼–è¾‘                                                    | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| VScode                                      | ä»£ç ç¼–è¾‘å™¨                                                   | å®˜ç½‘ï¼ˆUbuntu åº”ç”¨å•†åº—å®‰è£…çš„æœ‰bug)                               |
| FreeCAD                                     | CADå·¥ç¨‹å›¾                                                  | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| kicad                                       | ç”µè·¯&PCB                                                  | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| LocalSend                                   | å±€åŸŸç½‘ä¼ æ–‡ä»¶                                                  | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| Inkscape                                    | çŸ¢é‡å›¾åšå›¾                                                   | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| Krita                                       | ç”»ç”»                                                      | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| Kdenlive                                    | è§†é¢‘ç¼–è¾‘å™¨                                                   | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| Foliate                                     | é˜…è¯»å™¨                                                     | Ubuntu åº”ç”¨å•†åº—æˆ–Flathubå•†åº—                                |
| zotero                                      | æ–‡çŒ®ç®¡ç†                                                    | Ubuntu åº”ç”¨å•†åº—æˆ–å®˜ç½‘                                       |
| goldendict                                  | [ç¿»è¯‘](https://www.cnblogs.com/keatonlao/p/12702571.html) | [å®˜ç½‘](https://github.com/goldendict/goldendict)æˆ–aptå®‰è£… |
| æ¬§é™†è¯å…¸                                        | ç¿»è¯‘                                                      | å®˜ç½‘ä¸‹è½½Debå®‰è£…                                            |


## å°é—®é¢˜

### å®‰è£…unbuntu-winåŒç³»ç»Ÿ
æœ‰iCloud Booksä¸­çš„pdf æ–‡ä»¶å¤‡ä»½
https://blog.csdn.net/NeoZng/article/details/122779035

### å®‰è£…pyenv &æœ¬åœ°æ ‡å‡†python
æœ¬åœ°æ²¡æ³•ç”¨apt å®‰è£…pythonï¼Œå…ˆå®‰è£…ç³»ç»Ÿpython-pip
```bash
sudo apt install python3-pip
sudo apt install python3-virtualenv
```

ç¼–è¯‘pthon æ‰€éœ€è¦çš„åº“ï¼š
```bash
sudo apt install build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev libbz2-dev liblzma-dev sqlite3 libsqlite3-dev tk-dev uuid-dev libgdbm-compat-dev
```

å®‰è£…

è¿™äº›åŒ…æœ‰é—®é¢˜è¿Ÿæ—©è¦è¿˜ï¼ˆ`sudo apt install --reinstall ï¼Ÿ=ï¼Ÿ`æ¥æŒ‡å®šå®‰è£…çš„ç‰ˆæœ¬ï¼‰ï¼Œæ¯”å¦‚ä¸‹é¢ï¼š

é”™è¯¯ no module named zlibï¼š
è§£å†³ï¼šsudo apt install libffi-dev

é”™è¯¯ No module named '_bz2'ï¼š
è§£å†³ï¼šsudo apt install libbz2-devï¼Œä½†æ˜¯å¯èƒ½æŠ¥é”™libbz2-1.0ç‰ˆæœ¬ä¸å¯¹ï¼Œè¿™æ—¶å€™éœ€è¦sudo apt install --reinstall libbz2-1.0=1.0.8-5.1ï¼ˆå…·ä½“ç‰ˆæœ¬çœ‹æŠ¥é”™ä¿¡æ¯ï¼‰

é”™è¯¯ï¼šNo module named '_ctypes'ï¼š
è§£å†³ï¼šsudo apt install libffi-dev 
No module named '_tkinter'è§£å†³ï¼šsudo apt install tk-dev

#### pyenv cache
pyenv å®‰è£…pythonéœ€è¦ä»£ç†ï¼Œå¯ä»¥è‡ªå·±ä»£ç†ä¸‹è½½æˆ–è€…ä¸‹è½½é•œåƒæ–‡ä»¶æ”¾åˆ°pyenvçš„cacheæ–‡ä»¶å¤¹ä¸­ï¼Œä¹Ÿå°±æ˜¯`~/.pyenv/cache`ã€‚


### linux ä¸²å£æ— æ³•è®¿é—®ï¼ˆæƒé™ä½ï¼‰
- []()
```bash
# ä¸´æ—¶å¤„ç†
sudo chmod 777 /dev/ttyUSB0

# æ°¸ä¹…å¤„ç†(æœ€åæ˜¯è‡ªå·±çš„ç”¨æˆ·å)ï¼Œç„¶åé‡å¯
sudo usermod -aG dialout zx
```

### ubuntu å®‰è£…arm-none-eabi-gcc
Aptåº“é‡Œæœ‰è¿™ä¸ªäº¤å‰ç¼–è¯‘çš„gccï¼Œä½†æ˜¯æ²¡æœ‰gdbï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±å®‰è£…ã€‚ï¼ˆä¸æ’é™¤æœªæ¥åŠ å…¥gdbçš„å¯èƒ½æ€§ï¼Œé‚£å°±å¯ä»¥ç”¨aptå®‰è£…äº†ï¼‰è§æ–‡é“¾æ¥ã€‚ä½†æ˜¯aptä¸­çš„ç‰ˆæœ¬å…ˆç”¨searchçœ‹ä¸€ä¸‹ï¼Œå¦‚æœç‰ˆæœ¬å¤ªè€ï¼ˆ2025å¹´è¿˜æ˜¯10.3å‡ å¹´æ²¡æ›´æ–°äº†ï¼‰ï¼Œå°±åœ¨ä¸‹é¢ä¸¤ä¸ªç½‘ç«™ä¸‹è½½ï¼šï¼ˆå»ºè®®å®˜ç½‘ï¼Œdebçš„éœ€è¦é¢å¤–åº“ï¼‰

- [aliyun-arm-gcc-deb](https://mirrors.aliyun.com/ubuntu/pool/universe/g/gcc-arm-none-eabi/)
- [armå®˜æ–¹ä¸‹è½½,ä¸éœ€è¦é¢å¤–åº“but slow](https://developer.arm.com/downloads/-/arm-gnu-toolchain-downloads)
```bash
sudo apt search gcc-arm-none-eabi

# å¦‚æœç‰ˆæœ¬ä¸è€ï¼Œå°±ä¸éœ€è¦ä¸‹è½½ï¼Œç›´æ¥aptå®‰è£…
sudo apt install gcc-arm-none-eabi
```

1. éœ€è¦å®‰è£…çš„åº“
```bash
sudo apt install build-essential zlib1g-dev libexpat1-dev \
libssl-dev libc6-dev libbz2-dev libffi-dev \
libdb-dev liblzma-dev libncurses-dev \
libncursesw5-dev libsqlite3-dev libreadline-dev \
uuid-dev libgdbm-dev tk-dev libbluetooth-dev
```

2. åˆ†ä¸‰ç§æƒ…å†µ
	1. å¦‚æœaptå®‰è£…ï¼Œæ— éœ€æ“ä½œ
	2. å¦‚æœä¸‹è½½çš„æ˜¯debåŒ…ï¼Œåˆ™`sudo dpkg -i gcc-arm-none-eabi-*åå­—**.deb`
	3. å¦‚æœæ˜¯å‹ç¼©åŒ…ï¼ˆå»ºè®®ï¼‰ï¼Œä»¥`arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi.tar.xz`ä¸ºä¾‹
```bash
# è§£å‹å¯è§†åŒ–æ“ä½œ
# sudo tar xvf arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi.tar.xz

# å¤åˆ¶åˆ°/usr/share/
sudo cp -r arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi /usr/share/

sudo ln -s /usr/share/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin/arm-none-eabi-gcc /usr/bin/arm-none-eabi-gcc 
sudo ln -s /usr/share/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin/arm-none-eabi-g++ /usr/bin/arm-none-eabi-g++
sudo ln -s /usr/share/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin/arm-none-eabi-gdb /usr/bin/arm-none-eabi-gdb
sudo ln -s /usr/share/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin/arm-none-eabi-size /usr/bin/arm-none-eabi-size
sudo ln -s /usr/share/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin/arm-none-eabi-as /usr/bin/arm-none-eabi-as
sudo ln -s /usr/share/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin/arm-none-eabi-objcopy /usr/bin/arm-none-eabi-objcopy
sudo ln -s /usr/share/arm-gnu-toolchain-14.2.rel1-x86_64-arm-none-eabi/bin/arm-none-eabi-objdump /usr/bin/arm-none-eabi-objdump

#å¦‚æœæŠ¥é”™æ˜¾ç¤º /usr/bin/arm-none-eabi-gcc already existsï¼Œåˆ™ï¼š
sudo rm /usr/bin/arm-none-eabi-gcc 
sudo rm /usr/bin/arm-none-eabi-g++
sudo rm /usr/bin/arm-none-eabi-gdb
sudo rm /usr/bin/arm-none-eabi-size
sudo rm /usr/bin/arm-none-eabi-as
sudo rm /usr/bin/arm-none-eabi-objcopy
sudo rm /usr/bin/arm-none-eabi-objdump
```

3. å¦‚æœæ‰§è¡Œ`arm-none-eabi-gcc -v`æŠ¥é”™æ²¡æœ‰libncurses.so.5ï¼Œåˆ™é“¾æ¥å¦‚ä¸‹ä¸¤ä¸ªåº“
```
sudo ln -s /usr/lib/x86_64-linux-gnu/libncurses.so.6 /usr/lib/x86_64-linux-gnu/libncurses.so.5
sudo ln -s /usr/lib/x86_64-linux-gnu/libtinfo.so.6 /usr/lib/x86_64-linux-gnu/libtinfo.so.5
```
[ubuntuå®‰è£…arm-none-eabi-gdbé—®é¢˜](https://askubuntu.com/questions/1243252/how-to-install-arm-none-eabi-gdb-on-ubuntu-20-04-lts-focal-fossa)

### ubuntu ä¿®æ”¹é”®ç›˜æ˜ å°„
[ubuntuäº¤æ¢altå’Œctrl](https://www.cnblogs.com/liuzhch1/p/16047019.html)
åœ¨ Ubuntu ä¸‹äº¤æ¢`Alt`å’Œ`Ctrl`é”®ï¼š

```bash
code /usr/share/X11/xkb/keycodes/evdev
```

æˆ–è€…ç”¨ç³»ç»Ÿé»˜è®¤ç¼–è¾‘å™¨æ‰“å¼€ï¼š

```bash
sudo xdg-open /usr/share/X11/xkb/keycodes/evdev
```

ç„¶åæ‰¾åˆ°`LALT`å’Œ`LCTL`æ‰€åœ¨çš„è¡Œï¼Œå®ƒä»¬çš„é»˜è®¤å€¼åº”è¯¥ä¸º`<LALT>=64`,Â `<LCTL>=37`ã€‚æŠŠå®ƒä»¬çš„å€¼äº’æ¢å³å¯äº¤æ¢è¿™ä¸¤ä¸ªé”®ã€‚

å…¶ä»–çš„æŒ‰é”®æ˜ å°„åŒç†ã€‚

æœ€åé‡å¯ä½¿æ›´æ”¹ç”Ÿæ•ˆ

```undefined
reboot
```

---

æ­¤å¤–è¿˜å¯ä»¥ç”¨ Ubuntu è‡ªå¸¦çš„è½¯ä»¶è¿›è¡Œæ›´æ”¹ã€‚æŒ‰ä¸‹`Super`é”®(ä¹Ÿå°±æ˜¯`Win`é”®)ï¼Œè¾“å…¥`Tweaks`ï¼Œä¸€ä¸ªå¼€å…³å›¾æ ‡çš„è½¯ä»¶å°±ä¼šè·³å‡ºæ¥(ä¸­æ–‡åå«`ä¼˜åŒ–`)ã€‚æ‰“å¼€å®ƒï¼Œåœ¨å·¦è¾¹æ é€‰æ‹©`é”®ç›˜å’Œé¼ æ ‡`ï¼Œåœ¨`é”®ç›˜`é‡Œæœ€å`å…¶ä»–å¸ƒå±€é€‰é¡¹`ã€‚åœ¨`Alt/Winé”®è¡Œä¸º`æˆ–`Ctrlé”®ä½ç½®`é‡Œè‡ªè¡Œä¿®æ”¹ã€‚  
ä½†æ˜¯æˆ‘è‡ªå·±ä½¿ç”¨`ä¼˜åŒ–`è¿›è¡Œæ›´æ”¹æœ‰æ—¶å€™ä¼šå¤±æ•ˆï¼Œæ¯”å¦‚åœ¨æŒ‚èµ·ä¹‹åã€‚æ›´æ”¹keycodesæš‚æ—¶æ²¡æœ‰é‡åˆ°å¤±æ•ˆçš„æƒ…å†µã€‚

### Ubuntuå®‰è£…é©±åŠ¨

```shell
ubuntu-drivers devices
sudo ubuntu-drivers autoinstall
#å¦‚æœæƒ³å®‰è£…ç‰¹å®šé¡¹ï¼Œå°±ç”¨apt install 
```
### Ubuntuè®¾ç½®ä¸­æ–‡è¾“å…¥æ³•

> [å¼•ç”¨åšå®¢](https://blog.csdn.net/weixin_44916154/article/details/124582379)
> ### å®‰è£… Chinese è¯­è¨€åŒ…
> 2. å•å‡»æ¡Œé¢å³ä¸Šè§’å›¾æ ‡ï¼Œç‚¹å‡» Settingsï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œç‚¹å‡» Region & Languageï¼Œç„¶åç‚¹å‡» Manage Installed Languages
> 3. åœ¨ Language Support çª—å£ä¸­ï¼Œå•å‡» Install/Remove Languages...
> 4. åœ¨å¼¹å‡ºçš„ Installed Languages çª—å£ä¸­ï¼Œæ‰¾åˆ° Chinese(simplified)ï¼Œç„¶åå°†å…¶å‹¾é€‰ï¼Œæœ€åå•å‡» Applyï¼Œå¦‚æœè¿›è¡Œäº†ç¬¬4æ­¥çš„è¯ï¼Œä¼šå‘ç° Chinese(simplified) å·²ç»å®‰è£…äº†
> ### å®‰è£…è¾“å…¥æ³•
> 5. ç»ˆç«¯è¾“å…¥`sudo apt-get install ibus-pinyin`
> ### è®¾ç½®è¾“å…¥æ³•
> 6. å®‰è£…å¥½åï¼Œè¿›å…¥ Settingsï¼Œç‚¹å‡» Keyboardï¼Œå†ç‚¹ Input Sources ä¸‹çš„ `+`ï¼Œåœ¨ Add an Input Source çª—å£ä¸­é€‰æ‹© Chineseï¼Œç„¶åé€‰æ‹© Chinese(Intelligent Pinyin) å¹¶å•å‡» `Add`
> 7. shiftå°±å¯ä»¥åˆ‡æ¢ä¸­è‹±æ–‡äº†ï¼Œwin+spaceä¹Ÿå¯ä»¥ã€‚


### linux ç£ç›˜åˆ†åŒºåŠè°ƒæ•´
- lsblk
- parted 
- fdisk
- resize2fs
- df
- gparted
è¿™äº› Linux ç£ç›˜å·¥å…·å„æœ‰ä¸åŒçš„ç”¨é€”å’ŒåŠŸèƒ½ï¼Œä½†å®ƒä»¬æœ‰ä¸€å®šçš„å…³è”ï¼Œä¸»è¦ç”¨äºç®¡ç†ç£ç›˜åˆ†åŒºå’Œæ–‡ä»¶ç³»ç»Ÿã€‚ä¸‹é¢æ˜¯å®ƒä»¬çš„åŒºåˆ«å’Œå…³ç³»ï¼š

**1. lsblkï¼ˆåˆ—å‡ºå—è®¾å¤‡ä¿¡æ¯ï¼‰**

â€¢ **ç”¨é€”**ï¼šæ˜¾ç¤ºç³»ç»Ÿä¸­çš„å—è®¾å¤‡ï¼ˆç£ç›˜ã€åˆ†åŒºã€LVM é€»è¾‘å·ç­‰ï¼‰ã€‚
â€¢ **ç‰¹ç‚¹**ï¼š
	â€¢ åªè¯»å·¥å…·ï¼Œä¸ä¼šä¿®æ”¹ç£ç›˜ã€‚
	â€¢ ç›´è§‚å±•ç¤ºç£ç›˜ç»“æ„åŠå…¶æŒ‚è½½ç‚¹ã€‚
	â€¢ ä¸ä¼šæ˜¾ç¤º CD-ROM æˆ–è€…ç½‘ç»œå­˜å‚¨è®¾å¤‡ï¼ˆåŒºåˆ«äº fdisk -lï¼‰ã€‚
â€¢ **ç¤ºä¾‹**ï¼š
```
lsblk
```

**2. partedï¼ˆé«˜çº§åˆ†åŒºç®¡ç†å·¥å…·ï¼‰**

â€¢ **ç”¨é€”**ï¼šåˆ›å»ºã€è°ƒæ•´ã€åˆ é™¤å’Œç®¡ç†ç£ç›˜åˆ†åŒºã€‚
â€¢ **ç‰¹ç‚¹**ï¼š
	â€¢ æ”¯æŒ GPTï¼ˆGUID åˆ†åŒºè¡¨ï¼‰å’Œ MBRï¼ˆä¸»å¼•å¯¼è®°å½•ï¼‰ã€‚
	â€¢ å¯ä»¥è°ƒæ•´åˆ†åŒºå¤§å°ï¼ˆGPTå’Œå¤§äº2Tçš„MBRä¸‹ä¸èƒ½ç”¨fdiskï¼Œè¦ç”¨partedæˆ–è€…gpartedï¼‰ã€‚
	â€¢ äº¤äº’å¼å’Œéäº¤äº’å¼æ¨¡å¼å‡å¯ç”¨ã€‚

â€¢ **ç¤ºä¾‹**ï¼š
```bash
parted /dev/sda
(parted) print
(parted) mkpart primary ext4 1MiB 10GiB
```

**3. fdiskï¼ˆä¼ ç»Ÿ MBR åˆ†åŒºç®¡ç†å·¥å…·ï¼‰**

â€¢ **ç”¨é€”**ï¼šç”¨äºæŸ¥çœ‹å’Œç®¡ç† MBR åˆ†åŒºè¡¨çš„ç£ç›˜åˆ†åŒºï¼ˆä¸æ¨èç”¨äº GPTï¼‰ã€‚
â€¢ **ç‰¹ç‚¹**ï¼š
	â€¢ ä»…æ”¯æŒ MBRï¼ˆä¸æ”¯æŒ GPTï¼ŒGPT éœ€è¦ gdiskï¼‰ã€‚
	â€¢ å‘½ä»¤è¡Œäº¤äº’å¼æ“ä½œã€‚
â€¢ **ç¤ºä¾‹**ï¼š
```bash
fdisk /dev/sda
Command (m for help): p   # æ‰“å°åˆ†åŒºè¡¨
Command (m for help): n   # åˆ›å»ºæ–°åˆ†åŒº
```

**4. resize2fsï¼ˆè°ƒæ•´ ext æ–‡ä»¶ç³»ç»Ÿå¤§å°ï¼‰**
â€¢ **ç”¨é€”**ï¼šè°ƒæ•´ ext2/ext3/ext4 æ–‡ä»¶ç³»ç»Ÿçš„å¤§å°ã€‚
â€¢ **ç‰¹ç‚¹**ï¼š
	â€¢ **åªèƒ½ç”¨äº ext æ–‡ä»¶ç³»ç»Ÿ**ï¼Œä¸æ”¯æŒ NTFSã€XFSã€Btrfs ç­‰ã€‚
	â€¢ æ‰©å±•æ—¶ï¼Œç›®æ ‡åˆ†åŒºå¿…é¡»å·²ç»æ‰©å±•ï¼ˆå¦‚ parted æˆ– gparted æ‰©å±•åˆ†åŒºåï¼‰ã€‚
	â€¢ æ”¶ç¼©æ—¶ï¼Œå»ºè®®å…ˆå¸è½½æ–‡ä»¶ç³»ç»Ÿã€‚
â€¢ **ç¤ºä¾‹**ï¼š
```bash
resize2fs /dev/sda1
resize2fs /dev/sda1 20G   # è°ƒæ•´æ–‡ä»¶ç³»ç»Ÿå¤§å°ä¸º 20GB
```

**5. dfï¼ˆæ˜¾ç¤ºç£ç›˜ä½¿ç”¨æƒ…å†µï¼‰**
â€¢ **ç”¨é€”**ï¼šæŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿçš„ç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚
â€¢ **ç‰¹ç‚¹**ï¼š
	â€¢ åªæ˜¾ç¤ºå·²æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿã€‚
	â€¢ æ”¯æŒ -h é€‰é¡¹ï¼ˆäººç±»å¯è¯»æ ¼å¼ï¼‰ã€‚
â€¢ **ç¤ºä¾‹**ï¼š
```bash
df -h
```

**6. gpartedï¼ˆGUI åˆ†åŒºç®¡ç†å·¥å…·ï¼‰**
â€¢ **ç”¨é€”**ï¼šå›¾å½¢åŒ–çš„ç£ç›˜åˆ†åŒºç®¡ç†å·¥å…·ï¼ˆåŸºäº partedï¼‰ã€‚
â€¢ **ç‰¹ç‚¹**ï¼š
	â€¢ é€‚åˆæ–°æ‰‹ï¼Œæä¾›å¯è§†åŒ–ç•Œé¢ã€‚
	â€¢ æ”¯æŒè°ƒæ•´ã€åˆ é™¤ã€åˆ›å»ºã€æ ¼å¼åŒ–åˆ†åŒºã€‚
	â€¢ æ”¯æŒå¤šç§æ–‡ä»¶ç³»ç»Ÿï¼ˆext4ã€NTFSã€FAT32ã€XFS ç­‰ï¼‰ã€‚
â€¢ **ç¤ºä¾‹**ï¼š
```
gparted
```

**å·¥å…·ä¹‹é—´çš„å…³ç³»**

| **å·¥å…·**    | **ä¸»è¦åŠŸèƒ½**      | **ä½œç”¨å¯¹è±¡** | **å…³é”®åŒºåˆ«**        |
| --------- | ------------- | -------- | --------------- |
| lsblk     | æ˜¾ç¤ºå—è®¾å¤‡ä¿¡æ¯       | ç£ç›˜ & åˆ†åŒº  | åªè¯»ï¼Œä¸ä¿®æ”¹          |
| fdisk     | åˆ†åŒºç®¡ç†ï¼ˆä»… MBRï¼‰   | ç£ç›˜       | ä¼ ç»Ÿå·¥å…·ï¼Œä¸æ”¯æŒ GPT    |
| parted    | åˆ†åŒºç®¡ç†ï¼ˆæ”¯æŒ GPTï¼‰  | ç£ç›˜       | ç°ä»£å·¥å…·ï¼Œå¯è°ƒæ•´å¤§å°      |
| resize2fs | è°ƒæ•´ ext æ–‡ä»¶ç³»ç»Ÿå¤§å° | åˆ†åŒºä¸Šçš„æ–‡ä»¶ç³»ç»Ÿ | ä»…æ”¯æŒ ext ç³»åˆ—      |
| df        | æ˜¾ç¤ºç£ç›˜ç©ºé—´ä½¿ç”¨æƒ…å†µ    | æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿ  | ä»…æ˜¾ç¤ºæŒ‚è½½çš„åˆ†åŒº        |
| gparted   | GUI åˆ†åŒºç®¡ç†å·¥å…·    | ç£ç›˜ & åˆ†åŒº  | parted çš„ GUI ç‰ˆæœ¬ |

**æ€»ç»“**ï¼š
â€¢ æƒ³ **æŸ¥çœ‹ç£ç›˜ä¿¡æ¯** â†’ lsblk
â€¢ æƒ³ **æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ** â†’ df
â€¢ æƒ³ **ç®¡ç† MBR åˆ†åŒº** â†’ fdisk
â€¢ æƒ³ **ç®¡ç† GPT/MBR åˆ†åŒº** â†’ parted æˆ– gparted
â€¢ æƒ³ **è°ƒæ•´ ext æ–‡ä»¶ç³»ç»Ÿå¤§å°** â†’ resize2fs

å¦‚æœä½ çš„ç£ç›˜æ˜¯ GPTï¼Œå»ºè®®ç”¨ parted æˆ– gparted è¿›è¡Œåˆ†åŒºç®¡ç†ï¼Œè€Œ fdisk ä¸»è¦é€‚ç”¨äº MBRã€‚

### ç£ç›˜æ‰©å®¹
#### [LVM](http://cn.linux.vbird.org/linux_basic/0420quota.php#lvm)

|åºå·|åŠŸèƒ½|PV ç‰©ç†å·å‘½ä»¤|VG å·ç»„å‘½ä»¤|LV é€»è¾‘å·å‘½ä»¤|
|---|---|---|---|---|
|01|æ‰«æåŠŸèƒ½|[pvscan](https://zhida.zhihu.com/search?content_id=217277193&content_type=Article&match_order=1&q=pvscan&zhida_source=entity)|[vgscan](https://zhida.zhihu.com/search?content_id=217277193&content_type=Article&match_order=1&q=vgscan&zhida_source=entity)|[lvscan](https://zhida.zhihu.com/search?content_id=217277193&content_type=Article&match_order=1&q=lvscan&zhida_source=entity)|
|02|å»ºâ½´åŠŸèƒ½|[pvcreate](https://zhida.zhihu.com/search?content_id=217277193&content_type=Article&match_order=1&q=pvcreate&zhida_source=entity)|[vgcreate](https://zhida.zhihu.com/search?content_id=217277193&content_type=Article&match_order=1&q=vgcreate&zhida_source=entity)|[lvcreate](https://zhida.zhihu.com/search?content_id=217277193&content_type=Article&match_order=1&q=lvcreate&zhida_source=entity)|
|03|æŸ¥è¯¢åŠŸèƒ½|pvdisplay|vgdisplay|lvdisplay|
|04|åˆ é™¤åŠŸèƒ½|pvremove|vgremove|lvremove|
|05|æ‰©å®¹åŠŸèƒ½||vgextend|lvextend|
|06|ç¼©å®¹åŠŸèƒ½||vgreduce|lvreduce|

> éœ€è¦å…ˆä½¿ç”¨ fdisk å‘½ä»¤è¿›è¡Œä¸€ä¸ªåˆ†åŒºè®¾ç½®ã€‚  

- [ç»™LVMæ·»åŠ ç£ç›˜æ‰©å®¹](https://blog.csdn.net/xieshaohu/article/details/129671846)
å·²ç»åœ¨VMwareä¸­æˆåŠŸæ·»åŠ äº†ä¸€å—100Gçš„æ–°ç£ç›˜ï¼ˆsdbï¼‰ï¼Œç°åœ¨éœ€è¦å°†è¿™100Gç©ºé—´æ‰©å±•åˆ°æ ¹ç›®å½•ï¼ˆ/ï¼‰ã€‚ä½ çš„æ ¹ç›®å½•æ˜¯LVMé€»è¾‘å·ï¼ˆcentos-rootï¼‰ï¼Œæ‰€ä»¥æ¨èçš„åšæ³•æ˜¯å°†æ–°ç£ç›˜åŠ å…¥LVMï¼Œå¹¶æ‰©å±•æ ¹åˆ†åŒºã€‚æ“ä½œæ­¥éª¤å¦‚ä¸‹ï¼š

1. å¯¹æ–°ç£ç›˜åˆ†åŒºï¼ˆsdbï¼‰  
å‡è®¾å…¨éƒ¨ç”¨äºLVMï¼š
```bash
fdisk /dev/sdb
```
- è¾“å…¥ n åˆ›å»ºæ–°åˆ†åŒº
- è¾“å…¥ t è®¾ç½®åˆ†åŒºç±»å‹ä¸º 8eï¼ˆLVMï¼‰
- è¾“å…¥ w ä¿å­˜å¹¶é€€å‡º

2. åˆ›å»ºç‰©ç†å·ï¼ˆPVï¼‰  
```bash
pvcreate /dev/sdb1
```

3. å°†æ–°PVåŠ å…¥ç°æœ‰å·ç»„ï¼ˆVGï¼‰  
ä½ çš„å·ç»„åæ˜¯ centosï¼ˆå¯ç”¨ vgs æˆ– vgdisplay æŸ¥çœ‹ç¡®è®¤ï¼‰ï¼š
```sh
vgextend centos /dev/sdb1
```

4. æ‰©å±•æ ¹é€»è¾‘å·ï¼ˆLVï¼‰  
å…ˆç¡®è®¤æ ¹LVåç§°ï¼ˆä¸€èˆ¬ä¸º centos-rootï¼‰ï¼š
```sh
lvdisplay
```
æ‰©å±•æ ¹LVï¼ˆå‡è®¾å…¨éƒ¨æ‰©å±•åˆ°æ ¹ï¼‰ï¼š
```sh
lvextend -l +100%FREE /dev/centos/root
# éƒ½å¯ä»¥ï¼Œçœ‹lvdisplayæ˜¾ç¤ºçš„æ˜¯å•¥
# lvextend -l +100%FREE /dev/mapper/centos-root
```

5. æ‰©å±•æ–‡ä»¶ç³»ç»Ÿ  
å¯¹äºxfsï¼ˆCentOS 7/8é»˜è®¤ï¼‰ï¼š

```sh
xfs_growfs /
```
å¯¹äºext4ï¼š
```sh
resize2fs /dev/centos/root
```

6. éªŒè¯  
```sh
df -hT
```

### æŒ‡çº¹è§£é”?
https://github.com/Am0rphous/Shenzhen-Goodix-Fingerprint-Reader
```bash
#èƒ½çœ‹åˆ°fingerprint
lsusb

#è®¾ç½®uesrså¯†ç é‚£é‡Œå¦‚æœæ²¡æœ‰ï¼Œkeâ€†nengpå¯èƒ½æ˜¯æŒ‡çº¹è§£é”ä¸æ˜¯remè®¤è¯è®¾å¤‡
# ä¸‹é¢æŒ‡ä»¤abä¸€ä¸‹ï¼Œçœ‹çœ‹æœ‰å¸¦todçš„å˜›ï¼Œ
sudo apt install libfprint
sudo apt install libfprint-2-tod1

# ä¸‹è½½é©±åŠ¨ï¼šæ¯”å¦‚æˆ‘çš„æ˜¯gooddix fingerprint æ‰¾ä¸€æ‰¾
#http://dell.archive.canonical.com/updates/pool/public/libf/libfprint-2-tod1-goodix/
sudo dpkg -i ****.deb

#ç©ºæ ¼ä¿®æ”¹ï¼Œenterç¡®è®¤
sudo pam-auth-update
fprintd-verify
fwupdmgr update                            #Updates firmware
sudo systemctl restart fprintd.service     #Restarts the fprintd service
sudo systemctl status fprintd.service      #Lets check the status
fprintd-enroll                             #Starts the enrolling process when setting up the figngerprint
journalctl -f -u fprintd.service           #any error should show here
```

### å®‰è£…whisper-clié—®é¢˜
- [hf-mirrorå¤§æ¨¡å‹ç½‘ç«™é•œåƒ](https://hf-mirror.com)
[whisper.cpp](https://github.com/ggerganov/whisper.cpp)
é—®é¢˜ï¼šå½“ç¼–è¯‘cudaç‰ˆæœ¬æ—¶ï¼Œå³ï¼š
```bash
cmake -B build -DGGML_CUDA=1
cmake --build build -j --config Release
```
é”™è¯¯å¦‚ä¸‹ï¼š
```bash
nvcc warning : Cannot find valid GPU for '-arch=native', default arch is used
```
[é—®é¢˜](https://github.com/ggerganov/whisper.cpp/issues/876)ï¼Ÿ[è§£å†³ï¼Ÿ](https://forums.developer.nvidia.com/t/cant-compile-with-cuda-support/284731)ï¼š

- [cuda-downloads](https://developer.nvidia.com/cuda-downloads)
- [cudnn-archive](https://developer.nvidia.com/rdp/cudnn-archive)
```bash
# ä¹‹ååˆä¸è¡Œäº†ï¼ŒåŸå› å°±æ˜¯sudo apt install nvidia-cuda-toolkitæ¥å®‰è£…ï¼Œä½†æ˜¯ç‰ˆæœ¬å¤ªè€ï¼Œä¼šæœ‰é—®é¢˜

# ä»¥ubuntu24.04ä¸ºä¾‹ï¼Œä¸€ä¸‹æŒ‡ä»¤å‚è€ƒä¸Šè¿°nvidiaå®˜ç½‘é“¾æ¥

# å®‰è£…cuda-runfileæ–¹å¼
wget https://developer.download.nvidia.com/compute/cuda/12.6.3/local_installers/cuda_12.6.3_560.35.05_linux.run
sudo sh cuda_12.6.3_560.35.05_linux.run

# å®‰è£…cudnn-Debæ–¹å¼
wget https://developer.download.nvidia.com/compute/cudnn/9.8.0/local_installers/cudnn-local-repo-ubuntu2404-9.8.0_1.0-1_amd64.deb
sudo dpkg -i cudnn-local-repo-ubuntu2404-9.8.0_1.0-1_amd64.deb
sudo cp /var/cudnn-local-repo-ubuntu2404-9.8.0/cudnn-*-keyring.gpg /usr/share/keyrings/
sudo apt-get update
sudo apt-get -y install cudnn-cuda-12

# ç„¶ååˆ é™¤buildæ–‡ä»¶å¤¹ï¼ˆmake cleanï¼‰
cmake -B build -DGGML_CUDA=1
# ä¸‹é¢è¿™ä¸ªå¾—åŠ å…¥ç¯å¢ƒå˜é‡ 
export CUDA_ARCH_FLAG=sm_86
cmake --build build -j --config Release
```
è¦å¼ºè°ƒä¸€ä¸‹ï¼šç¡¬ä»¶å‹å·-é©±åŠ¨ç‰ˆæœ¬âˆ’cudaç‰ˆæœ¬âˆ’cudnnç‰ˆæœ¬ï¼Œæ˜¯æœ‰ä¾æ¬¡çš„ä¾èµ–å…³ç³»çš„ã€‚å“ªä¸ªä½äº†éƒ½è¦ä¾ç€ä½çš„é‚£ä¸ªç‰ˆæœ¬è¦æ±‚æ¥ã€‚æ¯”å¦‚åŒæ ·30ç³»æ˜¾å¡è¦560é©±åŠ¨å°±å¯ä»¥å®‰è£…cuda12.6ï¼Œä½†æ˜¯550é©±åŠ¨å°±æœ€é«˜å®‰è£…cuda12.4ã€‚


å…·ä½“sm_86å¯ä»¥è§[å®˜ç½‘](https://developer.nvidia.com/cuda-gpus)ã€‚
å…³äºwhipserè¯¦ç»†ä¿¡æ¯è§computer tipsä¸­çš„whisperéƒ¨åˆ†ã€‚

### å›½å†…æºå®‰è£…docker
1. å®‰è£…
```bash
# å¸è½½docker
sudo apt-get remove docker docker-engine docker.io containerd runc
# å®‰è£…ä¾èµ–
sudo apt update
sudo apt install apt-transport-https ca-certificates curl software-properties-common gnupg lsb-release
# é˜¿é‡Œäº‘key
curl -fsSL http://mirrors.aliyun.com/docker-ce/linux/ubuntu/gpg | sudo apt-key add -
# é˜¿é‡Œäº‘ppa
sudo add-apt-repository "deb [arch=amd64] http://mirrors.aliyun.com/docker-ce/linux/ubuntu $(lsb_release -cs) stable"
# å®‰è£…docker
sudo apt install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
# ç”¨æˆ·æƒé™
sudo usermod -aG docker $USER
reboot
```

2. docker pullè®¾ç½®é•œåƒ
å›½å†…å¤§éƒ¨åˆ†dockeré•œåƒéƒ½å¤±æ•ˆäº†ï¼Œä½†æ˜¯å¯ä»¥ç™»é™†[é˜¿é‡Œäº‘è´¦å·](https://cr.console.aliyun.com)[è®¾ç½®é•œåƒ](https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors)ã€‚
å¥½åƒé˜¿é‡Œä¹Ÿå¤±æ•ˆäº†ï¼Œ[github-docker-é•œåƒç½‘ç«™](https://github.com/DaoCloud/public-image-mirror)
```bash
sudo vim /etc/docker/daemon.json
# ç„¶åæ·»åŠ å¦‚ä¸‹å†…å®¹
{
    "registry-mirrors": ["https://docker.m.daocloud.io"] 
}
# ç„¶åé‡å¯è¯¥æœåŠ¡
sudo systemctl daemon-reload
sudo systemctl restart docker
```
å…·ä½“å…¶ä»–é—®é¢˜æ¯”å¦‚è®¾ç½®ä»£ç†ç­‰ï¼Œå‚è€ƒ`learn-code`ä»“åº“ä¸­çš„`learn-docker.md`ç¬”è®°æ–‡ä»¶ã€‚
### å®‰è£…è…¾è®¯ä¼šè®®é—®é¢˜
1. wayland
```bash
# æœ‰vscodeæˆ–è€…sublimeæ’ä»¶ä¹Ÿå¯ä»¥æŠŠviæ¢æˆcode/st
sudo vi /opt/wemeet/wemeetapp.sh

# åœ¨if [ "$XDG_SESSION_TYPE" = "wayland" ]å‰é¢åŠ ä¸Šï¼š
# force x11 instead of Wayland
export XDG_SESSION_TYPE=x11
export EGL_PLATFORM=x11 
export QT_QPA_PLATFORM=xcb
unset WAYLAND_DISPLAY 
unset WAYLAND_DISPLAYCOPY
```
2. å¯ä»¥æ‰“å¼€ä½†æ˜¯æ²¡æ³•å…±äº«å±å¹•
```bash
sudo vi /etc/gdm3/custom.conf
# æŠŠ < #WaylandEnable=false > çš„æ³¨é‡Šäº•å·å»æ‰,ç„¶åé‡å¯ï¼Œå°±å¯ä»¥è§£å†³æ— æ³•å±å¹•å…±äº«çš„é—®é¢˜
```

### å®‰è£…openlane
- [openlane2](https://openlane2.readthedocs.io/en/latest/)
```bash
# å…ˆå®‰è£…dockerï¼ˆmacï¼Œubuntuè§ä¸Šæ–‡ï¼‰
brew install --cask docker

# å®‰è£…openlane2
pip install openlane
```

[OpenLane1](https://github.com/The-OpenROAD-Project/OpenLane)

```bash
# è¿™ä¸ªæ˜¯openlene1çš„å®‰è£…ï¼Œä¸å¦‚ç›´æ¥å®‰è£…openlane2
git clone https://github.com/The-OpenROAD-Project/OpenLane
cd OpenLane
make

# å¦‚æœé”™è¯¯æ—¶æ²¡æœ‰nixï¼Œåˆ™
sudo apt install nix
# å¦‚æœè¿˜æœ‰é”™è¯¯ï¼šæ²¡æœ‰å¯ç”¨Flakesï¼Œå…¨å±€ç”¨/etc/nix/nix.conf
sudo vi /etc/nix/nix.conf
# ç”¨æˆ·ï¼švi ~/.config/nix/nix.conf
# æ–‡ä»¶ä¸­æ·»åŠ ä¸€è¡Œï¼›experimental-features = nix-command flakes

#å¦‚æœæœ‰æƒé™é—®é¢˜
sudo make
```

### å®‰è£…vulkan
```bash
sudo apt install vulkan-tools libvulkan-dev
wget -qO- https://packages.lunarg.com/lunarg-signing-key-pub.asc | sudo tee /etc/apt/trusted.gpg.d/lunarg.asc
sudo wget -qO /etc/apt/sources.list.d/lunarg-vulkan-jammy.list https://packages.lunarg.com/vulkan/lunarg-vulkan-jammy.list
sudo apt update
sudo apt install vulkan-sdk
```

### å®‰è£…TI-CCS
- [CCSTUDIO](https://www.ti.com/tool/CCSTUDIO#downloads)
- [ccs_installation](https://software-dl.ti.com/ccs/esd/documents/users_guide_12.2.0/ccs_installation.html)
- [CCS-linux-support](https://software-dl.ti.com/ccs/esd/documents/ccs_theia_linux_host_support.html)

```bash
# ç¼ºå°‘libusb
sudo apt install libusb-dev

# ç¼ºå°‘libtinfo5ï¼ˆubuntu24ç‰ˆæœ¬æ˜¯6ï¼‰
wget http://security.ubuntu.com/ubuntu/pool/universe/n/ncurses/libtinfo5_6.3-2ubuntu0.1_amd64.deb
sudo dpkg -i libtinfo5_6.3-2ubuntu0.1_amd64.deb

# ç¼ºå°‘libpython3.9.so.1.0 å¯ä»¥ä¸ç†ä¼š
```

#### å®‰è£…mspm0-openocd
ç›®å‰2025å¹´mspm0å’Œstm32çš„å¼€æºæµç¨‹çš„æ ¸å¿ƒåŒºåˆ«åœ¨äºopenocdå®˜æ–¹è¿˜æœªæ”¯æŒmspm0ï¼Œtiå·²ç»å¼€å‘äº†æ”¯æŒmspm0çš„openocdã€‚æ®[å®˜æ–¹å¸–å­](https://e2e.ti.com/support/microcontrollers/arm-based-microcontrollers-group/arm-based-microcontrollers/f/arm-based-microcontrollers-forum/1373048/mspm0l1105-flashing-mspm0l1105-using-openocd)& [openocdåˆ†æ”¯æ¥è‡ªNishanth Menon](https://review.openocd.org/c/openocd/+/8385)ã€‚æ–¹æ³•å°±æ˜¯è‡ªå·±[github](https://github.com/nmenon/openocd/tree/master)ä¸‹è½½å¹¶ç¼–è¯‘ï¼š
```bash
# 0. install deps (for example on ubuntu)
sudo apt update
sudo apt install git make autoconf automake libtool pkg-config libusb-dev libftdi1-dev libhidapi-dev

# 1. clone
mkdir openocd-mspm0
cd openocd-mspm0
git clone https://github.com/nmenon/openocd.git
cd openocd

# 2. prepare (like clone and make jimtcl)
./bootstrap
git submodule init
git submodule update
cd jimtcl
./configure
make
sudo make install

# 3. make (äºŒè¿›åˆ¶æ–‡ä»¶/æŒ‡ä»¤ çš„åœ°å€å¯ä»¥æŒ‰éœ€æŒ‡å®š)
cd ..
./configure --prefix=/home/zx/Develop/openocd-mspm0
make
sudo make install

# 4. use dap (æ–‡ä»¶ cmsis-dap.cfg å’Œ ti_mspm0.cfg ä¹Ÿè¦æŒ‡å®šä½ç½®æˆ–è€…æ‹·è´åˆ°é¡¹ç›®åœ°å€)
/home/zx/Develop/openocd-mspm0/bin/openocd  -f cmsis-dap.cfg -f ti_mspm0.cfg -c init -c "reset halt" -c "wait_halt" -c "flash write_image erase Debug/try_mspm0g3507.out" -c reset -c shutdown

# 5. debug æŒ‡å®šå¥½cortex-debugæ’ä»¶çš„openocdåœ°å€å°±å¯ä»¥ï¼Œæˆ–è€…åœ¨launchæ–‡ä»¶ä¸­æŒ‡å®š
```

### ä»£ç†
v2rayA åº”ç”¨å•†åº—å°±å¯ä»¥ä¸‹è½½ï¼ˆä½†å®‰è£…æœ‰äº›é—®é¢˜ï¼Œå…·ä½“è§å°é£æœºç« èŠ‚æˆ–è€…å®˜ç½‘ï¼‰githubä¹Ÿå¯ä»¥ï¼ˆæ¨èï¼‰ã€‚æ˜¯linuxä¸­æ¯”è¾ƒç¨³å®šå’Œè½»é‡çš„ä»£ç†ã€‚
![](Unix-tips.assets/Ubuntu-v2rayA-setting.png)1. ubuntu-setting-network-proxy is on, 
1. and http port is 20172 by default,
2. which means export http/s proxy = http://localhost:20172
3. cursor setting: add http://localhost:20172 and turn off http2

### ubuntu æ— æ³•ä½¿ç”¨cv2.imshow()
å®‰è£…contribç‰ˆæœ¬ï¼špip install opencv-contrib-python

### å¼€æœºå¡åœ¨dev/sda1: clean,â€¦ files, â€¦blocks
æœ‰å¯èƒ½æ˜¯[nvidiaæ˜¾å¡é©±åŠ¨](https://askubuntu.com/questions/882385/dev-sda1-clean-this-message-appears-after-i-startup-my-laptop-then-it-w)é—®é¢˜ã€‚

```bash
#æ¯”å¦‚ç‰ˆæœ¬460ï¼Œå°±æŠŠ460ç›¸å…³çš„éƒ½åˆ äº†ï¼Œä¸‹é¢æŒ‡ä»¤tabï¼Œè‡ªåŠ¨è¡¥å…¨æ‰¾é‚£ä¸ªç‰ˆæœ¬ã€‚
#æ¯”å¦‚sudo apt purge nvidia-driver-460 nvidia-kernels-common-460
sudo apt purge nvidia-

#ç„¶åè‡ªåŠ¨å®‰è£…æ˜¾å¡é©±åŠ¨
sudo ubuntu-drivers autoinstall

#åº”è¯¥å°±æˆäº†
```

### å¢åŠ swap
ä¸èƒ½ç›´æ¥ç”¨ GParted æ¥è°ƒæ•´ swap æ–‡ä»¶çš„å¤§å°ï¼Œå› ä¸ºï¼š
- GParted æ“ä½œçš„æ˜¯åˆ†åŒºï¼ˆblock deviceï¼‰ï¼Œè€Œä½ ç”¨çš„æ˜¯swap æ–‡ä»¶ï¼›
- swap æ–‡ä»¶æ˜¯ä½äºæŸä¸ªåˆ†åŒºä¸­çš„æ™®é€šæ–‡ä»¶ï¼Œå®ƒçš„å¤§å°ä¸å— GParted æ§åˆ¶ã€‚
---

ä½ å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œæ–¹å¼ï¼Œåˆ é™¤æ—§ swap æ–‡ä»¶å¹¶åˆ›å»ºæ–°çš„æ›´å¤§çš„ swap æ–‡ä»¶ï¼Œæ­¥éª¤å¦‚ä¸‹ï¼š
ï¼ˆå°† swap æ–‡ä»¶ä» 2G æ”¹ä¸º 8Gï¼‰

#### 1. å…³é—­å¹¶åˆ é™¤å½“å‰ swap
```bash
sudo swapoff /swapfile
sudo rm /swapfile
```

#### 2. åˆ›å»ºæ–°çš„ 4G swap æ–‡ä»¶
```bash
sudo fallocate -l 8G /swapfile
# æˆ–ç”¨ ddï¼ˆé€Ÿåº¦æ…¢ä¸€äº›ï¼‰
# sudo dd if=/dev/zero of=/swapfile bs=1M count=4096
```

#### 3. è®¾ç½®æƒé™
```bash
sudo chmod 600 /swapfile
```

#### 4. æ ¼å¼åŒ–ä¸º swap
```bash
sudo mkswap /swapfile
```

#### 5. å¯ç”¨æ–°çš„ swap
```bash
sudo swapon /swapfile
```

#### 6. ç¡®ä¿å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼ˆæ£€æŸ¥Â /etc/fstabï¼‰
```bash
cat /etc/fstab
```

ç¡®è®¤æœ‰ä»¥ä¸‹ä¸€è¡Œï¼ˆå¦‚æœæ²¡æœ‰å°±åŠ ä¸Šï¼‰ï¼š
```bash
/swapfile none swap sw 0 0
```

---
#### ğŸ” æ£€æŸ¥æ˜¯å¦ç”Ÿæ•ˆ
```bash
free -h
```

åº”è¯¥èƒ½çœ‹åˆ° swap å˜æˆäº† 8Gã€‚

---
å¦‚æœç”¨ swap åˆ†åŒºï¼ˆæ›´é€‚åˆå†…å­˜å‹åŠ›å¤§çš„ç¯å¢ƒï¼‰ï¼Œä¹Ÿå¯ä»¥ç”¨ GParted æ·»åŠ  swap åˆ†åŒºå¹¶å¯ç”¨å®ƒã€‚


åœ¨ Linux ä¸Šé…ç½® RAIDï¼ˆå†—ä½™ç£ç›˜é˜µåˆ—ï¼‰å¯ä»¥é€šè¿‡ **è½¯ä»¶ RAIDï¼ˆå¦‚ `mdadm`ï¼‰** æˆ– **ç¡¬ä»¶ RAIDï¼ˆå¦‚ä¸»æ¿/RAID å¡ï¼‰** å®ç°ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†æ­¥éª¤ï¼š

---
### linux ç¡¬ç›˜raid
#### **1. ç¡®è®¤ç¡¬ç›˜è®¾å¤‡**
é¦–å…ˆï¼Œåˆ—å‡ºæ‰€æœ‰ç£ç›˜ï¼Œç¡®è®¤è¦ç”¨äº RAID çš„ç¡¬ç›˜ï¼ˆå¦‚ `/dev/sdb`ã€`/dev/sdc`ï¼‰ï¼š
```bash
lsblk -o NAME,SIZE,FSTYPE,MOUNTPOINT   # æŸ¥çœ‹æ‰€æœ‰ç£ç›˜
sudo fdisk -l                          # æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
```

ç¡®ä¿ç›®æ ‡ç£ç›˜ **æ²¡æœ‰é‡è¦æ•°æ®**ï¼ˆRAID åˆ›å»ºä¼šæ¸…é™¤æ•°æ®ï¼‰ã€‚

#### **2. å®‰è£… `mdadm`ï¼ˆè½¯ä»¶ RAID å·¥å…·ï¼‰**
```bash
# Debian/Ubuntu
sudo apt update && sudo apt install mdadm

# RHEL/CentOS
sudo yum install mdadm

# Arch Linux
sudo pacman -S mdadm
```

#### **3. åˆ›å»º RAID é˜µåˆ—**
-  **3.1 å¸¸ç”¨ RAID çº§åˆ«**

| RAID çº§åˆ«     | æœ€å°‘ç£ç›˜æ•° | å®¹é”™èƒ½åŠ›      | å­˜å‚¨æ•ˆç‡    | é€‚ç”¨åœºæ™¯    |
| ----------- | ----- | --------- | ------- | ------- |
| **RAID 0**  | 2+    | âŒ æ—        | 100%    | é«˜æ€§èƒ½ï¼Œæ— å†—ä½™ |
| **RAID 1**  | 2+    | âœ”ï¸ï¼ˆé•œåƒï¼‰    | 50%     | é«˜å¯ç”¨æ€§    |
| **RAID 5**  | 3+    | âœ”ï¸ï¼ˆ1å—ç›˜ï¼‰   | (N-1)/N | å¹³è¡¡æ€§èƒ½ä¸å†—ä½™ |
| **RAID 6**  | 4+    | âœ”ï¸ï¼ˆ2å—ç›˜ï¼‰   | (N-2)/N | æ›´é«˜å®¹é”™    |
| **RAID 10** | 4+    | âœ”ï¸ï¼ˆé•œåƒ+æ¡å¸¦ï¼‰ | 50%     | é«˜æ€§èƒ½+é«˜å¯ç”¨ |

-  **3.2 åˆ›å»º RAID ç¤ºä¾‹**

 **ï¼ˆ1ï¼‰åˆ›å»º RAID 1ï¼ˆé•œåƒï¼‰**
```bash
sudo mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sdb /dev/sdc
```

- `/dev/md0`ï¼šRAID è®¾å¤‡å  
- `--level=1`ï¼šRAID 1ï¼ˆé•œåƒï¼‰  
- `--raid-devices=2`ï¼šä½¿ç”¨ 2 å—ç£ç›˜  

 **ï¼ˆ2ï¼‰åˆ›å»º RAID 5ï¼ˆå¸¦å¥‡å¶æ ¡éªŒï¼‰**
```bash
sudo mdadm --create /dev/md0 --level=5 --raid-devices=3 /dev/sdb /dev/sdc /dev/sdd
```

**ï¼ˆ3ï¼‰åˆ›å»º RAID 10ï¼ˆæ¡å¸¦+é•œåƒï¼‰**
```bash
sudo mdadm --create /dev/md0 --level=10 --raid-devices=4 /dev/sdb /dev/sdc /dev/sdd /dev/sde
```

#### **4. æ£€æŸ¥ RAID çŠ¶æ€**
```bash
cat /proc/mdstat                  # æŸ¥çœ‹ RAID æ„å»ºè¿›åº¦
sudo mdadm --detail /dev/md0      # æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯

è¾“å‡ºç¤ºä¾‹ï¼š

Personalities : [raid1] 
md0 : active raid1 sdc[1] sdb[0]
      20971456 blocks [2/2] [UU]
```

- `[UU]`ï¼šæ‰€æœ‰ç£ç›˜æ­£å¸¸ï¼ˆ`[_U]` è¡¨ç¤ºä¸€å—ç›˜æ•…éšœï¼‰ã€‚

#### **5. æ ¼å¼åŒ–å¹¶æŒ‚è½½ RAID**
 **ï¼ˆ1ï¼‰æ ¼å¼åŒ–ï¼ˆå¦‚ ext4ï¼‰**
```bash
sudo mkfs.ext4 /dev/md0
```

 **ï¼ˆ2ï¼‰åˆ›å»ºæŒ‚è½½ç‚¹å¹¶æŒ‚è½½**
```bash
sudo mkdir /mnt/raid
sudo mount /dev/md0 /mnt/raid
```

 **ï¼ˆ3ï¼‰å¼€æœºè‡ªåŠ¨æŒ‚è½½**
```bash
# è·å– RAID çš„ UUID
sudo blkid /dev/md0

# ç¼–è¾‘ /etc/fstab
echo "UUID=ä½ çš„-UUID /mnt/raid ext4 defaults 0 0" | sudo tee -a /etc/fstab
```

#### **6. ä¿å­˜ RAID é…ç½®**
```bash
sudo mdadm --detail --scan | sudo tee -a /etc/mdadm/mdadm.conf  # Debian/Ubuntu
sudo mdadm --detail --scan | sudo tee -a /etc/mdadm.conf        # RHEL/CentOS

# ç„¶åæ›´æ–° initramfsï¼š
sudo update-initramfs -u        # Debian/Ubuntu
sudo dracut -v -f               # RHEL/CentOS
```

#### **7. æ•…éšœå¤„ç†**
 **ï¼ˆ1ï¼‰æ¨¡æ‹Ÿç£ç›˜æ•…éšœ**
```bash
sudo mdadm /dev/md0 --fail /dev/sdb
```

**ï¼ˆ2ï¼‰ç§»é™¤æ•…éšœç›˜**
```bash
sudo mdadm /dev/md0 --remove /dev/sdb
```

**ï¼ˆ3ï¼‰æ·»åŠ æ–°ç›˜**
```bash
sudo mdadm /dev/md0 --add /dev/sde
```

#### **8. ç¡¬ä»¶ RAID é…ç½®**
å¦‚æœä½¿ç”¨ **ç¡¬ä»¶ RAID å¡ï¼ˆå¦‚ LSI MegaRAIDï¼‰**ï¼š
1. å¼€æœºè¿›å…¥ RAID å¡ BIOSï¼ˆæŒ‰æç¤ºé”®ï¼Œå¦‚ `Ctrl+H`ï¼‰ã€‚
2. åœ¨ç®¡ç†ç•Œé¢ä¸­åˆ›å»ºè™šæ‹Ÿç£ç›˜ï¼ˆVDï¼‰ã€‚
3. åœ¨ Linux ä¸­è¯†åˆ«ä¸ºå•å—ç£ç›˜ï¼ˆå¦‚ `/dev/sda`ï¼‰ï¼Œæ— éœ€ `mdadm`ã€‚

#### 9. æ€»ç»“

| æ“ä½œ | å‘½ä»¤/æ­¥éª¤ |
|------|----------|
| **å®‰è£…å·¥å…·** | `sudo apt install mdadm` |
| **åˆ›å»º RAID** | `sudo mdadm --create /dev/md0 --level=1 --raid-devices=2 /dev/sdb /dev/sdc` |
| **æŸ¥çœ‹çŠ¶æ€** | `cat /proc/mdstat` |
| **æ ¼å¼åŒ–** | `sudo mkfs.ext4 /dev/md0` |
| **æŒ‚è½½** | `sudo mount /dev/md0 /mnt/raid` |
| **è‡ªåŠ¨æŒ‚è½½** | ç¼–è¾‘ `/etc/fstab` |
| **æ•…éšœæ¢å¤** | `mdadm --fail /dev/md0 /dev/sdb` |

---

1. **æ•°æ®å¤‡ä»½**ï¼šRAID ä¸æ˜¯å¤‡ä»½ï¼é‡è¦æ•°æ®ä»éœ€é¢å¤–å¤‡ä»½ã€‚
2. **æ€§èƒ½æƒè¡¡**ï¼šRAID 0 å¿«ä½†æ— å†—ä½™ï¼ŒRAID 1/5/6 æ›´å®‰å…¨ä½†å†™å…¥é€Ÿåº¦è¾ƒæ…¢ã€‚
3. **ç¡¬ä»¶ RAID**ï¼šä¼˜å…ˆä½¿ç”¨ä¸»æ¿/RAID å¡é…ç½®ï¼Œæ€§èƒ½æ›´ç¨³å®šã€‚

é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œä½ å¯ä»¥åœ¨ Linux ä¸Šè½»æ¾é…ç½®è½¯ä»¶ RAIDï¼ ğŸš€


## Terminalï¼š
### dircolors

```shell
00 ã€€ã€€ã€€ //é»˜è®¤
01 ã€€ã€€ ã€€//åŠ ç²—
04 ã€€ ã€€ã€€//ä¸‹åˆ’çº¿
05 ã€€ ã€€ã€€//é—ªçƒ
07 ã€€ ã€€ã€€//åæ˜¾
08 ã€€ ã€€ã€€//éšè—
æ–‡å­—é¢œè‰² 
30 â€” Black   //é»‘è‰²
31 â€” Red     //çº¢è‰²
32 â€” Green   //ç»¿è‰²
33 â€” Yellow  //é»„è‰²
34 â€” Blue    //è“è‰²
35 â€” Magenta //æ´‹çº¢è‰²
36 â€” Cyan    //è“ç»¿è‰²
37 â€” White   //ç™½è‰²
èƒŒæ™¯é¢œè‰² 
40 â€” Black 
41 â€” Red 
42 â€” Green 
43 â€” Yellow 
44 â€” Blue 
45 â€” Magenta 
46 â€” Cyan 
47 â€“ White
```



### æŒ‡ä»¤

```shell
systemctl start sshd.service   # å¼€å¯sshæœåŠ¡

systemctl enable sshd.service #ssh å¼€æœºè‡ªå¯

sudo apt install net-tools #å®‰è£…ifconfigç­‰å·¥å…·
sudo apt install build-essential #å®‰è£…gccã€g++ã€makeç­‰
apt-cache show gcc #Ubuntu çœ‹è½¯ä»¶åº“ä¸­è½¯ä»¶ä¿¡æ¯
dpkg -L gcc #UbuntuæŸ¥çœ‹gccæ‰€æœ‰æ–‡ä»¶éƒ½å®‰è£…åœ¨å“ªé‡Œ

```

## linuxæ¡Œé¢

| **æ¡Œé¢ç¯å¢ƒ/çª—å£ç®¡ç†å™¨**               | **RAM used** | **% CPU used** | **ç±»å‹**      |
| ---------------------------- | ------------ | -------------- | ----------- |
| KDE 4.6                      | 363 MB       | 4 %            | æ¡Œé¢ç¯å¢ƒ        |
| Unity                        | 271 MB       | 14%            | æ¡Œé¢ç¯å¢ƒ(shell) |
| GNOME 3                      | 193 MB       | 10%            | æ¡Œé¢ç¯å¢ƒ        |
| GNOME 2.x                    | 191 MB       | 1 %            | æ¡Œé¢ç¯å¢ƒ        |
| XFCE 4.8                     | 144 MB       | 10 %           | æ¡Œé¢ç¯å¢ƒ        |
| LXDE                         | 85 MB        | 10 %           | æ¡Œé¢ç¯å¢ƒ        |
| IceWM                        | 85 MB        | 2 %            | çª—å£ç®¡ç†å™¨       |
| Enlightenment (E17 Standard) | 72 MB        | 1 %            | çª—å£ç®¡ç†å™¨       |
| Fluxbox                      | 69 MB        | 1 %            | çª—å£ç®¡ç†å™¨       |
| OpenBox                      | 60 MB        | 1 %            | çª—å£ç®¡ç†å™¨       |
| JWM                          | 58 MB        | 1 %            | çª—å£ç®¡ç†å™¨       |

1. å®‰è£…Gnome tweak toolï¼ˆå¯è§†åŒ–ï¼‰

```shell
sudo apt install gnome-tweak-tool
sudo apt install chrome-gnome-shell
sudo apt install gnome-shell-extensions
```

2. å»æµè§ˆå™¨å®‰è£…extension
   æœç´¢ä¸‹è½½themeè§£å‹ï¼Œå¤åˆ¶åˆ°`/usr/share/themes`
   åŒæ ·ä¸‹è½½icon è§£å‹ï¼Œå¤åˆ¶åˆ°`/usr/share/icons`(è¿™æ˜¯å…¨å±€çš„ï¼Œç”¨æˆ·è§ä¸‹)

3. æ‰‹åŠ¨å®‰è£… GNOME Shell æ‰©å±•

   ä½ ä¸éœ€è¦å§‹ç»ˆåœ¨çº¿æ‰èƒ½å®‰è£… GNOME Shell æ‰©å±•ï¼Œä½ å¯ä»¥ä¸‹è½½æ–‡ä»¶å¹¶ç¨åå®‰è£…ï¼Œè¿™æ ·å°±ä¸å¿…ä½¿ç”¨äº’è”ç½‘äº†ã€‚

   å» GNOME æ‰©å±•ç½‘ç«™ä¸‹è½½æœ€æ–°ç‰ˆæœ¬çš„æ‰©å±•ã€‚

   ![Download GNOME Shell Extension](https://img.linux.net.cn/data/attachment/album/201803/15/105337xtikyv2llvyjlzf2.jpg)

   *Download GNOME Shell Extension*

   è§£å‹ä¸‹è½½çš„æ–‡ä»¶ï¼Œå°†è¯¥æ–‡ä»¶å¤¹å¤åˆ¶åˆ° `~/.local/share/gnome-shell/extensions` ç›®å½•ã€‚åˆ°ä¸»ç›®å½•ä¸‹å¹¶æŒ‰ `Ctrl+H` æ˜¾ç¤ºéšè—çš„æ–‡ä»¶å¤¹ï¼Œåœ¨è¿™é‡Œæ‰¾åˆ° `.local` æ–‡ä»¶å¤¹ï¼Œä½ å¯ä»¥æ‰¾åˆ°ä½ çš„è·¯å¾„ï¼Œç›´è‡³ `extensions` ç›®å½•ã€‚

   ä¸€æ—¦ä½ å°†æ–‡ä»¶å¤åˆ¶åˆ°æ­£ç¡®çš„ç›®å½•åï¼Œè¿›å…¥å®ƒå¹¶æ‰“å¼€ `metadata.json` æ–‡ä»¶ï¼Œå¯»æ‰¾ `uuid` çš„å€¼ã€‚

   ç¡®ä¿è¯¥æ‰©å±•çš„æ–‡ä»¶å¤¹åç§°ä¸ `metadata.json` ä¸­çš„ `uuid` å€¼ç›¸åŒã€‚å¦‚æœä¸ç›¸åŒï¼Œè¯·å°†ç›®å½•é‡å‘½åä¸º `uuid` çš„å€¼ã€‚

   ![Manually install GNOME Shell extension](https://img.linux.net.cn/data/attachment/album/201803/15/105337j5wm799el6lezyig.jpg)

   å·®ä¸å¤šäº†ï¼ç°åœ¨é‡æ–°å¯åŠ¨ GNOME Shellã€‚ æŒ‰ `Alt+F2` å¹¶è¾“å…¥ `r` é‡æ–°å¯åŠ¨ GNOME Shell

**[ä¸Šè¿°å‚è€ƒé“¾æ¥](https://linux.cn/article-9447-1.html)**ã€‚

4. é‡ç½®å­˜å‚¨åœ¨/ org / gnome /ä¸­çš„æ‰€æœ‰Gnomeè®¾ç½®ï¼ˆä»å‘½ä»¤è¡Œï¼‰

   å»ºè®®æ‚¨åœ¨ä½¿ç”¨dconf resetå‘½ä»¤ä¹‹å‰æ‰§è¡Œå¤‡ä»½ã€‚ä¸ºæ­¤ï¼Œè¯·åˆ›å»ºä¸€ä¸ªå¤‡ä»½ `~/.config/dconf/user` é™¤äº†åœ¨Gnome Tweaksä¸­å‘å¸ƒçš„è®¾ç½®å¤–ï¼Œæ‚¨è¿˜å¯ä»¥åœ¨ç³»ç»Ÿè®¾ç½®ä¸­é‡ç½®Gnomeè®¾ç½®ã€‚ä¿å­˜dconfè®¾ç½® `/org/gnome/`ï¼Œä»¥åŠå…¶ä»–Gnomeè®¾ç½®ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š

   ```shell
   dconf reset -f /org/gnome/
   mv .config/dconf/user .config/dconf/user.bak && sudo reboot
   ```

# reference

* **[mac è®¾ç½®æŒ‡å—](https://github.com/macdao/ocds-guide-to-setting-up-mac)**
* **[mac dockè®¾ç½®](https://sspai.com/post/33493)**
* **[Linuxæ–‡ä»¶ç³»ç»Ÿ](http://cn.linux.vbird.org/linux_basic/0210filepermission_3.php)**
* **[oh my zshé…ç½®](https://www.zrahh.com/archives/167.html)**
* **[win-vimå®‰è£…](https://segmentfault.com/a/1190000019360991)**

# zx mac æ–°æœºè®¾ç½®æµç¨‹

## system settings

### å­—ä½“å¤§å°
 - accessbility - display - text size è®¾ä¸º16ptï¼ˆ14å¯¸ï¼‰

### ä¸‰æŒ‡æ‹–ç§»
 - system settings - accessbility - point control - tracpad options

### firewall
- system settings - network - firewall



## iCloud

- ç™»é™†iCloud
- system settings - general - storage - store in iCloud ï¼ˆselect allï¼‰
- App Store å®‰è£…æ‰€éœ€
- ç™»é™†ç¾åŒºappstoreï¼Œå®‰è£…å°é£æœº
- å°é£æœºæ”¹ç«¯å£ã€æ”¹è§„åˆ™(conf)ä¸ºé»‘åå•ï¼Œç„¶åé‡æ–°å¼€å…³&æ›´æ–°ä¸€ä¸‹ã€‚
- safariæ¢æˆgoogle


## å®‰è£…ç¬¬ä¸‰æ–¹éå‘½ä»¤è¡Œè½¯ä»¶

- vscode
- obisidian
- chatbox
- [AlDente](https://apphousekitchen.com/aldente-overview/pricing/): æŒ‰ç…§è®¾ç½®å…³é—­ç”µæ± ç›¸å…³ï¼Œå¹¶å…³ä¸Šç”µæ± ä¾›ç”µæ—¶å±å¹•äº®åº¦é™ä½ã€‚
- sublime: æ‰¾åˆ°å¤‡ä»½è®¾ç½®æ›´æ”¹ sublime settings & æ·»åŠ æ›´æ”¹çš„breakerä¸»é¢˜


## init shell cmd
terminal settings åŠ è½½ iCloud/githubä¸­çš„zxlldynamic.terminalæ–‡ä»¶ï¼Œå¹¶è®¾ç½®ä¸ºdefault
å¤‡ä»½çš„.vimrcæ‹·è´åˆ°

```bash
# å®‰è£…xcode clt
xcode-select --install

# ç³»ç»Ÿè®¾ç½®
defaults write com.apple.AMPDevicesAgent.plist AutomaticDeviceBackupsDisabled -bool true
sudo pmset -c tcpkeepalive 0
sudo pmset -b powernap 0

# å®‰è£…brewï¼ˆå›½å†…ï¼‰
# ä»é˜¿é‡Œäº‘ä¸‹è½½å®‰è£…è„šæœ¬å¹¶å®‰è£… Homebrew 
git clone https://mirrors.aliyun.com/homebrew/install.git brew-install
sh brew-install/install.sh 
rm -rf brew-install 
# ä¹Ÿå¯ä» GitHub è·å–å®˜æ–¹å®‰è£…è„šæœ¬å®‰è£… Homebrew 
# /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"

# ä¸´æ—¶æ›¿æ¢homebrewæº
export HOMEBREW_INSTALL_FROM_API=1 
export HOMEBREW_API_DOMAIN="https://mirrors.aliyun.com/homebrew-bottles/api"
export HOMEBREW_BREW_GIT_REMOTE="https://mirrors.aliyun.com/homebrew/brew.git"
export HOMEBREW_CORE_GIT_REMOTE="https://mirrors.aliyun.com/homebrew/homebrew-core.git"
export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.aliyun.com/homebrew/homebrew-bottles"

brew update

# macOS ç°åœ¨é»˜è®¤æ˜¯zshäº†
# brew install zsh
# chsh -s $(which zsh)

# å®‰è£…ohmyzsh
sh -c "$(curl -fsSL https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)"

export ALL_PROXY=socks5://127.0.0.1:7897
# å®‰è£…ohmyzshæ’ä»¶
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
# ç„¶åå†åœ¨zshrcçš„plugä¸­å†™ä¸Šè¿™ä¿©çš„åå­—
unset ALL_PROXY


# zshrc åŠ å…¥homebrewçš„ç¯å¢ƒå˜é‡
echo 'export PATH=/opt/homebrew/bin:$PATH' >> ~/.zshrc

## ============ ä¸‹é¢è¿™äº›åŠ å…¥zshrc ============ ##

# Set homebrew mirror
# è‡ª brew 4.0.0 (2023 å¹´ 2 æœˆ 16 æ—¥) èµ·ï¼ŒHOMEBREW_INSTALL_FROM_API ä¼šæˆä¸ºé»˜è®¤è¡Œä¸ºï¼Œæ— éœ€è®¾ç½®ã€‚
# å¤§éƒ¨åˆ†ç”¨æˆ·æ— éœ€å†å…‹éš† homebrew-core ä»“åº“ï¼Œæ•…æ— éœ€è®¾ç½® HOMEBREW_CORE_GIT_REMOTE ç¯å¢ƒå˜é‡ï¼›
export HOMEBREW_INSTALL_FROM_API=1
export HOMEBREW_BREW_GIT_REMOTE="https://mirrors.ustc.edu.cn/brew.git"

export HOMEBREW_API_DOMAIN="https://mirrors.ustc.edu.cn/homebrew-bottles/api"
export HOMEBREW_BOTTLE_DOMAIN="https://mirrors.ustc.edu.cn/homebrew-bottles/"

export HOMEBREW_CORE_GIT_REMOTE="https://mirrors.ustc.edu.cn/homebrew-core.git"

## ============ ä¸Šé¢è¿™äº›åŠ å…¥zshrc ============ ##
source ~/.zshrc

# å®‰è£…å…¶ä»–å·¥å…·
brew install wget
brew install cmake
brew install tmux
brew install tree
brew install pandoc

brew install --cask docker
brew install kubernetes-cli
brew install --cask gcc-arm-embedded
brew install --cask monitorcontrol
brew install --cask mactex-no-gui
brew tap deskflow/homebrew-tap
brew install deskflow

brew install ffmpeg # ä¾èµ–å¤ªå¤šï¼ŒåæœŸç”¨å¯å®‰è£…
brew install openocd
# brew install qt # ä¾èµ–å¤ªå¤šï¼ŒåæœŸç”¨å¯å®‰è£…
# brew install rust
# brew install node # ä¾èµ–å¤ªå¤šï¼ŒåæœŸç”¨å¯å®‰è£…
# brew install docker # è¿™ä¸ªä¸æ˜¯è§learn-docker.md


# å®‰è£…pythonä¾èµ–ï¼ˆtcl-tké—®é¢˜@8?ï¼‰
brew install gdbm
brew install openssl@3
brew install xz
brew install sqlite
brew install tcl-tk

# å®‰è£…pythonè™šæ‹Ÿç¯å¢ƒ
brew install pyenv

# pyenv settings, è¿™äº›æ”¾åˆ°zshrcä¸­
echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.zshrc 
echo 'export PATH="$PYENV_ROOT/bin:$PATH" ' >> ~/.zshrc 
echo 'export PATH=$PYENV_ROOT/shims:$PATH' >> ~/.zshrc 
echo 'eval "$(pyenv init - zsh)"' >> ~/.zshrc 
source ~/.zshrc


# pyenvå®‰è£…python
pyenv install -l
pyenv install 3.12.11
pyenv versions
pyenv global 3.12.11

# è®¾ç½®pipå›½å†…ä»£ç†
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple/
pip config set install.trusted-host pypi.tuna.tsinghua.edu.cn

# è®¾ç½®gitè´¦å·å¯†ç https://docs.github.com/en/account-and-profile/how-tos/setting-up-and-managing-your-personal-account-on-github/managing-email-preferences/setting-your-commit-email-address#setting-your-commit-email-address-on-github

```

ä¸Šè¿°pipæºæŒ‡ä»¤ç­‰åŒäº---ä¸‹é¢å†…å®¹å†™å…¥è¯¥æ–‡ä»¶ï¼š`~/.config/pip/pip.conf`
```text
[global]
index-url = https://mirrors.aliyun.com/pypi/simple

[install]
trusted-host = mirrors.aliyun.com
```

# zx ubuntu æ–°æœºè®¾ç½®æµç¨‹

## init shell cmd

```bash
# æ¢æºï¼šhttps://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/
# æ¡Œé¢ç‰ˆæ¢æºå¯ä»¥ç›´æ¥åœ¨updateå¯è§†åŒ–å·¥å…·ä¸­é€‰æ‹©ï¼Œä¹Ÿå¯æŒ‰ç…§ä¸Šè¿°è¿æ¥æ“ä½œ
sudo apt update
sudo apt upgrade

# å®‰è£…é©±åŠ¨
sudo ubuntu-drivers autoinstall

# å®˜ç½‘ä¸‹è½½vscode & Linuxqq
sudo dpkg -i ****.deb

sudo apt install build-essential
sudo apt install -y git vim zsh curl wget ffmpeg tmux cmake tree net-tools pandoc nodejs npm
chsh -s $(which zsh)
# å®‰è£…ohmyzsh
sh -c "$(wget -O- https://gitee.com/mirrors/oh-my-zsh/raw/master/tools/install.sh)"

# å®‰è£…ohmyzshæ’ä»¶
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting
git clone https://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
# ç„¶åå†åœ¨zshrcçš„plugä¸­å†™ä¸Šè¿™ä¿©çš„åå­—

# å®‰è£…è¾“å…¥æ³•ï¼ˆå…ˆæ ¹æ®ä¸Šè¿°ç« èŠ‚ç¡®å®šå®‰è£…äº†ä¸­æ–‡ï¼‰
sudo apt install -y ibus-pinyin

# å®‰è£…pyenv&python
sudo apt install -y build-essential zlib1g-dev libncurses5-dev libgdbm-dev libnss3-dev libssl-dev libreadline-dev libffi-dev libbz2-dev liblzma-dev sqlite3 libsqlite3-dev tk-dev uuid-dev libgdbm-compat-dev

curl -fsSL https://pyenv.run | bash

  echo 'export PYENV_ROOT="$HOME/.pyenv"' >> ~/.zshrc
  echo '[[ -d $PYENV_ROOT/bin ]] && export PATH="$PYENV_ROOT/bin:$PATH"' >> ~/.zshrc
  echo 'eval "$(pyenv init - zsh)"' >> ~/.zshrc

pyenv install -l
pyenv install 3.11.11
pyenv versions
pyenv global 3.11.11

# è®¾ç½®pipå›½å†…ä»£ç†
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple/
pip config set install.trusted-host pypi.tuna.tsinghua.edu.cn

```